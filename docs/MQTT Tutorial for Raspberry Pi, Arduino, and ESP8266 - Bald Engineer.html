<!DOCTYPE html>
<html prefix="og: http://ogp.me/ns#" lang="en-US"><head>
<meta http-equiv="content-type" content="text/html; charset=UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=9"><meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>MQTT Tutorial for Raspberry Pi, Arduino, and ESP8266 - Bald Engineer</title><link rel="stylesheet" href="MQTT%20Tutorial%20for%20Raspberry%20Pi,%20Arduino,%20and%20ESP8266%20-%20Bald%20Engineer_files/be0b5b7c55f18dbf2f7e2faeba6c1144.css" data-minify="1"><link rel="profile" href="http://gmpg.org/xfn/11"><link rel="pingback" href="https://www.baldengineer.com/xmlrpc.php"> <!--[if lt IE 9]><script src="https://www.baldengineer.com/wp-content/themes/getnoticed/js/html5.js" type="text/javascript"></script><![endif]--><meta name="description" content="This week’s MQTT Tutorial connects a Raspberry Pi, ESP8266 (or Arduino), and a PC together. Remember last week’s post provided an overview of message broker"><link rel="canonical" href="MQTT%20Tutorial%20for%20Raspberry%20Pi,%20Arduino,%20and%20ESP8266%20-%20Bald%20Engineer_files/mqtt-tutorial.html"><meta property="og:locale" content="en_US"><meta property="og:type" content="article"><meta property="og:title" content="MQTT Tutorial for Raspberry Pi, Arduino, and ESP8266 - Bald Engineer"><meta property="og:description" content="This week’s MQTT Tutorial connects a Raspberry Pi, ESP8266 (or Arduino), and a PC together. Remember last week’s post provided an overview of message broker"><meta property="og:url" content="https://www.baldengineer.com/mqtt-tutorial.html"><meta property="og:site_name" content="Bald Engineer"><meta property="article:publisher" content="http://www.facebook.com/baldengineer"><meta property="article:author" content="baldengineer"><meta property="article:tag" content="Adafruit"><meta property="article:tag" content="arduino"><meta property="article:tag" content="ESP8266"><meta property="article:tag" content="MQTT"><meta property="article:tag" content="Raspberry Pi"><meta property="article:section" content="Arduino"><meta property="article:published_time" content="2016-02-24T16:00:45+00:00"><meta property="article:modified_time" content="2016-02-25T05:43:48+00:00"><meta property="og:updated_time" content="2016-02-25T05:43:48+00:00"><meta property="og:image" content="https://www.baldengineer.com/wp-content/uploads/2016/02/mqtt-tutorial-banner.jpg"><meta property="og:image:secure_url" content="https://www.baldengineer.com/wp-content/uploads/2016/02/mqtt-tutorial-banner.jpg"><meta property="og:image:width" content="760"><meta property="og:image:height" content="520"><meta property="og:image:alt" content="mqtt tutorial"><meta name="twitter:card" content="summary_large_image"><meta name="twitter:description" content="This week’s MQTT Tutorial connects a Raspberry Pi, ESP8266 (or Arduino), and a PC together. Remember last week’s post provided an overview of message broker"><meta name="twitter:title" content="MQTT Tutorial for Raspberry Pi, Arduino, and ESP8266 - Bald Engineer"><meta name="twitter:site" content="@baldengineer"><meta name="twitter:image" content="https://www.baldengineer.com/wp-content/uploads/2016/02/mqtt-tutorial-banner.jpg"><meta name="twitter:creator" content="@baldengineer"><link rel="dns-prefetch" href="https://s0.wp.com/"><link rel="dns-prefetch" href="https://secure.gravatar.com/"><link rel="dns-prefetch" href="https://a.optmnstr.com/"><link rel="dns-prefetch" href="https://s.w.org/"><link rel="alternate" type="application/rss+xml" title="Bald Engineer » Feed" href="https://www.baldengineer.com/feed"><link rel="alternate" type="application/rss+xml" title="Bald Engineer » Comments Feed" href="https://www.baldengineer.com/comments/feed"><link rel="alternate" type="application/rss+xml" title="Bald Engineer » MQTT Tutorial for Raspberry Pi, Arduino, and ESP8266 Comments Feed" href="https://www.baldengineer.com/mqtt-tutorial.html/feed"> <script type="text/javascript" async="" src="MQTT%20Tutorial%20for%20Raspberry%20Pi,%20Arduino,%20and%20ESP8266%20-%20Bald%20Engineer_files/cc.js"></script><script async="" src="MQTT%20Tutorial%20for%20Raspberry%20Pi,%20Arduino,%20and%20ESP8266%20-%20Bald%20Engineer_files/loader.js"></script><script async="" src="MQTT%20Tutorial%20for%20Raspberry%20Pi,%20Arduino,%20and%20ESP8266%20-%20Bald%20Engineer_files/analytics.js"></script><script async="" src="MQTT%20Tutorial%20for%20Raspberry%20Pi,%20Arduino,%20and%20ESP8266%20-%20Bald%20Engineer_files/analytics.js"></script><script type="text/javascript">window._wpemojiSettings = {"baseUrl":"https:\/\/s.w.org\/images\/core\/emoji\/11\/72x72\/","ext":".png","svgUrl":"https:\/\/s.w.org\/images\/core\/emoji\/11\/svg\/","svgExt":".svg","source":{"concatemoji":"https:\/\/www.baldengineer.com\/wp-includes\/js\/wp-emoji-release.min.js?ver=4.9.8"}};
			!function(a,b,c){function d(a,b){var c=String.fromCharCode;l.clearRect(0,0,k.width,k.height),l.fillText(c.apply(this,a),0,0);var d=k.toDataURL();l.clearRect(0,0,k.width,k.height),l.fillText(c.apply(this,b),0,0);var e=k.toDataURL();return d===e}function e(a){var b;if(!l||!l.fillText)return!1;switch(l.textBaseline="top",l.font="600 32px Arial",a){case"flag":return!(b=d([55356,56826,55356,56819],[55356,56826,8203,55356,56819]))&&(b=d([55356,57332,56128,56423,56128,56418,56128,56421,56128,56430,56128,56423,56128,56447],[55356,57332,8203,56128,56423,8203,56128,56418,8203,56128,56421,8203,56128,56430,8203,56128,56423,8203,56128,56447]),!b);case"emoji":return b=d([55358,56760,9792,65039],[55358,56760,8203,9792,65039]),!b}return!1}function f(a){var c=b.createElement("script");c.src=a,c.defer=c.type="text/javascript",b.getElementsByTagName("head")[0].appendChild(c)}var g,h,i,j,k=b.createElement("canvas"),l=k.getContext&&k.getContext("2d");for(j=Array("flag","emoji"),c.supports={everything:!0,everythingExceptFlag:!0},i=0;i<j.length;i++)c.supports[j[i]]=e(j[i]),c.supports.everything=c.supports.everything&&c.supports[j[i]],"flag"!==j[i]&&(c.supports.everythingExceptFlag=c.supports.everythingExceptFlag&&c.supports[j[i]]);c.supports.everythingExceptFlag=c.supports.everythingExceptFlag&&!c.supports.flag,c.DOMReady=!1,c.readyCallback=function(){c.DOMReady=!0},c.supports.everything||(h=function(){c.readyCallback()},b.addEventListener?(b.addEventListener("DOMContentLoaded",h,!1),a.addEventListener("load",h,!1)):(a.attachEvent("onload",h),b.attachEvent("onreadystatechange",function(){"complete"===b.readyState&&c.readyCallback()})),g=c.source||{},g.concatemoji?f(g.concatemoji):g.wpemoji&&g.twemoji&&(f(g.twemoji),f(g.wpemoji)))}(window,document,window._wpemojiSettings);</script><script src="MQTT%20Tutorial%20for%20Raspberry%20Pi,%20Arduino,%20and%20ESP8266%20-%20Bald%20Engineer_files/wp-emoji-release.js" type="text/javascript" defer="defer"></script> <style type="text/css">img.wp-smiley,img.emoji{display:inline!important;border:none!important;box-shadow:none!important;height:1em!important;width:1em!important;margin:0 .07em!important;vertical-align:-0.1em!important;background:none!important;padding:0!important}</style><link rel="stylesheet" id="print-css" href="MQTT%20Tutorial%20for%20Raspberry%20Pi,%20Arduino,%20and%20ESP8266%20-%20Bald%20Engineer_files/style-print.css" type="text/css" media="print"><style id="rocket-lazyload-inline-css" type="text/css">.rll-youtube-player{position:relative;padding-bottom:56.23%;height:0;overflow:hidden;max-width:100%;background:#000;margin:5px}.rll-youtube-player iframe{position:absolute;top:0;left:0;width:100%;height:100%;z-index:100;background:0 0}.rll-youtube-player img{bottom:0;display:block;left:0;margin:auto;max-width:100%;width:100%;position:absolute;right:0;top:0;border:none;height:auto;cursor:pointer;-webkit-transition:.4s all;-moz-transition:.4s all;transition:.4s all}.rll-youtube-player img:hover{-webkit-filter:brightness(75%)}.rll-youtube-player .play{height:72px;width:72px;left:50%;top:50%;margin-left:-36px;margin-top:-36px;position:absolute;background:url(https://www.baldengineer.com/wp-content/plugins/wp-rocket/inc/front/img/youtube.png) no-repeat;cursor:pointer}</style> <script type="text/javascript">/* <![CDATA[ */ var swiftypeParams = {"engineKey":"hbX8p1RQ3z12-8yW9zDy"}; /* ]]> */</script> <script type="text/javascript" src="MQTT%20Tutorial%20for%20Raspberry%20Pi,%20Arduino,%20and%20ESP8266%20-%20Bald%20Engineer_files/install_swiftype.js"></script> <script type="text/javascript" src="MQTT%20Tutorial%20for%20Raspberry%20Pi,%20Arduino,%20and%20ESP8266%20-%20Bald%20Engineer_files/jquery.js"></script> <script type="text/javascript" src="MQTT%20Tutorial%20for%20Raspberry%20Pi,%20Arduino,%20and%20ESP8266%20-%20Bald%20Engineer_files/jquery-migrate.js"></script> <script type="text/javascript" data-cfasync="false" id="omapi-script" async="async" src="MQTT%20Tutorial%20for%20Raspberry%20Pi,%20Arduino,%20and%20ESP8266%20-%20Bald%20Engineer_files/api.js"></script> <script type="text/javascript" src="MQTT%20Tutorial%20for%20Raspberry%20Pi,%20Arduino,%20and%20ESP8266%20-%20Bald%20Engineer_files/lightslider.js"></script> <script type="text/javascript" src="MQTT%20Tutorial%20for%20Raspberry%20Pi,%20Arduino,%20and%20ESP8266%20-%20Bald%20Engineer_files/swipebox.js"></script> <script type="text/javascript" src="MQTT%20Tutorial%20for%20Raspberry%20Pi,%20Arduino,%20and%20ESP8266%20-%20Bald%20Engineer_files/core.js"></script> <script type="text/javascript" src="MQTT%20Tutorial%20for%20Raspberry%20Pi,%20Arduino,%20and%20ESP8266%20-%20Bald%20Engineer_files/widget.js"></script> <script type="text/javascript" src="MQTT%20Tutorial%20for%20Raspberry%20Pi,%20Arduino,%20and%20ESP8266%20-%20Bald%20Engineer_files/position.js"></script> <script type="text/javascript" src="MQTT%20Tutorial%20for%20Raspberry%20Pi,%20Arduino,%20and%20ESP8266%20-%20Bald%20Engineer_files/tooltip.js"></script> <script type="text/javascript" src="MQTT%20Tutorial%20for%20Raspberry%20Pi,%20Arduino,%20and%20ESP8266%20-%20Bald%20Engineer_files/mouse.js"></script> <script type="text/javascript" src="MQTT%20Tutorial%20for%20Raspberry%20Pi,%20Arduino,%20and%20ESP8266%20-%20Bald%20Engineer_files/resizable.js"></script> <script type="text/javascript" src="MQTT%20Tutorial%20for%20Raspberry%20Pi,%20Arduino,%20and%20ESP8266%20-%20Bald%20Engineer_files/draggable.js"></script> <script type="text/javascript" src="MQTT%20Tutorial%20for%20Raspberry%20Pi,%20Arduino,%20and%20ESP8266%20-%20Bald%20Engineer_files/button.js"></script> <script type="text/javascript" src="MQTT%20Tutorial%20for%20Raspberry%20Pi,%20Arduino,%20and%20ESP8266%20-%20Bald%20Engineer_files/dialog.js"></script> <script type="text/javascript">/* <![CDATA[ */ var Photonic_JS = {"ajaxurl":"https:\/\/www.baldengineer.com\/wp-admin\/admin-ajax.php","plugin_url":"https:\/\/www.baldengineer.com\/wp-content\/plugins\/photonic\/","fbox_show_title":"1","fbox_title_position":"inside","slide_adjustment":"adapt-height-width","deep_linking":"no-history","social_media":"1","slideshow_library":"swipebox","tile_spacing":"2","tile_min_height":"200","masonry_min_width":"200","mosaic_trigger_width":"200","slideshow_mode":"","slideshow_interval":"5000","pphoto_theme":"pp_default","gallery_panel_width":"80","enable_swipebox_mobile_bars":"","lightbox_for_all":"","lightbox_for_videos":"","slideshow_autostart":"1","fb3_fullscreen":"","fb3_thumbs":"","password_failed":"This album is password-protected. Please provide a valid password.","incorrect_password":"Incorrect password.","maximize_panel":"Show","minimize_panel":"Hide"}; /* ]]> */</script> <script type="text/javascript" src="MQTT%20Tutorial%20for%20Raspberry%20Pi,%20Arduino,%20and%20ESP8266%20-%20Bald%20Engineer_files/photonic.js"></script> <link rel="https://api.w.org/" href="https://www.baldengineer.com/wp-json/"><link rel="EditURI" type="application/rsd+xml" title="RSD" href="https://www.baldengineer.com/xmlrpc.php?rsd"><link rel="wlwmanifest" type="application/wlwmanifest+xml" href="https://www.baldengineer.com/wp-includes/wlwmanifest.xml"><link rel="shortlink" href="https://wp.me/p3JLc4-1vx"><link rel="alternate" type="application/json+oembed" href="https://www.baldengineer.com/wp-json/oembed/1.0/embed?url=https%3A%2F%2Fwww.baldengineer.com%2Fmqtt-tutorial.html"><link rel="alternate" type="text/xml+oembed" href="https://www.baldengineer.com/wp-json/oembed/1.0/embed?url=https%3A%2F%2Fwww.baldengineer.com%2Fmqtt-tutorial.html&amp;format=xml"><style type="text/css" media="screen">.gbaldee{margin:0;padding:0;overflow:hidden;line-height:1;zoom:1}.gbaldee img{height:auto}.gbaldee-col{position:relative;float:left}.gbaldee-col:first-child{margin-left:0}.gbaldee-col:last-child{margin-right:0}.gbaldee-1{margin:0 auto}.gbaldee-8{margin:0 auto}.gbaldee-9{margin:0 auto}@media only screen and (max-width:480px){.gbaldee-col,.gbaldee-dyn,.gbaldee-single{width:100%;margin-left:0;margin-right:0}}.adrotate_widgets,.ajdg_bnnrwidgets,.ajdg_grpwidgets{overflow:hidden;padding:0}</style><link rel="dns-prefetch" href="https://v0.wordpress.com/"><link rel="dns-prefetch" href="https://jetpack.wordpress.com/"><link rel="dns-prefetch" href="https://s0.wp.com/"><link rel="dns-prefetch" href="https://s1.wp.com/"><link rel="dns-prefetch" href="https://s2.wp.com/"><link rel="dns-prefetch" href="https://public-api.wordpress.com/"><link rel="dns-prefetch" href="https://0.gravatar.com/"><link rel="dns-prefetch" href="https://1.gravatar.com/"><link rel="dns-prefetch" href="https://2.gravatar.com/"><style type="text/css">img#wpstats{display:none}</style><link rel="shortcut icon" href="https://www.baldengineer.com/wp-content/uploads/2015/08/be-favicon.ico"><link rel="author" href="https://plus.google.com/baldengineer/posts"><style type="text/css">.site-title,.site-description{position:absolute!important;clip:rect(1px 1px 1px 1px);clip:rect(1px,1px,1px,1px)}</style><link rel="amphtml" href="https://www.baldengineer.com/mqtt-tutorial.html/amp"><link rel="stylesheet" type="text/css" href="MQTT%20Tutorial%20for%20Raspberry%20Pi,%20Arduino,%20and%20ESP8266%20-%20Bald%20Engineer_files/shCore.css"><link rel="stylesheet" type="text/css" href="MQTT%20Tutorial%20for%20Raspberry%20Pi,%20Arduino,%20and%20ESP8266%20-%20Bald%20Engineer_files/shThemeRDark.css"><style type="text/css" id="syntaxhighlighteranchor"></style><style type="text/css">.photonic-flickr-stream .photonic-pad-photosets{margin:15px}.photonic-flickr-stream .photonic-pad-galleries{margin:15px}.photonic-flickr-stream .photonic-pad-photos{padding:5px 15px}.photonic-picasa-stream .photonic-pad-photos{padding:5px 15px}.photonic-picasa-stream img{border-top:none;border-right:none;border-bottom:none;border-left:none;padding:0 0 0 0}.photonic-panel .photonic-picasa-image img{border-top:none;border-right:none;border-bottom:none;border-left:none;padding:0 0 0 0}.photonic-google-stream .photonic-pad-photos{padding:5px 15px}.photonic-google-stream img{border-top:none;border-right:none;border-bottom:none;border-left:none;padding:0 0 0 0}.photonic-panel .photonic-google-image img{border-top:none;border-right:none;border-bottom:none;border-left:none;padding:0 0 0 0}.photonic-500px-stream .photonic-pad-photos{padding:5px 15px}.photonic-500px-stream img{border-top:none;border-right:none;border-bottom:none;border-left:none;padding:0 0 0 0}.photonic-zenfolio-stream .photonic-pad-photos{padding:5px 15px}.photonic-zenfolio-stream .photonic-pad-photosets{margin:5px 15px}.photonic-zenfolio-photo img{border-top:none;border-right:none;border-bottom:none;border-left:none;padding:0 0 0 0}.photonic-zenfolio-set-thumb img{border-top:none;border-right:none;border-bottom:none;border-left:none;padding:0 0 0 0}.photonic-instagram-stream .photonic-pad-photos{padding:5px 15px}.photonic-instagram-photo img{border-top:none;border-right:none;border-bottom:none;border-left:none;padding:0 0 0 0}.photonic-smug-stream .photonic-pad-albums{margin:15px}.photonic-smug-stream .photonic-pad-photos{padding:5px 15px}.photonic-smug-stream img{border-top:none;border-right:none;border-bottom:none;border-left:none;padding:0 0 0 0}.photonic-panel .photonic-smug-image img{border-top:none;border-right:none;border-bottom:none;border-left:none;padding:0 0 0 0}.photonic-panel{background:rgb(17,17,17)!important;border-top:none;border-right:none;border-bottom:none;border-left:none}.photonic-panel .photonic-flickr-image img{border-top:none;border-right:none;border-bottom:none;border-left:none;padding:0 0 0 0}.photonic-flickr-panel .photonic-pad-photos{padding:10px 15px;box-sizing:border-box}.photonic-picasa-panel .photonic-pad-photos{padding:10px 15px;box-sizing:border-box}.photonic-smug-panel .photonic-pad-photos{padding:10px 15px;box-sizing:border-box}.photonic-flickr-coll-thumb img{border-top:none;border-right:none;border-bottom:none;border-left:none;padding:0 0 0 0}.photonic-flickr-set .photonic-flickr-set-solo-thumb img{border-top:none;border-right:none;border-bottom:none;border-left:none;padding:0 0 0 0}.photonic-flickr-stream .photonic-flickr-photo img{border-top:none;border-right:none;border-bottom:none;border-left:none;padding:0 0 0 0}.photonic-flickr-set-thumb img{border-top:none;border-right:none;border-bottom:none;border-left:none;padding:0 0 0 0}.photonic-smug-album-thumb img{border-top:none;border-right:none;border-bottom:none;border-left:none;padding:0 0 0 0}.photonic-random-layout .photonic-tiled-photo{padding:2px}.photonic-masonry-layout .photonic-thumb{padding:2px}.photonic-mosaic-layout .photonic-thumb{padding:2px}.photonic-ie .photonic-masonry-layout .photonic-level-1,.photonic-ie .photonic-masonry-layout .photonic-level-2{width:200px}</style><style type="text/css" id="getnoticed_generated_styles">.site-header .site-title,.site-header .site-title a,#headernav .site-title,#headernav .site-title a{color:#3779b2}.site-header .site-description,#headernav .site-description{color:#666}body{background:#fff}#main{background:#fff}#main{border-color:#fff}.header-feature{background:#fff}a,a:visited{color:#ae6227}.widget_getnoticed_subscribe .submit,.widget_getnoticed_subscribe input[type="submit"]{background:#ae6227}a:hover,a:focus,a:active{color:#f68b1e}.primarybutton,.primarybutton:link,.primarybutton:visited,#secondary .primary .buybutton{background-color:#ae6227;background-image:-webkit-gradient(linear,left top,left bottom,from(#f68b1e),to(#ae6227));background-image:-webkit-linear-gradient(top,#f68b1e,#ae6227);background-image:-moz-linear-gradient(top,#f68b1e,#ae6227);background-image:-o-linear-gradient(top,#f68b1e,#ae6227);background-image:linear-gradient(to bottom,#f68b1e,#ae6227)}.primarybutton,.primarybutton:link,.primarybutton:visited,#secondary .primary .buybutton{border-color:#f68b1e}.primarybutton,.primarybutton:link,.primarybutton:visited,#secondary .primary .buybutton{color:#fff}.primarybutton:hover,#secondary .primary .buybutton:hover{background:#c1670d}.primarybutton:hover,#secondary .primary .buybutton:hover{border-color:#c1670d}.primarybutton:hover,#secondary .primary .buybutton:hover{color:#d8d8d8}.button,.nav-previous a,.nav-next a{background-color:#d2d4d6;background-image:-webkit-gradient(linear,left top,left bottom,from(#ffffff),to(#d2d4d6));background-image:-webkit-linear-gradient(top,#ffffff,#d2d4d6);background-image:-moz-linear-gradient(top,#ffffff,#d2d4d6);background-image:-o-linear-gradient(top,#ffffff,#d2d4d6);background-image:linear-gradient(to bottom,#ffffff,#d2d4d6)}.button,.nav-previous a,.nav-next a{border-color:#000}.button,.nav-previous a,.nav-next a,.button:active,.nav-previous a:active,.nav-next a:active,.button:link,.nav-previous a:link,.nav-next a:link,.button:visited,.nav-previous a:visited,.nav-next a:visited{color:#333}.button:hover,.nav-previous a:hover,.nav-next a:hover{background:#eee}.button:hover,.nav-previous a:hover,.nav-next a:hover{border-color:#aaa}.button:hover,.nav-previous a:hover,.nav-next a:hover{color:#333}#headernav,#ocsearch{background:#fff}#headernav,#ocsearch{background:transparent none}#headernav,#ocsearch{border-bottom-width:0}#headernav,#ocsearch{border-bottom-style:none}#headernav,#ocsearch{border-bottom-color:#d6d6d6}#headernav{-moz-box-shadow:none;-webkit-box-shadow:none;box-shadow:none}.mobile-title a{background-image:url(https://www.baldengineer.com/wp-content/uploads/2016/04/Baldengineer-with-James-v2-63px.png)}.mobile-title a{width:200.5px}.mobile-title a{background-size:auto 31.5px;height:0;padding-top:31.5px}.site-header .headshot{display:none}#headernav{font-family:'Helvetica Neue',Helvetica,Arial,sans-serif;font-size:.75em;line-height:1.5em;font-weight:700;font-style:normal;text-transform:none}#headernav,#headernav a{color:#2e2e2e}#primary-menu a:hover,#primary-menu li:hover a{background:#fff}#primary-menu a:hover,#primary-menu li:hover a{background:transparent none}#primary-menu a:hover,#primary-menu li:hover a{color:#ae6227}#primary-menu li .sub-menu li a{background:#fff}#primary-menu li li a{color:#000}#primary-menu li li a:hover{background:#f5f5f5}#primary-menu li li a:hover{color:#000}#splash{margin-bottom:0}.header-feature{margin-top:0}#categories-menu li{margin-left:1em}#top_search #s{-moz-border-radius:0;-webkit-border-radius:0;border-radius:0}#categories-menu a{background:#FFF}#categories-menu a{color:#333}#categories-menu a{text-shadow:none}#categories-menu a,#categories-menu li:first-child a{border-width:1px}#categories-menu a{border-style:solid}#categories-menu a{border-color:#aaa}#categories-menu a{-moz-border-radius:0;-webkit-border-radius:0;border-radius:0}#categories-menu a:hover{background-color:#AAACAE;background-image:-webkit-gradient(linear,left top,left bottom,from(#828282),to(#AAACAE));background-image:-webkit-linear-gradient(top,#828282,#AAACAE);background-image:-moz-linear-gradient(top,#828282,#AAACAE);background-image:-o-linear-gradient(top,#828282,#AAACAE);background-image:linear-gradient(to bottom,#828282,#AAACAE)}#categories-menu a:hover{border-color:#aaa}#categories-menu a:hover{color:#333}#categories-menu a:hover{text-shadow:none}#categories-menu .current-menu-item a{background:#66a5d9}#categories-menu .current-menu-item a{color:#eee}#categories-menu .current-menu-item a{border-color:#aaa}#categories-menu .current-menu-item a,#categories-menu .current-menu-item a:hover{text-shadow:1px 1px 0 #000}.hentry,.post-type-archive .page-header,#comments,#comments-policy,#disqus_thread,#livefyre-comments{background:#fff}.entry-footer .up i{border-bottom-color:#fff}.author .author-info,#comments-policy p{background:#eaeaea}.hentry,.post-type-archive .page-header,.author .author-info,#comments,#comments-policy,#disqus_thread,#fbSEOComments,#livefyre-comments{border-color:#bbb}.custom-post .entry-content{border-top-color:#bbb}.entry-footer .up{border-bottom-color:#bbb}#main,.entry-header .byline{font-family:'Helvetica Neue',Helvetica,Arial,sans-serif;font-size:1.1em;line-height:1.4em;font-weight:400;font-style:normal;text-transform:none}.dropcap,#main,.podcastArchive th{color:#606060}.hentry .entry-header .entry-date,.hentry .entry-footer{color:#666}.hentry,.post-type-archive .page-header,.author .author-info{-moz-border-radius:0;-webkit-border-radius:0;border-radius:0}.custom-post .entry-summary{background:#fff}.custom-post .entry-summary:before{color:#1e415b}.custom-post .entry-summary,.author .author-info,#comments-policy p{color:#474747}.site-header .site-title,.page h1,.post h1,.page-header h1{font-family:'Helvetica Neue',Helvetica,Arial,sans-serif;font-size:1.875em;line-height:1.25em;font-weight:400;font-style:normal;text-transform:none}.page-header,.page h1,.page h1 a,.post h1,.post h1 a,.page-header h1,.page-header h1 a{color:#3779b2}.hentry .entry-header h3.getnoticed-entry-subtitle{font-family:'Helvetica Neue',Helvetica,Arial,sans-serif;font-size:1.3em;line-height:1.2em;font-weight:400;font-style:italic;text-transform:none}.hentry .entry-header h3.getnoticed-entry-subtitle{color:#ae6227}.hentry h2{font-family:'Helvetica Neue',Helvetica,Arial,sans-serif;font-size:1.5em;line-height:1.5em;font-weight:400;font-style:normal;text-transform:none}.hentry h2,.hentry h2 a{color:#3c92d8}.hentry h3,#dsq-content h3{font-family:'Helvetica Neue',Helvetica,Arial,sans-serif;font-size:1.25em;line-height:1.25em;font-weight:400;font-style:normal;text-transform:none}.hentry h3,.hentry h3 a,#dsq-content h3,.comment-reminder{color:#66a5d9}.hentry h4{font-family:'Helvetica Neue',Helvetica,Arial,sans-serif;font-size:1em;line-height:1em;font-weight:700;font-style:normal;text-transform:none}.hentry h4,.hentry h4 a{color:#69b0e0}.sharebar{background:#eee}.sharebar .button{background:#FFF}.sharebar .button{box-shadow:none}.sharebar .count{line-height:20px}.sharebar .button{color:#272727}.authorbox{background:#eee}.authorbox{border-width:1px}.authorbox{border-style:solid}.authorbox{border-color:#bbb}.authorbox{-moz-border-radius:0;-webkit-border-radius:0;border-radius:0}.authorbox{font-family:Georgia,Times,'Times New Roman',serif;font-size:.8em;line-height:1.86em;font-weight:400;font-style:normal;text-transform:none}.getnoticed_shareable{background:#FFF}.getnoticed_shareable .actions{background:#EEE}.getnoticed_shareable{border-width:1px}.getnoticed_shareable .actions{border-top-width:1px}.getnoticed_shareable{border-style:solid}.getnoticed_shareable .actions{border-top-style:solid}.getnoticed_shareable,.getnoticed_shareable .actions{border-color:#BBB}.getnoticed_shareable{-moz-border-radius:0;-webkit-border-radius:0;border-radius:0}.getnoticed_shareable blockquote{font-family:Georgia,Times,'Times New Roman',serif;font-size:1.7em;line-height:1.3em;font-weight:400;font-style:normal;text-transform:none}.getnoticed_shareable blockquote{color:#000}.getnoticed_shareable cite{font-family:Georgia,Times,'Times New Roman',serif;font-size:1em;line-height:1.6em;font-weight:400;font-style:normal;text-transform:none}.getnoticed_shareable cite{color:#000}.sidebar .widget{background:#fff}.sidebar .widget{border-width:1px}.sidebar .widget{border-style:solid}.sidebar .widget{border-color:#bbb}.sidebar .widget,#secondary .widget_reachWidget,#secondary .widget_getnoticed_reachcounter,#secondary .widget_getnoticed_sociallist a,#secondary .widget_sociallist i,#s{-moz-border-radius:0;-webkit-border-radius:0;border-radius:0}.sidebar .widget,#secondary .widget_getnoticed_sociallist a,#s{-moz-box-shadow:none;-webkit-box-shadow:none;box-shadow:none}.sidebar .widget h3,.widget_getnoticed_reachcounter .count{font-family:'Helvetica Neue',Helvetica,Arial,sans-serif;font-size:1.125em;line-height:1.333em;font-weight:700;font-style:normal;text-transform:none}.sidebar .widget h3{color:#3779b2}.widget_getnoticed_reachcounter,.widget_getnoticed_reachcounter .count{color:#3779b2}.sidebar .widget h3{background:#fff}.sidebar .widget_getnoticed_reachcounter,.widget_getnoticed_reachcounter .count{background:#fff}.sidebar .widget{font-family:Georgia,Times,'Times New Roman',serif;font-size:1em;line-height:1.36em;font-weight:400;font-style:normal;text-transform:none}.sidebar .widget{color:#272727}.site-footer{background:#eee}.site-footer{color:#404040}.site-footer a,.site-footer a:visited{color:#ae6227}.site-footer a:hover{color:#f68b1e}.site-credits{color:#666}.site-credits a,.site-credits a:visited{color:#aaa}#headernav .innerwrap,.wrap{margin:0 auto;max-width:1600px;width:96%}#headernav .menu li:first-child{border-left:none}#headernav .menu li{border-left:1px solid #AAA;padding:0 14px}.hentry h2{margin-top:1.25em;margin-bottom:.25em}#dsq-content h3,.hentry h3{margin-top:1.25em;margin-bottom:.25em}.hentry h4{margin-top:1.1em;margin-bottom:.25em}.hentry ol li{margin-bottom:.25em}hentry ul li{margin-bottom:.25em}p{margin-bottom:1em}</style><link rel="icon" href="https://www.baldengineer.com/wp-content/uploads/2015/09/cropped-Fav-Icon-No-Icon-01-32x32.png" sizes="32x32"><link rel="icon" href="https://www.baldengineer.com/wp-content/uploads/2015/09/cropped-Fav-Icon-No-Icon-01-192x192.png" sizes="192x192"><link rel="apple-touch-icon-precomposed" href="https://www.baldengineer.com/wp-content/uploads/2015/09/cropped-Fav-Icon-No-Icon-01-180x180.png"><meta name="msapplication-TileImage" content="https://www.baldengineer.com/wp-content/uploads/2015/09/cropped-Fav-Icon-No-Icon-01-270x270.png"> <script>(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
	(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
	m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
  ga('create', 'UA-42726312-1', 'auto');
  ga('send', 'pageview');</script> <style type="text/css" id="wp-custom-css">#headernav .menu li{border-left:1px solid #FFF;padding:0 14px}</style> <script>(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)})(window,document,'script','//www.google-analytics.com/analytics.js','ga');
ga('create', 'UA-42726312-1', 'auto');
ga('require', 'linkid', 'linkid.js' );ga('require', 'displayfeatures' );ga('send', 'pageview');</script> <!--[if lt IE 9]><link rel="stylesheet" href="https://www.baldengineer.com/wp-content/themes/getnoticed/css/style-ie8.css" type="text/css" charset="utf-8" /><![endif]--><link rel="stylesheet" type="text/css" id="gravatar-card-css" href="MQTT%20Tutorial%20for%20Raspberry%20Pi,%20Arduino,%20and%20ESP8266%20-%20Bald%20Engineer_files/hovercard.css"><link rel="stylesheet" type="text/css" id="gravatar-card-services-css" href="MQTT%20Tutorial%20for%20Raspberry%20Pi,%20Arduino,%20and%20ESP8266%20-%20Bald%20Engineer_files/services.css"><style data-olark="true" type="text/css">.olark-key,#hbl_code,#olark-data{display: none !important;}</style><style type="text/css">@-webkit-keyframes bounce{0%,20%,50%,80%,to{-webkit-transform:translateY(0);transform:translateY(0)}40%{-webkit-transform:translateY(-30px);transform:translateY(-30px)}60%{-webkit-transform:translateY(-15px);transform:translateY(-15px)}}@keyframes bounce{0%,20%,50%,80%,to{-webkit-transform:translateY(0);-ms-transform:translateY(0);transform:translateY(0)}40%{-webkit-transform:translateY(-30px);-ms-transform:translateY(-30px);transform:translateY(-30px)}60%{-webkit-transform:translateY(-15px);-ms-transform:translateY(-15px);transform:translateY(-15px)}}.om-animation-bounce{-webkit-animation-duration:1s;animation-duration:1s;-webkit-animation-fill-mode:both;animation-fill-mode:both;-webkit-animation-name:bounce;animation-name:bounce}@-webkit-keyframes bounceIn{0%{opacity:0;-webkit-transform:scale(.3);transform:scale(.3)}50%{opacity:1;-webkit-transform:scale(1.05);transform:scale(1.05)}70%{-webkit-transform:scale(.9);transform:scale(.9)}to{opacity:1;-webkit-transform:scale(1);transform:scale(1)}}@keyframes bounceIn{0%{opacity:0;-webkit-transform:scale(.3);-ms-transform:scale(.3);transform:scale(.3)}50%{opacity:1;-webkit-transform:scale(1.05);-ms-transform:scale(1.05);transform:scale(1.05)}70%{-webkit-transform:scale(.9);-ms-transform:scale(.9);transform:scale(.9)}to{opacity:1;-webkit-transform:scale(1);-ms-transform:scale(1);transform:scale(1)}}.om-animation-bounce-in{-webkit-animation-duration:1s;animation-duration:1s;-webkit-animation-name:bounceIn;animation-name:bounceIn}@-webkit-keyframes bounceInDown{0%{opacity:0;-webkit-transform:translateY(-2000px);transform:translateY(-2000px)}60%{opacity:1;-webkit-transform:translateY(30px);transform:translateY(30px)}80%{-webkit-transform:translateY(-10px);transform:translateY(-10px)}to{-webkit-transform:translateY(0);transform:translateY(0)}}@keyframes bounceInDown{0%{opacity:0;-webkit-transform:translateY(-2000px);-ms-transform:translateY(-2000px);transform:translateY(-2000px)}60%{opacity:1;-webkit-transform:translateY(30px);-ms-transform:translateY(30px);transform:translateY(30px)}80%{-webkit-transform:translateY(-10px);-ms-transform:translateY(-10px);transform:translateY(-10px)}to{-webkit-transform:translateY(0);-ms-transform:translateY(0);transform:translateY(0)}}.om-animation-bounce-in-down{-webkit-animation-duration:1s;animation-duration:1s;-webkit-animation-name:bounceInDown;animation-name:bounceInDown}@-webkit-keyframes bounceInLeft{0%{opacity:0;-webkit-transform:translateX(-2000px);transform:translateX(-2000px)}60%{opacity:1;-webkit-transform:translateX(30px);transform:translateX(30px)}80%{-webkit-transform:translateX(-10px);transform:translateX(-10px)}to{-webkit-transform:translateX(0);transform:translateX(0)}}@keyframes bounceInLeft{0%{opacity:0;-webkit-transform:translateX(-2000px);-ms-transform:translateX(-2000px);transform:translateX(-2000px)}60%{opacity:1;-webkit-transform:translateX(30px);-ms-transform:translateX(30px);transform:translateX(30px)}80%{-webkit-transform:translateX(-10px);-ms-transform:translateX(-10px);transform:translateX(-10px)}to{-webkit-transform:translateX(0);-ms-transform:translateX(0);transform:translateX(0)}}.om-animation-bounce-in-left{-webkit-animation-duration:1s;animation-duration:1s;-webkit-animation-name:bounceInLeft;animation-name:bounceInLeft}@-webkit-keyframes bounceInRight{0%{opacity:0;-webkit-transform:translateX(2000px);transform:translateX(2000px)}60%{opacity:1;-webkit-transform:translateX(-30px);transform:translateX(-30px)}80%{-webkit-transform:translateX(10px);transform:translateX(10px)}to{-webkit-transform:translateX(0);transform:translateX(0)}}@keyframes bounceInRight{0%{opacity:0;-webkit-transform:translateX(2000px);-ms-transform:translateX(2000px);transform:translateX(2000px)}60%{opacity:1;-webkit-transform:translateX(-30px);-ms-transform:translateX(-30px);transform:translateX(-30px)}80%{-webkit-transform:translateX(10px);-ms-transform:translateX(10px);transform:translateX(10px)}to{-webkit-transform:translateX(0);-ms-transform:translateX(0);transform:translateX(0)}}.om-animation-bounce-in-right{-webkit-animation-duration:1s;animation-duration:1s;-webkit-animation-name:bounceInRight;animation-name:bounceInRight}@-webkit-keyframes bounceInUp{0%{opacity:0;-webkit-transform:translateY(2000px);transform:translateY(2000px)}60%{opacity:1;-webkit-transform:translateY(-30px);transform:translateY(-30px)}80%{-webkit-transform:translateY(10px);transform:translateY(10px)}to{-webkit-transform:translateY(0);transform:translateY(0)}}@keyframes bounceInUp{0%{opacity:0;-webkit-transform:translateY(2000px);-ms-transform:translateY(2000px);transform:translateY(2000px)}60%{opacity:1;-webkit-transform:translateY(-30px);-ms-transform:translateY(-30px);transform:translateY(-30px)}80%{-webkit-transform:translateY(10px);-ms-transform:translateY(10px);transform:translateY(10px)}to{-webkit-transform:translateY(0);-ms-transform:translateY(0);transform:translateY(0)}}.om-animation-bounce-in-up{-webkit-animation-duration:1s;animation-duration:1s;-webkit-animation-name:bounceInUp;animation-name:bounceInUp}@-webkit-keyframes flash{0%,50%,to{opacity:1}25%,75%{opacity:0}}@keyframes flash{0%,50%,to{opacity:1}25%,75%{opacity:0}}.om-animation-flash{-webkit-animation-duration:1s;animation-duration:1s;-webkit-animation-fill-mode:both;animation-fill-mode:both;-webkit-animation-name:flash;animation-name:flash}@-webkit-keyframes flip{0%{-webkit-transform:perspective(800px) translateZ(0) rotateY(0) scale(1);transform:perspective(800px) translateZ(0) rotateY(0) scale(1);-webkit-animation-timing-function:ease-out;animation-timing-function:ease-out}40%{-webkit-transform:perspective(800px) translateZ(150px) rotateY(170deg) scale(1);transform:perspective(800px) translateZ(150px) rotateY(170deg) scale(1);-webkit-animation-timing-function:ease-out;animation-timing-function:ease-out}50%{-webkit-transform:perspective(800px) translateZ(150px) rotateY(190deg) scale(1);transform:perspective(800px) translateZ(150px) rotateY(190deg) scale(1);-webkit-animation-timing-function:ease-in;animation-timing-function:ease-in}80%{-webkit-transform:perspective(800px) translateZ(0) rotateY(1turn) scale(.95);transform:perspective(800px) translateZ(0) rotateY(1turn) scale(.95);-webkit-animation-timing-function:ease-in;animation-timing-function:ease-in}to{-webkit-transform:perspective(800px) translateZ(0) rotateY(1turn) scale(1);transform:perspective(800px) translateZ(0) rotateY(1turn) scale(1);-webkit-animation-timing-function:ease-in;animation-timing-function:ease-in}}@keyframes flip{0%{-webkit-transform:perspective(800px) translateZ(0) rotateY(0) scale(1);-ms-transform:perspective(800px) translateZ(0) rotateY(0) scale(1);transform:perspective(800px) translateZ(0) rotateY(0) scale(1);-webkit-animation-timing-function:ease-out;animation-timing-function:ease-out}40%{-webkit-transform:perspective(800px) translateZ(150px) rotateY(170deg) scale(1);-ms-transform:perspective(800px) translateZ(150px) rotateY(170deg) scale(1);transform:perspective(800px) translateZ(150px) rotateY(170deg) scale(1);-webkit-animation-timing-function:ease-out;animation-timing-function:ease-out}50%{-webkit-transform:perspective(800px) translateZ(150px) rotateY(190deg) scale(1);-ms-transform:perspective(800px) translateZ(150px) rotateY(190deg) scale(1);transform:perspective(800px) translateZ(150px) rotateY(190deg) scale(1);-webkit-animation-timing-function:ease-in;animation-timing-function:ease-in}80%{-webkit-transform:perspective(800px) translateZ(0) rotateY(1turn) scale(.95);-ms-transform:perspective(800px) translateZ(0) rotateY(1turn) scale(.95);transform:perspective(800px) translateZ(0) rotateY(1turn) scale(.95);-webkit-animation-timing-function:ease-in;animation-timing-function:ease-in}to{-webkit-transform:perspective(800px) translateZ(0) rotateY(1turn) scale(1);-ms-transform:perspective(800px) translateZ(0) rotateY(1turn) scale(1);transform:perspective(800px) translateZ(0) rotateY(1turn) scale(1);-webkit-animation-timing-function:ease-in;animation-timing-function:ease-in}}.om-animation-flip{-webkit-animation-duration:1s;animation-duration:1s;-webkit-backface-visibility:visible;-ms-backface-visibility:visible;backface-visibility:visible;-webkit-animation-name:flip;animation-name:flip}@-webkit-keyframes flipInX{0%{-webkit-transform:perspective(800px) rotateX(90deg);transform:perspective(800px) rotateX(90deg);opacity:0}40%{-webkit-transform:perspective(800px) rotateX(-10deg);transform:perspective(800px) rotateX(-10deg)}70%{-webkit-transform:perspective(800px) rotateX(10deg);transform:perspective(800px) rotateX(10deg)}to{-webkit-transform:perspective(800px) rotateX(0deg);transform:perspective(800px) rotateX(0deg);opacity:1}}@keyframes flipInX{0%{-webkit-transform:perspective(800px) rotateX(90deg);-ms-transform:perspective(800px) rotateX(90deg);transform:perspective(800px) rotateX(90deg);opacity:0}40%{-webkit-transform:perspective(800px) rotateX(-10deg);-ms-transform:perspective(800px) rotateX(-10deg);transform:perspective(800px) rotateX(-10deg)}70%{-webkit-transform:perspective(800px) rotateX(10deg);-ms-transform:perspective(800px) rotateX(10deg);transform:perspective(800px) rotateX(10deg)}to{-webkit-transform:perspective(800px) rotateX(0deg);-ms-transform:perspective(800px) rotateX(0deg);transform:perspective(800px) rotateX(0deg);opacity:1}}.om-animation-flip-down{-webkit-animation-duration:1s;animation-duration:1s;-webkit-backface-visibility:visible;-ms-backface-visibility:visible;backface-visibility:visible;-webkit-animation-name:flipInX;animation-name:flipInX}@-webkit-keyframes flipInY{0%{-webkit-transform:perspective(800px) rotateY(90deg);transform:perspective(800px) rotateY(90deg);opacity:0}40%{-webkit-transform:perspective(800px) rotateY(-10deg);transform:perspective(800px) rotateY(-10deg)}70%{-webkit-transform:perspective(800px) rotateY(10deg);transform:perspective(800px) rotateY(10deg)}to{-webkit-transform:perspective(800px) rotateY(0deg);transform:perspective(800px) rotateY(0deg);opacity:1}}@keyframes flipInY{0%{-webkit-transform:perspective(800px) rotateY(90deg);-ms-transform:perspective(800px) rotateY(90deg);transform:perspective(800px) rotateY(90deg);opacity:0}40%{-webkit-transform:perspective(800px) rotateY(-10deg);-ms-transform:perspective(800px) rotateY(-10deg);transform:perspective(800px) rotateY(-10deg)}70%{-webkit-transform:perspective(800px) rotateY(10deg);-ms-transform:perspective(800px) rotateY(10deg);transform:perspective(800px) rotateY(10deg)}to{-webkit-transform:perspective(800px) rotateY(0deg);-ms-transform:perspective(800px) rotateY(0deg);transform:perspective(800px) rotateY(0deg);opacity:1}}.om-animation-flip-side{-webkit-animation-duration:1s;animation-duration:1s;-webkit-backface-visibility:visible;-ms-backface-visibility:visible;backface-visibility:visible;-webkit-animation-name:flipInY;animation-name:flipInY}@-webkit-keyframes lightSpeedIn{0%{-webkit-transform:translateX(100%) skewX(-30deg);transform:translateX(100%) skewX(-30deg);opacity:0}60%{-webkit-transform:translateX(-20%) skewX(30deg);transform:translateX(-20%) skewX(30deg);opacity:1}80%{-webkit-transform:translateX(0) skewX(-15deg);transform:translateX(0) skewX(-15deg);opacity:1}to{-webkit-transform:translateX(0) skewX(0deg);transform:translateX(0) skewX(0deg);opacity:1}}@keyframes lightSpeedIn{0%{-webkit-transform:translateX(100%) skewX(-30deg);-ms-transform:translateX(100%) skewX(-30deg);transform:translateX(100%) skewX(-30deg);opacity:0}60%{-webkit-transform:translateX(-20%) skewX(30deg);-ms-transform:translateX(-20%) skewX(30deg);transform:translateX(-20%) skewX(30deg);opacity:1}80%{-webkit-transform:translateX(0) skewX(-15deg);-ms-transform:translateX(0) skewX(-15deg);transform:translateX(0) skewX(-15deg);opacity:1}to{-webkit-transform:translateX(0) skewX(0deg);-ms-transform:translateX(0) skewX(0deg);transform:translateX(0) skewX(0deg);opacity:1}}.om-animation-light-speed{-webkit-animation-duration:1s;animation-duration:1s;-webkit-animation-name:lightSpeedIn;animation-name:lightSpeedIn;-webkit-animation-timing-function:ease-out;animation-timing-function:ease-out}@-webkit-keyframes pulse{0%{-webkit-transform:scale(1);transform:scale(1)}50%{-webkit-transform:scale(1.1);transform:scale(1.1)}to{-webkit-transform:scale(1);transform:scale(1)}}@keyframes pulse{0%{-webkit-transform:scale(1);-ms-transform:scale(1);transform:scale(1)}50%{-webkit-transform:scale(1.1);-ms-transform:scale(1.1);transform:scale(1.1)}to{-webkit-transform:scale(1);-ms-transform:scale(1);transform:scale(1)}}.om-animation-pulse{-webkit-animation-duration:1s;animation-duration:1s;-webkit-animation-fill-mode:both;animation-fill-mode:both;-webkit-animation-name:pulse;animation-name:pulse}@-webkit-keyframes rollIn{0%{opacity:0;-webkit-transform:translateX(-100%) rotate(-120deg);transform:translateX(-100%) rotate(-120deg)}to{opacity:1;-webkit-transform:translateX(0) rotate(0deg);transform:translateX(0) rotate(0deg)}}@keyframes rollIn{0%{opacity:0;-webkit-transform:translateX(-100%) rotate(-120deg);-ms-transform:translateX(-100%) rotate(-120deg);transform:translateX(-100%) rotate(-120deg)}to{opacity:1;-webkit-transform:translateX(0) rotate(0deg);-ms-transform:translateX(0) rotate(0deg);transform:translateX(0) rotate(0deg)}}.om-animation-roll-in{-webkit-animation-duration:1s;animation-duration:1s;-webkit-animation-name:rollIn;animation-name:rollIn}@-webkit-keyframes rotateIn{0%{-webkit-transform-origin:center center;transform-origin:center center;-webkit-transform:rotate(-200deg);transform:rotate(-200deg);opacity:0}to{-webkit-transform-origin:center center;transform-origin:center center;-webkit-transform:rotate(0);transform:rotate(0);opacity:1}}@keyframes rotateIn{0%{-webkit-transform-origin:center center;-ms-transform-origin:center center;transform-origin:center center;-webkit-transform:rotate(-200deg);-ms-transform:rotate(-200deg);transform:rotate(-200deg);opacity:0}to{-webkit-transform-origin:center center;-ms-transform-origin:center center;transform-origin:center center;-webkit-transform:rotate(0);-ms-transform:rotate(0);transform:rotate(0);opacity:1}}.om-animation-rotate{-webkit-animation-duration:1s;animation-duration:1s;-webkit-animation-name:rotateIn;animation-name:rotateIn}@-webkit-keyframes rotateInDownLeft{0%{-webkit-transform-origin:left bottom;transform-origin:left bottom;-webkit-transform:rotate(-90deg);transform:rotate(-90deg);opacity:0}to{-webkit-transform-origin:left bottom;transform-origin:left bottom;-webkit-transform:rotate(0);transform:rotate(0);opacity:1}}@keyframes rotateInDownLeft{0%{-webkit-transform-origin:left bottom;-ms-transform-origin:left bottom;transform-origin:left bottom;-webkit-transform:rotate(-90deg);-ms-transform:rotate(-90deg);transform:rotate(-90deg);opacity:0}to{-webkit-transform-origin:left bottom;-ms-transform-origin:left bottom;transform-origin:left bottom;-webkit-transform:rotate(0);-ms-transform:rotate(0);transform:rotate(0);opacity:1}}.om-animation-rotate-down-left{-webkit-animation-duration:1s;animation-duration:1s;-webkit-animation-name:rotateInDownLeft;animation-name:rotateInDownLeft}@-webkit-keyframes rotateInDownRight{0%{-webkit-transform-origin:right bottom;transform-origin:right bottom;-webkit-transform:rotate(90deg);transform:rotate(90deg);opacity:0}to{-webkit-transform-origin:right bottom;transform-origin:right bottom;-webkit-transform:rotate(0);transform:rotate(0);opacity:1}}@keyframes rotateInDownRight{0%{-webkit-transform-origin:right bottom;-ms-transform-origin:right bottom;transform-origin:right bottom;-webkit-transform:rotate(90deg);-ms-transform:rotate(90deg);transform:rotate(90deg);opacity:0}to{-webkit-transform-origin:right bottom;-ms-transform-origin:right bottom;transform-origin:right bottom;-webkit-transform:rotate(0);-ms-transform:rotate(0);transform:rotate(0);opacity:1}}.om-animation-rotate-down-right{-webkit-animation-duration:1s;animation-duration:1s;-webkit-animation-name:rotateInDownRight;animation-name:rotateInDownRight}@-webkit-keyframes rotateInUpLeft{0%{-webkit-transform-origin:left bottom;transform-origin:left bottom;-webkit-transform:rotate(90deg);transform:rotate(90deg);opacity:0}to{-webkit-transform-origin:left bottom;transform-origin:left bottom;-webkit-transform:rotate(0);transform:rotate(0);opacity:1}}@keyframes rotateInUpLeft{0%{-webkit-transform-origin:left bottom;-ms-transform-origin:left bottom;transform-origin:left bottom;-webkit-transform:rotate(90deg);-ms-transform:rotate(90deg);transform:rotate(90deg);opacity:0}to{-webkit-transform-origin:left bottom;-ms-transform-origin:left bottom;transform-origin:left bottom;-webkit-transform:rotate(0);-ms-transform:rotate(0);transform:rotate(0);opacity:1}}.om-animation-rotate-up-left{-webkit-animation-duration:1s;animation-duration:1s;-webkit-animation-name:rotateInUpLeft;animation-name:rotateInUpLeft}@-webkit-keyframes rotateInUpRight{0%{-webkit-transform-origin:right bottom;transform-origin:right bottom;-webkit-transform:rotate(-90deg);transform:rotate(-90deg);opacity:0}to{-webkit-transform-origin:right bottom;transform-origin:right bottom;-webkit-transform:rotate(0);transform:rotate(0);opacity:1}}@keyframes rotateInUpRight{0%{-webkit-transform-origin:right bottom;-ms-transform-origin:right bottom;transform-origin:right bottom;-webkit-transform:rotate(-90deg);-ms-transform:rotate(-90deg);transform:rotate(-90deg);opacity:0}to{-webkit-transform-origin:right bottom;-ms-transform-origin:right bottom;transform-origin:right bottom;-webkit-transform:rotate(0);-ms-transform:rotate(0);transform:rotate(0);opacity:1}}.om-animation-rotate-up-right{-webkit-animation-duration:1s;animation-duration:1s;-webkit-animation-name:rotateInUpRight;animation-name:rotateInUpRight}@-webkit-keyframes rubberBand{0%{-webkit-transform:scale(1);transform:scale(1)}30%{-webkit-transform:scaleX(1.25) scaleY(.75);transform:scaleX(1.25) scaleY(.75)}40%{-webkit-transform:scaleX(.75) scaleY(1.25);transform:scaleX(.75) scaleY(1.25)}60%{-webkit-transform:scaleX(1.15) scaleY(.85);transform:scaleX(1.15) scaleY(.85)}to{-webkit-transform:scale(1);transform:scale(1)}}@keyframes rubberBand{0%{-webkit-transform:scale(1);-ms-transform:scale(1);transform:scale(1)}30%{-webkit-transform:scaleX(1.25) scaleY(.75);-ms-transform:scaleX(1.25) scaleY(.75);transform:scaleX(1.25) scaleY(.75)}40%{-webkit-transform:scaleX(.75) scaleY(1.25);-ms-transform:scaleX(.75) scaleY(1.25);transform:scaleX(.75) scaleY(1.25)}60%{-webkit-transform:scaleX(1.15) scaleY(.85);-ms-transform:scaleX(1.15) scaleY(.85);transform:scaleX(1.15) scaleY(.85)}to{-webkit-transform:scale(1);-ms-transform:scale(1);transform:scale(1)}}.om-animation-rubber-band{-webkit-animation-duration:1s;animation-duration:1s;-webkit-animation-fill-mode:both;animation-fill-mode:both;-webkit-animation-name:rubberBand;animation-name:rubberBand}@-webkit-keyframes shake{0%,to{-webkit-transform:translateX(0);transform:translateX(0)}10%,30%,50%,70%,90%{-webkit-transform:translateX(-10px);transform:translateX(-10px)}20%,40%,60%,80%{-webkit-transform:translateX(10px);transform:translateX(10px)}}@keyframes shake{0%,to{-webkit-transform:translateX(0);-ms-transform:translateX(0);transform:translateX(0)}10%,30%,50%,70%,90%{-webkit-transform:translateX(-10px);-ms-transform:translateX(-10px);transform:translateX(-10px)}20%,40%,60%,80%{-webkit-transform:translateX(10px);-ms-transform:translateX(10px);transform:translateX(10px)}}.om-animation-shake{-webkit-animation-duration:1s;animation-duration:1s;-webkit-animation-fill-mode:both;animation-fill-mode:both;-webkit-animation-name:shake;animation-name:shake}@-webkit-keyframes slideInDown{0%{opacity:0;-webkit-transform:translateY(-2000px);transform:translateY(-2000px)}to{-webkit-transform:translateY(0);transform:translateY(0)}}@keyframes slideInDown{0%{opacity:0;-webkit-transform:translateY(-2000px);-ms-transform:translateY(-2000px);transform:translateY(-2000px)}to{-webkit-transform:translateY(0);-ms-transform:translateY(0);transform:translateY(0)}}.om-animation-slide-in-down{-webkit-animation-duration:1s;animation-duration:1s;-webkit-animation-name:slideInDown;animation-name:slideInDown}@-webkit-keyframes slideInLeft{0%{opacity:0;-webkit-transform:translateX(-2000px);transform:translateX(-2000px)}to{-webkit-transform:translateX(0);transform:translateX(0)}}@keyframes slideInLeft{0%{opacity:0;-webkit-transform:translateX(-2000px);-ms-transform:translateX(-2000px);transform:translateX(-2000px)}to{-webkit-transform:translateX(0);-ms-transform:translateX(0);transform:translateX(0)}}.om-animation-slide-in-left{-webkit-animation-duration:1s;animation-duration:1s;-webkit-animation-name:slideInLeft;animation-name:slideInLeft}@-webkit-keyframes slideInRight{0%{opacity:0;-webkit-transform:translateX(2000px);transform:translateX(2000px)}to{-webkit-transform:translateX(0);transform:translateX(0)}}@keyframes slideInRight{0%{opacity:0;-webkit-transform:translateX(2000px);-ms-transform:translateX(2000px);transform:translateX(2000px)}to{-webkit-transform:translateX(0);-ms-transform:translateX(0);transform:translateX(0)}}.om-animation-slide-in-right{-webkit-animation-duration:1s;animation-duration:1s;-webkit-animation-name:slideInRight;animation-name:slideInRight}@-webkit-keyframes swing{20%{-webkit-transform:rotate(15deg);transform:rotate(15deg)}40%{-webkit-transform:rotate(-10deg);transform:rotate(-10deg)}60%{-webkit-transform:rotate(5deg);transform:rotate(5deg)}80%{-webkit-transform:rotate(-5deg);transform:rotate(-5deg)}to{-webkit-transform:rotate(0deg);transform:rotate(0deg)}}@keyframes swing{20%{-webkit-transform:rotate(15deg);-ms-transform:rotate(15deg);transform:rotate(15deg)}40%{-webkit-transform:rotate(-10deg);-ms-transform:rotate(-10deg);transform:rotate(-10deg)}60%{-webkit-transform:rotate(5deg);-ms-transform:rotate(5deg);transform:rotate(5deg)}80%{-webkit-transform:rotate(-5deg);-ms-transform:rotate(-5deg);transform:rotate(-5deg)}to{-webkit-transform:rotate(0deg);-ms-transform:rotate(0deg);transform:rotate(0deg)}}.om-animation-swing{-webkit-animation-duration:1s;animation-duration:1s;-webkit-transform-origin:top center;-ms-transform-origin:top center;transform-origin:top center;-webkit-animation-name:swing;animation-name:swing}@-webkit-keyframes tada{0%{-webkit-transform:scale(1);transform:scale(1)}10%,20%{-webkit-transform:scale(.9) rotate(-3deg);transform:scale(.9) rotate(-3deg)}30%,50%,70%,90%{-webkit-transform:scale(1.1) rotate(3deg);transform:scale(1.1) rotate(3deg)}40%,60%,80%{-webkit-transform:scale(1.1) rotate(-3deg);transform:scale(1.1) rotate(-3deg)}to{-webkit-transform:scale(1) rotate(0);transform:scale(1) rotate(0)}}@keyframes tada{0%{-webkit-transform:scale(1);-ms-transform:scale(1);transform:scale(1)}10%,20%{-webkit-transform:scale(.9) rotate(-3deg);-ms-transform:scale(.9) rotate(-3deg);transform:scale(.9) rotate(-3deg)}30%,50%,70%,90%{-webkit-transform:scale(1.1) rotate(3deg);-ms-transform:scale(1.1) rotate(3deg);transform:scale(1.1) rotate(3deg)}40%,60%,80%{-webkit-transform:scale(1.1) rotate(-3deg);-ms-transform:scale(1.1) rotate(-3deg);transform:scale(1.1) rotate(-3deg)}to{-webkit-transform:scale(1) rotate(0);-ms-transform:scale(1) rotate(0);transform:scale(1) rotate(0)}}.om-animation-tada{-webkit-animation-duration:1s;animation-duration:1s;-webkit-animation-name:tada;animation-name:tada}@-webkit-keyframes wobble{0%{-webkit-transform:translateX(0);transform:translateX(0)}15%{-webkit-transform:translateX(-25%) rotate(-5deg);transform:translateX(-25%) rotate(-5deg)}30%{-webkit-transform:translateX(20%) rotate(3deg);transform:translateX(20%) rotate(3deg)}45%{-webkit-transform:translateX(-15%) rotate(-3deg);transform:translateX(-15%) rotate(-3deg)}60%{-webkit-transform:translateX(10%) rotate(2deg);transform:translateX(10%) rotate(2deg)}75%{-webkit-transform:translateX(-5%) rotate(-1deg);transform:translateX(-5%) rotate(-1deg)}to{-webkit-transform:translateX(0);transform:translateX(0)}}@keyframes wobble{0%{-webkit-transform:translateX(0);-ms-transform:translateX(0);transform:translateX(0)}15%{-webkit-transform:translateX(-25%) rotate(-5deg);-ms-transform:translateX(-25%) rotate(-5deg);transform:translateX(-25%) rotate(-5deg)}30%{-webkit-transform:translateX(20%) rotate(3deg);-ms-transform:translateX(20%) rotate(3deg);transform:translateX(20%) rotate(3deg)}45%{-webkit-transform:translateX(-15%) rotate(-3deg);-ms-transform:translateX(-15%) rotate(-3deg);transform:translateX(-15%) rotate(-3deg)}60%{-webkit-transform:translateX(10%) rotate(2deg);-ms-transform:translateX(10%) rotate(2deg);transform:translateX(10%) rotate(2deg)}75%{-webkit-transform:translateX(-5%) rotate(-1deg);-ms-transform:translateX(-5%) rotate(-1deg);transform:translateX(-5%) rotate(-1deg)}to{-webkit-transform:translateX(0);-ms-transform:translateX(0);transform:translateX(0)}}.om-animation-wobble{-webkit-animation-duration:1s;animation-duration:1s;-webkit-animation-name:wobble;animation-name:wobble}.optin-loader{position:relative;color:transparent!important}@keyframes scale{0%{transform:scale(0)}to{transform:scale(1)}}@keyframes opacity{0%{opacity:1}to{opacity:0}}.optin-loader:after,.optin-loader:before{content:"";display:block;position:absolute;border-width:2px;border-style:solid;border-radius:50%;width:26px;height:26px;left:50%;margin-left:-15px;top:50%;margin-top:-15px;opacity:0;animation:scale 1.8s cubic-bezier(.165,.84,.44,1),opacity 1.8s cubic-bezier(.3,.61,.355,1);animation-iteration-count:infinite}.optin-loader:after{animation-delay:.9s}.optin-loader.optin-loader-dark:after,.optin-loader.optin-loader-dark:before{border-color:#60656f}.optin-loader.optin-loader-light:after,.optin-loader.optin-loader-light:before{border-color:#fff}.om-content-lock{color:transparent!important;text-shadow:rgba(0,0,0,.5) 0 0 10px;-webkit-user-select:none;-moz-user-select:none;user-select:none;pointer-events:none;filter:url("data:image/svg+xml;utf9,<svg%20version='1.1'%20xmlns='http://www.w3.org/2000/svg'><filter%20id='blur'><feGaussianBlur%20stdDeviation='10'%20/></filter></svg>#blur");-webkit-filter:blur(10px);-ms-filter:blur(10px);-o-filter:blur(10px);filter:blur(10px)}</style><script src="MQTT%20Tutorial%20for%20Raspberry%20Pi,%20Arduino,%20and%20ESP8266%20-%20Bald%20Engineer_files/legacy-api.js" async=""></script><style data-olark="true" type="text/css">@media print {#habla_beta_container_do_not_rely_on_div_classes_or_names {display: none !important}}</style><link data-olark="true" rel="stylesheet" href="MQTT%20Tutorial%20for%20Raspberry%20Pi,%20Arduino,%20and%20ESP8266%20-%20Bald%20Engineer_files/theme.css" type="text/css"></head><body class="post-template-default single single-post postid-5799 single-format-standard group-blog getnoticed-main-plain getnoticed-mainnav-side getnoticed-block-searchwidget"><div class="sitewrap"><nav id="headernav" role="navigation" class="site-navigation main-navigation"><div class="innerwrap"><header id="masthead" class=" header-nopad site-header" role="banner"><div class="innerwrap"> <a class="site-logo" href="https://www.baldengineer.com/" title="Bald Engineer" rel="home" style="max-width:401px"> <img src="MQTT%20Tutorial%20for%20Raspberry%20Pi,%20Arduino,%20and%20ESP8266%20-%20Bald%20Engineer_files/Baldengineer-with-James-v2-63px.png" alt="" class="lazyloading" data-was-processed="true" width="401" height="63"> </a><div class"header-text"=""><hgroup><h1 class="site-title"><a href="https://www.baldengineer.com/" title="Bald Engineer" rel="home">Bald Engineer</a></h1><h2 class="site-description">Electronics Tutorials for Enginerds</h2></hgroup></div><div class="headshot"></div></div></header><h2 class="mobile-title"><a href="https://www.baldengineer.com/" title="Bald Engineer" rel="home">Bald Engineer</a></h2><h3 class="assistive-text">Menu</h3><div class="assistive-text skip-link"><a href="#content" title="Skip to content">Skip to content</a></div><div class="getnoticed-mainnav"><div class="social getnoticed-socialnav-flat"><ul><li><a class="twitter" href="http://twitter.com/baldengineer" onclick="_gaq.push(['_trackPageview', '/outbound/twitter/header/']);" target="_blank"><i></i>Follow me on Twitter</a></li><li><a class="facebook" href="http://www.facebook.com/baldengineer" onclick="_gaq.push(['_trackPageview', '/outbound/facebook/header/']);" target="_blank"><i></i>Like me on Facebook</a></li><li><a class="youtube" href="http://www.youtube.com/AddOhms" onclick="_gaq.push(['_trackPageview', '/outbound/youtube/header/']);" target="_blank"><i></i>Check out my YouTube channel</a></li><li><a class="rssfeed" href="https://www.baldengineer.com/feed" onclick="_gaq.push(['_trackPageview', '/outbound/rssfeed/header/']);" target="_blank"><i></i>Subscribe to my RSS Feed</a></li></ul></div><div id="primary-menu"><ul id="menu-new-main" class="menu"><li id="menu-item-3339" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-3339"><a href="https://www.baldengineer.com/appearances">Articles</a></li><li id="menu-item-2809" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-2809"><a href="https://www.baldengineer.com/about">About</a></li><li id="menu-item-4775" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-4775"><a href="http://www.addohms.com/">AddOhms</a></li><li id="menu-item-7203" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-7203"><a href="https://www.baldengineer.com/privacy-policy">Privacy Policy</a></li></ul></div></div><div class="mobile_actions"> <a class="mobile_menu" href="#menu">menu</a><div id="mobile_search"><div id="mobile_search_form"><form method="get" action="https://www.baldengineer.com/" role="search"> <label for="mobile_search_s" class="assistive-text">Search</label> <input class="field" name="s" id="mobile_search_s" placeholder="" autocomplete="off" type="text"><input class="submit" name="submit" id="mobile_search_submit" value="Search" type="submit"></form></div></div></div></div></nav><div id="page" class="hfeed site wrap"><div id="getnoticed-featured-area"><div id="splash"><img src="MQTT%20Tutorial%20for%20Raspberry%20Pi,%20Arduino,%20and%20ESP8266%20-%20Bald%20Engineer_files/baldengineer-desk-image-v3-1600px.jpg" class="lazyloading" data-was-processed="true"></div><div id="featured-widgets"></div></div><div id="main"><div class="innerwrap"><aside id="top_search" class="widget widget_search"><div class="content"><div id="searchform"><form method="get" action="https://www.baldengineer.com/" role="search"> <label for="s" class="assistive-text">Search</label> <input class="field" name="s" id="s" placeholder="Search my blog…" autocomplete="off" type="text"><input class="submit" name="submit" id="searchsubmit" value="Search" type="submit"></form></div></div></aside><div id="categories-menu" class="menu-categories-container"><ul id="menu-categories" class="menu"><li id="menu-item-2849" class="menu-item menu-item-type-taxonomy menu-item-object-category current-post-ancestor current-menu-parent current-post-parent menu-item-2849"><a href="https://www.baldengineer.com/category/blog">Blog</a></li><li id="menu-item-3356" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-3356"><a href="https://www.baldengineer.com/category/reviews">Reviews</a></li><li id="menu-item-3347" class="menu-item menu-item-type-taxonomy menu-item-object-category current-post-ancestor current-menu-parent current-post-parent menu-item-3347"><a href="https://www.baldengineer.com/category/tutorials">Tutorials</a></li><li id="menu-item-5441" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-5441"><a href="https://www.baldengineer.com/category/projects">Projects</a></li><li id="menu-item-2855" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-2855"><a href="https://www.baldengineer.com/category/tutorials/electronics-basics">Basics</a></li><li id="menu-item-2853" class="menu-item menu-item-type-taxonomy menu-item-object-category current-post-ancestor current-menu-parent current-post-parent menu-item-2853"><a href="https://www.baldengineer.com/category/tutorials/arduino">Arduino</a></li><li id="menu-item-5284" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-5284"><a href="https://www.baldengineer.com/millis-cookbook.html">millis() Examples</a></li><li id="menu-item-6088" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-6088"><a href="https://www.baldengineer.com/?s=kicad&amp;submit=Search">KiCad</a></li><li id="menu-item-6451" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-6451"><a href="https://www.baldengineer.com/?s=mqtt">MQTT</a></li></ul></div><div id="primary" class="site-content"><div id="content" role="main"><nav role="navigation" id="nav-above" class="site-navigation post-navigation"><h3 class="assistive-text">Post navigation</h3><div class="nav-previous"><a href="https://www.baldengineer.com/mqtt-introduction.html" rel="prev"><span class="meta-nav"><img draggable="false" class="emoji" alt="⬅" src="MQTT%20Tutorial%20for%20Raspberry%20Pi,%20Arduino,%20and%20ESP8266%20-%20Bald%20Engineer_files/2b05.svg"></span> MQTT Introduction and Tutorial Part One</a></div><div class="nav-next"><a href="https://www.baldengineer.com/esp8266-5-reasons-to-use-one.html" rel="next">Arduino to ESP8266, 5 reasons to switch <span class="meta-nav"><img draggable="false" class="emoji" alt="➡" src="MQTT%20Tutorial%20for%20Raspberry%20Pi,%20Arduino,%20and%20ESP8266%20-%20Bald%20Engineer_files/27a1.svg"></span></a></div></nav><article id="post-5799" class=" posttitle-show introfeature post-5799 post type-post status-publish format-standard has-post-thumbnail hentry category-arduino category-blog category-esp8266 category-iot category-iot-tutorials category-raspberry-pi category-tutorials tag-adafruit tag-arduino-stuff tag-esp8266 tag-mqtt tag-raspberry-pi"><header class="entry-header"><div class="entry-meta"></div><h1 class="entry-title">MQTT Tutorial for Raspberry Pi, Arduino, and ESP8266</h1><h3 class="getnoticed-entry-subtitle">Send MQTT messages between 3 different platforms</h3><h4 class="byline"> by <span class="author vcard"><a class="url fn n" href="https://www.baldengineer.com/author/baldengineer" title="View all posts by James Lewis" rel="author">James Lewis</a></span></h4></header><div class="entry-content"> <img src="MQTT%20Tutorial%20for%20Raspberry%20Pi,%20Arduino,%20and%20ESP8266%20-%20Bald%20Engineer_files/mqtt-tutorial-banner-760x520.jpg" data-lazy-src="https://www.baldengineer.com/wp-content/uploads/2016/02/mqtt-tutorial-banner-760x520.jpg" class="featured-image wp-post-image lazyloaded" alt="mqtt tutorial" data-lazy-srcset="https://www.baldengineer.com/wp-content/uploads/2016/02/mqtt-tutorial-banner.jpg 760w, https://www.baldengineer.com/wp-content/uploads/2016/02/mqtt-tutorial-banner-300x205.jpg 300w, https://www.baldengineer.com/wp-content/uploads/2016/02/mqtt-tutorial-banner-518x354.jpg 518w, https://www.baldengineer.com/wp-content/uploads/2016/02/mqtt-tutorial-banner-82x56.jpg 82w, https://www.baldengineer.com/wp-content/uploads/2016/02/mqtt-tutorial-banner-600x411.jpg 600w, https://www.baldengineer.com/wp-content/uploads/2016/02/mqtt-tutorial-banner-505x346.jpg 505w" data-lazy-sizes="(max-width: 760px) 100vw, 760px" sizes="(max-width: 760px) 100vw, 760px" srcset="https://www.baldengineer.com/wp-content/uploads/2016/02/mqtt-tutorial-banner.jpg 760w, https://www.baldengineer.com/wp-content/uploads/2016/02/mqtt-tutorial-banner-300x205.jpg 300w, https://www.baldengineer.com/wp-content/uploads/2016/02/mqtt-tutorial-banner-518x354.jpg 518w, https://www.baldengineer.com/wp-content/uploads/2016/02/mqtt-tutorial-banner-82x56.jpg 82w, https://www.baldengineer.com/wp-content/uploads/2016/02/mqtt-tutorial-banner-600x411.jpg 600w, https://www.baldengineer.com/wp-content/uploads/2016/02/mqtt-tutorial-banner-505x346.jpg 505w" data-was-processed="true" width="760" height="520"><noscript><img width="760" height="520" src="data:image/gif;base64,R0lGODdhAQABAPAAAP///wAAACwAAAAAAQABAEACAkQBADs=" data-lazy-src="https://www.baldengineer.com/wp-content/uploads/2016/02/mqtt-tutorial-banner-760x520.jpg" class="featured-image wp-post-image" alt="mqtt tutorial" data-lazy-srcset="https://www.baldengineer.com/wp-content/uploads/2016/02/mqtt-tutorial-banner.jpg 760w, https://www.baldengineer.com/wp-content/uploads/2016/02/mqtt-tutorial-banner-300x205.jpg 300w, https://www.baldengineer.com/wp-content/uploads/2016/02/mqtt-tutorial-banner-518x354.jpg 518w, https://www.baldengineer.com/wp-content/uploads/2016/02/mqtt-tutorial-banner-82x56.jpg 82w, https://www.baldengineer.com/wp-content/uploads/2016/02/mqtt-tutorial-banner-600x411.jpg 600w, https://www.baldengineer.com/wp-content/uploads/2016/02/mqtt-tutorial-banner-505x346.jpg 505w" data-lazy-sizes="(max-width: 760px) 100vw, 760px" /><noscript><img width="760" height="520" src="https://www.baldengineer.com/wp-content/uploads/2016/02/mqtt-tutorial-banner-760x520.jpg" class="featured-image wp-post-image" alt="mqtt tutorial" srcset="https://www.baldengineer.com/wp-content/uploads/2016/02/mqtt-tutorial-banner.jpg 760w, https://www.baldengineer.com/wp-content/uploads/2016/02/mqtt-tutorial-banner-300x205.jpg 300w, https://www.baldengineer.com/wp-content/uploads/2016/02/mqtt-tutorial-banner-518x354.jpg 518w, https://www.baldengineer.com/wp-content/uploads/2016/02/mqtt-tutorial-banner-82x56.jpg 82w, https://www.baldengineer.com/wp-content/uploads/2016/02/mqtt-tutorial-banner-600x411.jpg 600w, https://www.baldengineer.com/wp-content/uploads/2016/02/mqtt-tutorial-banner-505x346.jpg 505w" sizes="(max-width: 760px) 100vw, 760px" /></noscript><p class="first-child "><span title="T" class="dropcap">T</span>his
 week’s MQTT Tutorial connects a Raspberry Pi, ESP8266 (or Arduino), and
 a PC together. Remember last week’s post provided an <a href="https://www.baldengineer.com/mqtt-introduction.html">overview of message brokers and MQTT</a>.
 We learned that MQTT is a hub and spoke protocol for sending messages 
between IoT devices. Clients can subscribe or publish messages to a 
central server, called a broker.</p><p>Now it’s time to connect our IoT devices together!</p><p><span id="more-5799"></span></p><p>For this MQTT tutorial, I have three main elements:<br> •&nbsp; &nbsp; My Computer, which will act as the broker.<br> •&nbsp; &nbsp; Raspberry Pi running Python<br> •&nbsp; &nbsp; ESP8266 controlling an LED</p><p>The
 idea is that the Pi (via Python) will send messages to the PC broker to
 tell the ESP8266’s LED what to do. For our simple MQTT tutorial, the Pi
 will blink an onboard LED on the ESP8266 one time.</p><div class="gbaldee gbaldee-9"><div class="gbaldee-single abaldee-24"><script async="" src="MQTT%20Tutorial%20for%20Raspberry%20Pi,%20Arduino,%20and%20ESP8266%20-%20Bald%20Engineer_files/adsbygoogle.js"></script>  <ins class="adsbygoogle" style="display:block" data-ad-client="ca-pub-3593131912552991" data-ad-slot="5599074651" data-ad-format="auto"></ins> <script>(adsbygoogle = window.adsbygoogle || []).push({});</script></div></div><h2>In this MQTT Tutorial</h2><p>I
 am not going to cover how to connect to your network (at least not in 
detail.) There are plenty of tutorials on that piece for each of the 
devices mentioned here.</p><p>Instead, I am only going to give an overview of communicating with MQTT on each IoT piece.</p><h2>MQTT for PC</h2><p>There are quite a few options for an MQTT server. Services like <a href="https://aws.amazon.com/iot/">Amazon’s AWS IoT</a> and <a href="https://io.adafruit.com/">AdafruitIO</a>
 are cloud-based brokers. Each offers some advantages. Depending on your
 project needs you may or may not need the full support of a cloud-based
 service.</p><h2>Mosquitto</h2><p>If you want to host a broker, the <a href="http://mosquitto.org/">open source MQTT Mosquitto</a>&nbsp;is
 an excellent option. This fully compliant MQTT broker also comes with 
command-line utilities for publishing and subscribing.</p><p>For Windows, there are <a href="http://mosquitto.org/download/">binary installers on mosquitto.org</a>. For Linux, check your package manager for “mosquitto” or “mosquitto-mqtt.” On Mac, you can use <a href="http://brew.sh/">homebrew</a>&nbsp;to install mosquitto.</p><div class="callout">Note, on my Mac (my “real” Mac…) I had to add /usr/local/sbin to my PATH.</div><h3>Running Mosquitto</h3><p>By
 default, mosquitto runs on port 1883 with virtually no security. For 
getting started, this is fine, but eventually, we need to look at adding
 some security stuff (hey, future post idea!).</p><p>I recommend running mosquitto in verbose mode, so you can get a good idea of what it is doing.</p><div><div id="highlighter_579193" class="syntaxhighlighter  plain"><table border="0" cellspacing="0" cellpadding="0"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div><div class="line number2 index1 alt1">2</div><div class="line number3 index2 alt2">3</div><div class="line number4 index3 alt1">4</div><div class="line number5 index4 alt2">5</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="plain plain">MacMan:~ james$ mosquitto -v</code></div><div class="line number2 index1 alt1"><code class="plain plain">1456272937: mosquitto version 1.4.5 (build date 2015-11-09 14:23:46-0800) starting</code></div><div class="line number3 index2 alt2"><code class="plain plain">1456272937: Using default config.</code></div><div class="line number4 index3 alt1"><code class="plain plain">1456272937: Opening ipv4 listen socket on port 1883.</code></div><div class="line number5 index4 alt2"><code class="plain plain">1456272937: Opening ipv6 listen socket on port 1883.</code></div></div></td></tr></tbody></table></div></div><h3>Testing Mosquitto</h3><p>With
 the server code running in verbose mode, open up two more command 
prompts. We are going to use mosquitto_pub and mosquitto_sub to send 
ourselves test messages.</p><h4>Subscribing to MQTT Topic with Mosquitto</h4><p>First we are going have our client subscribe to a topic called “debug”. Use this command line in your “subscriber” window.</p><div><div id="highlighter_533805" class="syntaxhighlighter  plain"><table border="0" cellspacing="0" cellpadding="0"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="plain plain">mosquitto_sub -h 127.0.0.1 -i testSub -t debug</code></div></div></td></tr></tbody></table></div></div><ul><li><strong>The host flag (-h)</strong> is the server running mosquitto, in this case, localhost.</li><li><strong>The identity flag (-i)</strong> isn’t required. When a client id is not provided, mosquitto_sub will create one.</li><li><strong>The topic flag (-t)</strong> is the topic we want to subscribe to, in this case, “debug”.</li></ul><p>Notice on the server I didn’t create the topic, the topic is created when the subscriber or publish first hooks into it.</p><h4>Publish to MQTT Topic with Mosquitto</h4><p>Now that we have a client listening to a topic, let’s have a client publish to it, here’s the command for that.</p><div><div id="highlighter_799786" class="syntaxhighlighter  plain"><table border="0" cellspacing="0" cellpadding="0"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="plain plain">mosquitto_pub -h 127.0.0.1 -i testPublish -t debug -m 'Hello World'</code></div></div></td></tr></tbody></table></div></div><p><a href="https://www.baldengineer.com/mqtt-tutorial.html/mosquitto-running-on-pc#main" rel="attachment wp-att-5806"><img class="aligncenter size-large wp-image-5806 lazyloaded" src="MQTT%20Tutorial%20for%20Raspberry%20Pi,%20Arduino,%20and%20ESP8266%20-%20Bald%20Engineer_files/mosquitto-running-on-pc-1024x421.png" data-lazy-src="https://www.baldengineer.com/wp-content/uploads/2016/02/mosquitto-running-on-pc-1024x421.png" alt="mosquitto running on pc" data-lazy-srcset="https://www.baldengineer.com/wp-content/uploads/2016/02/mosquitto-running-on-pc-1024x421.png 1024w, https://www.baldengineer.com/wp-content/uploads/2016/02/mosquitto-running-on-pc-300x123.png 300w, https://www.baldengineer.com/wp-content/uploads/2016/02/mosquitto-running-on-pc-768x316.png 768w, https://www.baldengineer.com/wp-content/uploads/2016/02/mosquitto-running-on-pc-760x313.png 760w, https://www.baldengineer.com/wp-content/uploads/2016/02/mosquitto-running-on-pc-518x213.png 518w, https://www.baldengineer.com/wp-content/uploads/2016/02/mosquitto-running-on-pc-82x34.png 82w, https://www.baldengineer.com/wp-content/uploads/2016/02/mosquitto-running-on-pc-600x247.png 600w, https://www.baldengineer.com/wp-content/uploads/2016/02/mosquitto-running-on-pc-505x208.png 505w" data-lazy-sizes="(max-width: 760px) 100vw, 760px" sizes="(max-width: 760px) 100vw, 760px" srcset="https://www.baldengineer.com/wp-content/uploads/2016/02/mosquitto-running-on-pc-1024x421.png 1024w, https://www.baldengineer.com/wp-content/uploads/2016/02/mosquitto-running-on-pc-300x123.png 300w, https://www.baldengineer.com/wp-content/uploads/2016/02/mosquitto-running-on-pc-768x316.png 768w, https://www.baldengineer.com/wp-content/uploads/2016/02/mosquitto-running-on-pc-760x313.png 760w, https://www.baldengineer.com/wp-content/uploads/2016/02/mosquitto-running-on-pc-518x213.png 518w, https://www.baldengineer.com/wp-content/uploads/2016/02/mosquitto-running-on-pc-82x34.png 82w, https://www.baldengineer.com/wp-content/uploads/2016/02/mosquitto-running-on-pc-600x247.png 600w, https://www.baldengineer.com/wp-content/uploads/2016/02/mosquitto-running-on-pc-505x208.png 505w" data-was-processed="true" width="760" height="312"><noscript><img class="aligncenter size-large wp-image-5806" src="https://www.baldengineer.com/wp-content/uploads/2016/02/mosquitto-running-on-pc-1024x421.png" alt="mosquitto running on pc" width="760" height="312" srcset="https://www.baldengineer.com/wp-content/uploads/2016/02/mosquitto-running-on-pc-1024x421.png 1024w, https://www.baldengineer.com/wp-content/uploads/2016/02/mosquitto-running-on-pc-300x123.png 300w, https://www.baldengineer.com/wp-content/uploads/2016/02/mosquitto-running-on-pc-768x316.png 768w, https://www.baldengineer.com/wp-content/uploads/2016/02/mosquitto-running-on-pc-760x313.png 760w, https://www.baldengineer.com/wp-content/uploads/2016/02/mosquitto-running-on-pc-518x213.png 518w, https://www.baldengineer.com/wp-content/uploads/2016/02/mosquitto-running-on-pc-82x34.png 82w, https://www.baldengineer.com/wp-content/uploads/2016/02/mosquitto-running-on-pc-600x247.png 600w, https://www.baldengineer.com/wp-content/uploads/2016/02/mosquitto-running-on-pc-505x208.png 505w" sizes="(max-width: 760px) 100vw, 760px" /></noscript></a></p><p>And
 we see our client window comes back with our published message! Check 
out the —help flag on both the mosquitto_sub and mosquitto_pub 
utilities. There are lots of useful options for both, including -l which
 reads the message from STDIN.</p><p>Okay, now that we have our mosquitto broker running, let’s communicate with our devices.</p><h2>MQTT for Raspberry Pi (or Python)</h2><p>One
 option for MQTT messaging on the Raspberry Pi is just to install 
mosquitto! You can use the same mosquitto_pub and mosquitto_sub command 
line tools to communicate with an MQTT server.</p><p>The other option is to use an MQTT library for your preferred language. In this case, let’s look at Python.</p><h3>Install MQTT for Python</h3><p>The MQTT library I’m using is the <a href="https://eclipse.org/paho/clients/python/">Paho Python Client</a>. It’s open source and supports the latest version of MQTT.</p><p>Installation is simple. First, install “pip” and then run:</p><div><div id="highlighter_653559" class="syntaxhighlighter  plain"><table border="0" cellspacing="0" cellpadding="0"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="plain plain">pip install paho-mqtt</code></div></div></td></tr></tbody></table></div></div><div class="callout">Don’t forget if you’re using python v3 (like for the QT GUI), you’ll need to run “pip3” instead of “pip”.</div><h3>Example MQTT Python Code for Raspberry Pi</h3><p>Paho makes communicating with your MQTT server very simple.</p><div><div id="highlighter_930247" class="syntaxhighlighter  python"><table border="0" cellspacing="0" cellpadding="0"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div><div class="line number2 index1 alt1">2</div><div class="line number3 index2 alt2">3</div><div class="line number4 index3 alt1">4</div><div class="line number5 index4 alt2">5</div><div class="line number6 index5 alt1">6</div><div class="line number7 index6 alt2">7</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="python keyword">import</code> <code class="python plain">paho.mqtt.publish as publish</code></div><div class="line number2 index1 alt1"><code class="python keyword">import</code> <code class="python plain">time</code></div><div class="line number3 index2 alt2"><code class="python functions">print</code><code class="python plain">(</code><code class="python string">"Sending 0..."</code><code class="python plain">)</code></div><div class="line number4 index3 alt1"><code class="python plain">publish.single(</code><code class="python string">"ledStatus"</code><code class="python plain">, </code><code class="python string">"0"</code><code class="python plain">, hostname</code><code class="python keyword">=</code><code class="python string">"macman"</code><code class="python plain">)</code></div><div class="line number5 index4 alt2"><code class="python plain">time.sleep(</code><code class="python value">1</code><code class="python plain">)</code></div><div class="line number6 index5 alt1"><code class="python functions">print</code><code class="python plain">(</code><code class="python string">"Sending 1..."</code><code class="python plain">)</code></div><div class="line number7 index6 alt2"><code class="python plain">publish.single(</code><code class="python string">"ledStatus"</code><code class="python plain">, </code><code class="python string">"1"</code><code class="python plain">, hostname</code><code class="python keyword">=</code><code class="python string">"macman"</code><code class="python plain">)</code></div></div></td></tr></tbody></table></div></div><p>Seriously,
 it is that simple. Tell the script the hostname of your server 
(macman), the topic (ledStatus), and the message (0) or (1).</p><p>In 
this MQTT Tutorial example, we’re sending a ‘0’, waiting one second, and
 then sending a ‘1’. These actions will cause the LED on the ESP8266 to 
turn off briefly and then turn (back) on.</p><p><a href="https://www.baldengineer.com/mqtt-tutorial.html/mosquitto-mqtt-and-raspberry-pi#main" rel="attachment wp-att-5803"><img class="aligncenter size-large wp-image-5803 lazyloaded" src="MQTT%20Tutorial%20for%20Raspberry%20Pi,%20Arduino,%20and%20ESP8266%20-%20Bald%20Engineer_files/mosquitto-mqtt-and-raspberry-pi-1024x525.png" data-lazy-src="https://www.baldengineer.com/wp-content/uploads/2016/02/mosquitto-mqtt-and-raspberry-pi-1024x525.png" alt="mosquitto mqtt and raspberry pi" data-lazy-srcset="https://www.baldengineer.com/wp-content/uploads/2016/02/mosquitto-mqtt-and-raspberry-pi-1024x525.png 1024w, https://www.baldengineer.com/wp-content/uploads/2016/02/mosquitto-mqtt-and-raspberry-pi-300x154.png 300w, https://www.baldengineer.com/wp-content/uploads/2016/02/mosquitto-mqtt-and-raspberry-pi-768x393.png 768w, https://www.baldengineer.com/wp-content/uploads/2016/02/mosquitto-mqtt-and-raspberry-pi-760x389.png 760w, https://www.baldengineer.com/wp-content/uploads/2016/02/mosquitto-mqtt-and-raspberry-pi-518x265.png 518w, https://www.baldengineer.com/wp-content/uploads/2016/02/mosquitto-mqtt-and-raspberry-pi-82x42.png 82w, https://www.baldengineer.com/wp-content/uploads/2016/02/mosquitto-mqtt-and-raspberry-pi-600x307.png 600w, https://www.baldengineer.com/wp-content/uploads/2016/02/mosquitto-mqtt-and-raspberry-pi-505x259.png 505w, https://www.baldengineer.com/wp-content/uploads/2016/02/mosquitto-mqtt-and-raspberry-pi.png 1255w" data-lazy-sizes="(max-width: 760px) 100vw, 760px" sizes="(max-width: 760px) 100vw, 760px" srcset="https://www.baldengineer.com/wp-content/uploads/2016/02/mosquitto-mqtt-and-raspberry-pi-1024x525.png 1024w, https://www.baldengineer.com/wp-content/uploads/2016/02/mosquitto-mqtt-and-raspberry-pi-300x154.png 300w, https://www.baldengineer.com/wp-content/uploads/2016/02/mosquitto-mqtt-and-raspberry-pi-768x393.png 768w, https://www.baldengineer.com/wp-content/uploads/2016/02/mosquitto-mqtt-and-raspberry-pi-760x389.png 760w, https://www.baldengineer.com/wp-content/uploads/2016/02/mosquitto-mqtt-and-raspberry-pi-518x265.png 518w, https://www.baldengineer.com/wp-content/uploads/2016/02/mosquitto-mqtt-and-raspberry-pi-82x42.png 82w, https://www.baldengineer.com/wp-content/uploads/2016/02/mosquitto-mqtt-and-raspberry-pi-600x307.png 600w, https://www.baldengineer.com/wp-content/uploads/2016/02/mosquitto-mqtt-and-raspberry-pi-505x259.png 505w, https://www.baldengineer.com/wp-content/uploads/2016/02/mosquitto-mqtt-and-raspberry-pi.png 1255w" data-was-processed="true" width="760" height="390"><noscript><img class="aligncenter size-large wp-image-5803" src="https://www.baldengineer.com/wp-content/uploads/2016/02/mosquitto-mqtt-and-raspberry-pi-1024x525.png" alt="mosquitto mqtt and raspberry pi" width="760" height="390" srcset="https://www.baldengineer.com/wp-content/uploads/2016/02/mosquitto-mqtt-and-raspberry-pi-1024x525.png 1024w, https://www.baldengineer.com/wp-content/uploads/2016/02/mosquitto-mqtt-and-raspberry-pi-300x154.png 300w, https://www.baldengineer.com/wp-content/uploads/2016/02/mosquitto-mqtt-and-raspberry-pi-768x393.png 768w, https://www.baldengineer.com/wp-content/uploads/2016/02/mosquitto-mqtt-and-raspberry-pi-760x389.png 760w, https://www.baldengineer.com/wp-content/uploads/2016/02/mosquitto-mqtt-and-raspberry-pi-518x265.png 518w, https://www.baldengineer.com/wp-content/uploads/2016/02/mosquitto-mqtt-and-raspberry-pi-82x42.png 82w, https://www.baldengineer.com/wp-content/uploads/2016/02/mosquitto-mqtt-and-raspberry-pi-600x307.png 600w, https://www.baldengineer.com/wp-content/uploads/2016/02/mosquitto-mqtt-and-raspberry-pi-505x259.png 505w, https://www.baldengineer.com/wp-content/uploads/2016/02/mosquitto-mqtt-and-raspberry-pi.png 1255w" sizes="(max-width: 760px) 100vw, 760px" /></noscript></a></p><p>Now
 that our Raspberry Pi is sending MQTT messages let’s receive them. The 
next section gets our ESP8266 (or could be an Arduino with WiFi/Ethernet
 Shield) receiving messages on the topic “ledStatus” and blink an actual
 LED!</p><h2>MQTT for ESP8266 (and Arduino)</h2><p><a href="https://github.com/knolleary/pubsubclient">PubSubClient</a>&nbsp;is
 an Arduino-based MQTT client. With just a few lines of code, it is very
 easy to either subscribe to topics or publish new ones.</p><p>In my setup, I am using the Arduino IDE to program my ESP8266. Read my <a href="https://www.baldengineer.com/four-esp8266-gotchas.html">ESP8266 caution post</a> for why I use the <a href="https://www.adafruit.com/products/2471">Adafruit Huzzah</a> and not the junk from eBay.</p><h3>Install MQTT for Arduino IDE</h3><p>Installing <a href="https://github.com/knolleary/pubsubclient">PubSubClient</a> for the Arduino IDE is easy. Either install manually from GitHub or use the Arduino Package Installer. Simple!</p><p><a href="https://www.baldengineer.com/mqtt-tutorial.html/installing-pubsubclient-for-arduino#main" rel="attachment wp-att-5804"><img class="aligncenter wp-image-5804 lazyloaded" src="MQTT%20Tutorial%20for%20Raspberry%20Pi,%20Arduino,%20and%20ESP8266%20-%20Bald%20Engineer_files/installing-PubSubClient-for-Arduino.png" data-lazy-src="https://www.baldengineer.com/wp-content/uploads/2016/02/installing-PubSubClient-for-Arduino.png" alt="installing PubSubClient for Arduino" data-lazy-srcset="https://www.baldengineer.com/wp-content/uploads/2016/02/installing-PubSubClient-for-Arduino.png 1012w, https://www.baldengineer.com/wp-content/uploads/2016/02/installing-PubSubClient-for-Arduino-300x181.png 300w, https://www.baldengineer.com/wp-content/uploads/2016/02/installing-PubSubClient-for-Arduino-768x462.png 768w, https://www.baldengineer.com/wp-content/uploads/2016/02/installing-PubSubClient-for-Arduino-760x457.png 760w, https://www.baldengineer.com/wp-content/uploads/2016/02/installing-PubSubClient-for-Arduino-518x312.png 518w, https://www.baldengineer.com/wp-content/uploads/2016/02/installing-PubSubClient-for-Arduino-82x49.png 82w, https://www.baldengineer.com/wp-content/uploads/2016/02/installing-PubSubClient-for-Arduino-600x361.png 600w, https://www.baldengineer.com/wp-content/uploads/2016/02/installing-PubSubClient-for-Arduino-505x304.png 505w" data-lazy-sizes="(max-width: 760px) 100vw, 760px" sizes="(max-width: 760px) 100vw, 760px" srcset="https://www.baldengineer.com/wp-content/uploads/2016/02/installing-PubSubClient-for-Arduino.png 1012w, https://www.baldengineer.com/wp-content/uploads/2016/02/installing-PubSubClient-for-Arduino-300x181.png 300w, https://www.baldengineer.com/wp-content/uploads/2016/02/installing-PubSubClient-for-Arduino-768x462.png 768w, https://www.baldengineer.com/wp-content/uploads/2016/02/installing-PubSubClient-for-Arduino-760x457.png 760w, https://www.baldengineer.com/wp-content/uploads/2016/02/installing-PubSubClient-for-Arduino-518x312.png 518w, https://www.baldengineer.com/wp-content/uploads/2016/02/installing-PubSubClient-for-Arduino-82x49.png 82w, https://www.baldengineer.com/wp-content/uploads/2016/02/installing-PubSubClient-for-Arduino-600x361.png 600w, https://www.baldengineer.com/wp-content/uploads/2016/02/installing-PubSubClient-for-Arduino-505x304.png 505w" data-was-processed="true" width="760" height="457"><noscript><img class="aligncenter wp-image-5804" src="https://www.baldengineer.com/wp-content/uploads/2016/02/installing-PubSubClient-for-Arduino.png" alt="installing PubSubClient for Arduino" width="760" height="457" srcset="https://www.baldengineer.com/wp-content/uploads/2016/02/installing-PubSubClient-for-Arduino.png 1012w, https://www.baldengineer.com/wp-content/uploads/2016/02/installing-PubSubClient-for-Arduino-300x181.png 300w, https://www.baldengineer.com/wp-content/uploads/2016/02/installing-PubSubClient-for-Arduino-768x462.png 768w, https://www.baldengineer.com/wp-content/uploads/2016/02/installing-PubSubClient-for-Arduino-760x457.png 760w, https://www.baldengineer.com/wp-content/uploads/2016/02/installing-PubSubClient-for-Arduino-518x312.png 518w, https://www.baldengineer.com/wp-content/uploads/2016/02/installing-PubSubClient-for-Arduino-82x49.png 82w, https://www.baldengineer.com/wp-content/uploads/2016/02/installing-PubSubClient-for-Arduino-600x361.png 600w, https://www.baldengineer.com/wp-content/uploads/2016/02/installing-PubSubClient-for-Arduino-505x304.png 505w" sizes="(max-width: 760px) 100vw, 760px" /></noscript></a></p><h4>Arduino ESP8266 and Uno Note</h4><p>Switching between my Uno with Ethernet Shield and an ESP8266 took no effort on my part. The library works great with either.</p><h3>Code Example for Arduino MQTT</h3><p>The
 examples included with the PubSubClient are excellent. I think there 
are even ESP8266 examples particular to MQTT. Make sure you check those 
out when you are getting started.</p><p>Here’s my code for connecting to
 WiFi and subscribing to the topic “ledStatus”. When the ESP8266 
receives a message, it acts by turning the “ledPin” on or off.</p><div><div id="highlighter_245575" class="syntaxhighlighter  arduino"><table border="0" cellspacing="0" cellpadding="0"><tbody><tr><td class="gutter"><div class="line number0 index0 alt1 break">&nbsp;</div><div class="line number1 index1 alt2">1</div><div class="line number2 index2 alt1">2</div><div class="line number3 index3 alt2">3</div><div class="line number4 index4 alt1">4</div><div class="line number5 index5 alt2">5</div><div class="line number6 index6 alt1">6</div><div class="line number7 index7 alt2">7</div><div class="line number8 index8 alt1">8</div><div class="line number9 index9 alt2">9</div><div class="line number10 index10 alt1">10</div><div class="line number11 index11 alt2">11</div><div class="line number12 index12 alt1">12</div><div class="line number13 index13 alt2">13</div><div class="line number14 index14 alt1">14</div><div class="line number15 index15 alt2">15</div><div class="line number16 index16 alt1">16</div><div class="line number17 index17 alt2">17</div><div class="line number18 index18 alt1">18</div><div class="line number19 index19 alt2">19</div><div class="line number20 index20 alt1">20</div><div class="line number21 index21 alt2">21</div><div class="line number22 index22 alt1">22</div><div class="line number23 index23 alt2">23</div><div class="line number24 index24 alt1">24</div><div class="line number25 index25 alt2">25</div><div class="line number26 index26 alt1">26</div><div class="line number27 index27 alt2">27</div><div class="line number28 index28 alt1">28</div><div class="line number29 index29 alt2">29</div><div class="line number30 index30 alt1">30</div><div class="line number31 index31 alt2">31</div><div class="line number32 index32 alt1">32</div><div class="line number33 index33 alt2">33</div><div class="line number34 index34 alt1">34</div><div class="line number35 index35 alt2">35</div><div class="line number36 index36 alt1">36</div><div class="line number37 index37 alt2">37</div><div class="line number38 index38 alt1">38</div><div class="line number39 index39 alt2">39</div><div class="line number40 index40 alt1">40</div><div class="line number41 index41 alt2">41</div><div class="line number42 index42 alt1">42</div><div class="line number43 index43 alt2">43</div><div class="line number44 index44 alt1">44</div><div class="line number45 index45 alt2">45</div><div class="line number46 index46 alt1">46</div><div class="line number47 index47 alt2">47</div><div class="line number48 index48 alt1">48</div><div class="line number49 index49 alt2">49</div><div class="line number50 index50 alt1">50</div><div class="line number51 index51 alt2">51</div><div class="line number52 index52 alt1">52</div><div class="line number53 index53 alt2">53</div><div class="line number54 index54 alt1">54</div><div class="line number55 index55 alt2">55</div><div class="line number56 index56 alt1">56</div><div class="line number57 index57 alt2">57</div><div class="line number58 index58 alt1">58</div><div class="line number59 index59 alt2">59</div><div class="line number60 index60 alt1">60</div><div class="line number61 index61 alt2">61</div><div class="line number62 index62 alt1">62</div><div class="line number63 index63 alt2">63</div><div class="line number64 index64 alt1">64</div><div class="line number65 index65 alt2">65</div><div class="line number66 index66 alt1">66</div><div class="line number67 index67 alt2">67</div><div class="line number68 index68 alt1">68</div></td><td class="code"><div class="container"><div class="line number0 index0 alt1 break"><code class="arduino preprocessor">#include</code> <code class="arduino plain">&lt;EEPROM.h&gt;</code></div><div class="line number1 index1 alt2"><code class="arduino preprocessor">#include</code> <code class="arduino plain">&lt;ESP8266WiFi.h&gt;</code></div><div class="line number2 index2 alt1"><code class="arduino preprocessor">#include</code> <code class="arduino plain">&lt;PubSubClient.h&gt;</code></div><div class="line number3 index3 alt2"><code class="arduino preprocessor">#include</code> <code class="arduino plain">&lt;Wire.h&gt;</code></div><div class="line number4 index4 alt1"><code class="arduino preprocessor">#include</code> <code class="arduino plain">&lt;Adafruit_INA219.h&gt;</code></div><div class="line number5 index5 alt2">&nbsp;</div><div class="line number6 index6 alt1"><code class="arduino comments">// Connect to the WiFi</code></div><div class="line number7 index7 alt2"><code class="arduino color1 bold">const</code> <code class="arduino color1 bold">char</code><code class="arduino plain bold">*</code> <code class="arduino plain">ssid </code><code class="arduino plain bold">=</code> <code class="arduino string">"Dear John"</code><code class="arduino plain">;</code></div><div class="line number8 index8 alt1"><code class="arduino color1 bold">const</code> <code class="arduino color1 bold">char</code><code class="arduino plain bold">*</code> <code class="arduino plain">password </code><code class="arduino plain bold">=</code> <code class="arduino string">"password123"</code><code class="arduino plain">;</code></div><div class="line number9 index9 alt2"><code class="arduino color1 bold">const</code> <code class="arduino color1 bold">char</code><code class="arduino plain bold">*</code> <code class="arduino plain">mqtt_server </code><code class="arduino plain bold">=</code> <code class="arduino string">"macman"</code><code class="arduino plain">;</code></div><div class="line number10 index10 alt1">&nbsp;</div><div class="line number11 index11 alt2"><code class="arduino plain">WiFiClient espClient;</code></div><div class="line number12 index12 alt1"><code class="arduino plain">PubSubClient client(espClient);</code></div><div class="line number13 index13 alt2">&nbsp;</div><div class="line number14 index14 alt1"><code class="arduino color1 bold">const</code> <code class="arduino color1 bold">byte</code> <code class="arduino plain">ledPin </code><code class="arduino plain bold">=</code> <code class="arduino constants">0</code><code class="arduino plain">; </code><code class="arduino comments">// Pin with LED on Adafruit Huzzah</code></div><div class="line number15 index15 alt2">&nbsp;</div><div class="line number16 index16 alt1"><code class="arduino color1 bold">void</code> <code class="arduino plain">callback(</code><code class="arduino color1 bold">char</code><code class="arduino plain bold">*</code> <code class="arduino plain">topic, </code><code class="arduino color1 bold">byte</code><code class="arduino plain bold">*</code> <code class="arduino plain">payload, </code><code class="arduino color1 bold">unsigned</code> <code class="arduino color1 bold">int</code> <code class="arduino plain">length) {</code></div><div class="line number17 index17 alt2"><code class="arduino spaces">&nbsp;</code><code class="arduino functions">Serial.print</code><code class="arduino plain">(</code><code class="arduino string">"Message arrived ["</code><code class="arduino plain">);</code></div><div class="line number18 index18 alt1"><code class="arduino spaces">&nbsp;</code><code class="arduino functions">Serial.print</code><code class="arduino plain">(topic);</code></div><div class="line number19 index19 alt2"><code class="arduino spaces">&nbsp;</code><code class="arduino functions">Serial.print</code><code class="arduino plain">(</code><code class="arduino string">"] "</code><code class="arduino plain">);</code></div><div class="line number20 index20 alt1"><code class="arduino spaces">&nbsp;</code><code class="arduino keyword bold">for</code> <code class="arduino plain">(</code><code class="arduino color1 bold">int</code> <code class="arduino plain">i</code><code class="arduino plain bold">=</code><code class="arduino constants">0</code><code class="arduino plain">;i&lt;length;i</code><code class="arduino plain bold">+</code><code class="arduino plain bold">+</code><code class="arduino plain">) {</code></div><div class="line number21 index21 alt2"><code class="arduino spaces">&nbsp;&nbsp;</code><code class="arduino color1 bold">char</code> <code class="arduino plain">receivedChar </code><code class="arduino plain bold">=</code> <code class="arduino plain">(</code><code class="arduino color1 bold">char</code><code class="arduino plain">)payload[i];</code></div><div class="line number22 index22 alt1"><code class="arduino spaces">&nbsp;&nbsp;</code><code class="arduino functions">Serial.print</code><code class="arduino plain">(receivedChar);</code></div><div class="line number23 index23 alt2"><code class="arduino spaces">&nbsp;&nbsp;</code><code class="arduino keyword bold">if</code> <code class="arduino plain">(receivedChar </code><code class="arduino plain bold">=</code><code class="arduino plain bold">=</code> <code class="arduino string">'0'</code><code class="arduino plain">)</code></div><div class="line number24 index24 alt1"><code class="arduino spaces">&nbsp;&nbsp;</code><code class="arduino comments">// ESP8266 Huzzah outputs are "reversed"</code></div><div class="line number25 index25 alt2"><code class="arduino spaces">&nbsp;&nbsp;</code><code class="arduino functions">digitalWrite</code><code class="arduino plain">(ledPin, </code><code class="arduino constants bold">HIGH</code><code class="arduino plain">);</code></div><div class="line number26 index26 alt1"><code class="arduino spaces">&nbsp;&nbsp;</code><code class="arduino keyword bold">if</code> <code class="arduino plain">(receivedChar </code><code class="arduino plain bold">=</code><code class="arduino plain bold">=</code> <code class="arduino string">'1'</code><code class="arduino plain">)</code></div><div class="line number27 index27 alt2"><code class="arduino spaces">&nbsp;&nbsp;&nbsp;</code><code class="arduino functions">digitalWrite</code><code class="arduino plain">(ledPin, </code><code class="arduino constants bold">LOW</code><code class="arduino plain">);</code></div><div class="line number28 index28 alt1"><code class="arduino spaces">&nbsp;&nbsp;</code><code class="arduino plain">}</code></div><div class="line number29 index29 alt2"><code class="arduino spaces">&nbsp;&nbsp;</code><code class="arduino functions">Serial.println</code><code class="arduino plain">();</code></div><div class="line number30 index30 alt1"><code class="arduino plain">}</code></div><div class="line number31 index31 alt2">&nbsp;</div><div class="line number32 index32 alt1">&nbsp;</div><div class="line number33 index33 alt2"><code class="arduino color1 bold">void</code> <code class="arduino plain">reconnect() {</code></div><div class="line number34 index34 alt1"><code class="arduino spaces">&nbsp;</code><code class="arduino comments">// Loop until we're reconnected</code></div><div class="line number35 index35 alt2"><code class="arduino spaces">&nbsp;</code><code class="arduino keyword bold">while</code> <code class="arduino plain">(</code><code class="arduino plain bold">!</code><code class="arduino plain">client.connected()) {</code></div><div class="line number36 index36 alt1"><code class="arduino spaces">&nbsp;</code><code class="arduino functions">Serial.print</code><code class="arduino plain">(</code><code class="arduino string">"Attempting MQTT connection..."</code><code class="arduino plain">);</code></div><div class="line number37 index37 alt2"><code class="arduino spaces">&nbsp;</code><code class="arduino comments">// Attempt to connect</code></div><div class="line number38 index38 alt1"><code class="arduino spaces">&nbsp;</code><code class="arduino keyword bold">if</code> <code class="arduino plain">(client.connect(</code><code class="arduino string">"ESP8266 Client"</code><code class="arduino plain">)) {</code></div><div class="line number39 index39 alt2"><code class="arduino spaces">&nbsp;&nbsp;</code><code class="arduino functions">Serial.println</code><code class="arduino plain">(</code><code class="arduino string">"connected"</code><code class="arduino plain">);</code></div><div class="line number40 index40 alt1"><code class="arduino spaces">&nbsp;&nbsp;</code><code class="arduino comments">// ... and subscribe to topic</code></div><div class="line number41 index41 alt2"><code class="arduino spaces">&nbsp;&nbsp;</code><code class="arduino plain">client.subscribe(</code><code class="arduino string">"ledStatus"</code><code class="arduino plain">);</code></div><div class="line number42 index42 alt1"><code class="arduino spaces">&nbsp;</code><code class="arduino plain">} </code><code class="arduino keyword bold">else</code> <code class="arduino plain">{</code></div><div class="line number43 index43 alt2"><code class="arduino spaces">&nbsp;&nbsp;</code><code class="arduino functions">Serial.print</code><code class="arduino plain">(</code><code class="arduino string">"failed, rc="</code><code class="arduino plain">);</code></div><div class="line number44 index44 alt1"><code class="arduino spaces">&nbsp;&nbsp;</code><code class="arduino functions">Serial.print</code><code class="arduino plain">(client.state());</code></div><div class="line number45 index45 alt2"><code class="arduino spaces">&nbsp;&nbsp;</code><code class="arduino functions">Serial.println</code><code class="arduino plain">(</code><code class="arduino string">" try again in 5 seconds"</code><code class="arduino plain">);</code></div><div class="line number46 index46 alt1"><code class="arduino spaces">&nbsp;&nbsp;</code><code class="arduino comments">// Wait 5 seconds before retrying</code></div><div class="line number47 index47 alt2"><code class="arduino spaces">&nbsp;&nbsp;</code><code class="arduino functions">delay</code><code class="arduino plain">(</code><code class="arduino constants">5000</code><code class="arduino plain">);</code></div><div class="line number48 index48 alt1"><code class="arduino spaces">&nbsp;&nbsp;</code><code class="arduino plain">}</code></div><div class="line number49 index49 alt2"><code class="arduino spaces">&nbsp;</code><code class="arduino plain">}</code></div><div class="line number50 index50 alt1"><code class="arduino plain">}</code></div><div class="line number51 index51 alt2">&nbsp;</div><div class="line number52 index52 alt1"><code class="arduino color1 bold">void</code> <code class="arduino keyword bold">setup</code><code class="arduino plain">()</code></div><div class="line number53 index53 alt2"><code class="arduino plain">{</code></div><div class="line number54 index54 alt1"><code class="arduino spaces">&nbsp;</code><code class="arduino functions">Serial.begin</code><code class="arduino plain">(</code><code class="arduino constants">9600</code><code class="arduino plain">);</code></div><div class="line number55 index55 alt2">&nbsp;</div><div class="line number56 index56 alt1"><code class="arduino spaces">&nbsp;</code><code class="arduino plain">client.setServer(mqtt_server, </code><code class="arduino constants">1883</code><code class="arduino plain">);</code></div><div class="line number57 index57 alt2"><code class="arduino spaces">&nbsp;</code><code class="arduino plain">client.setCallback(callback);</code></div><div class="line number58 index58 alt1">&nbsp;</div><div class="line number59 index59 alt2"><code class="arduino spaces">&nbsp;</code><code class="arduino functions">pinMode</code><code class="arduino plain">(ledPin, </code><code class="arduino constants bold">OUTPUT</code><code class="arduino plain">);</code></div><div class="line number60 index60 alt1"><code class="arduino plain">}</code></div><div class="line number61 index61 alt2">&nbsp;</div><div class="line number62 index62 alt1"><code class="arduino color1 bold">void</code> <code class="arduino keyword bold">loop</code><code class="arduino plain">()</code></div><div class="line number63 index63 alt2"><code class="arduino plain">{</code></div><div class="line number64 index64 alt1"><code class="arduino spaces">&nbsp;</code><code class="arduino keyword bold">if</code> <code class="arduino plain">(</code><code class="arduino plain bold">!</code><code class="arduino plain">client.connected()) {</code></div><div class="line number65 index65 alt2"><code class="arduino spaces">&nbsp;&nbsp;</code><code class="arduino plain">reconnect();</code></div><div class="line number66 index66 alt1"><code class="arduino spaces">&nbsp;</code><code class="arduino plain">}</code></div><div class="line number67 index67 alt2"><code class="arduino spaces">&nbsp;</code><code class="arduino plain">client.</code><code class="arduino keyword bold">loop</code><code class="arduino plain">();</code></div><div class="line number68 index68 alt1"><code class="arduino plain">}</code></div></div></td></tr></tbody></table></div></div><div class="callout">Notice that HIGH and LOW are reversed for the LED pin…</div><p>All
 of the magic happens inside of the function “callback”. In your real 
code, you probably want to write a function to handle receiving 
messages. Since I’m only sending single character messages on one topic,
 this simple code works.</p><h2>Conclusion</h2><p>This MQTT tutorial is 
pretty basic. However, it shows the minimum necessary to connect a 
Raspberry Pi, ESP8266 (or Arduino), to a PC running an MQTT Broker.</p><p>In the future, I’ll be addressing how to send more complex messages over MQTT. Make sure you subscribe to the <a href="https://www.baldengineer.com/feed">RSS feed</a> or <a href="https://www.baldengineer.com/subscribe">email notifications</a> to know when those become available.</p><p class="comment-reminder reminder"><span class="preface">Question: </span>Is there a device you’d like to run MQTT on, other than these? <span class="comment-prompt">You can leave a comment by <a href="https://www.baldengineer.com/mqtt-tutorial.html#respond">clicking here</a>.</span></p><div class="gbaldee gbaldee-8"><div class="gbaldee-single abaldee-23"><script type="text/javascript">amzn_assoc_placement = "adunit0";
amzn_assoc_search_bar = "false";
amzn_assoc_tracking_id = "baldengineer-20";
amzn_assoc_ad_mode = "manual";
amzn_assoc_ad_type = "smart";
amzn_assoc_marketplace = "amazon";
amzn_assoc_region = "US";
amzn_assoc_title = "Support baldengineer.com with Amazon";
amzn_assoc_textlinks = "B017PDWNKE,B00JFJJTM2,B00M3P0CKS,B0189GX5CQ,B016RAVBQI,B00NANNJLQ,B00S7GAVEO,B00ID39LM4,B0153R2A9I,B00MBWMIGO,B00ANZRT4M,B0087YK0CO,B004X4L076,B017PDWNKE";
amzn_assoc_linkid = "ea3f03c5bb7720ef074d8d23321283de";
amzn_assoc_asins = "B00ANZRT4M,B0087YK0CO,B004X4L076,B017PDWNKE";</script> <script src="MQTT%20Tutorial%20for%20Raspberry%20Pi,%20Arduino,%20and%20ESP8266%20-%20Bald%20Engineer_files/onejs.js"></script></div></div></div><div class="entry-footer"><div class="entry-date-wrap"> <span class="posted-on">Posted on </span><time class="entry-date updated" datetime="2016-02-24T08:00:45+00:00" pubdate="">Wednesday, February 24, 2016</time></div> <span class="cat-links"> Categories: <a href="https://www.baldengineer.com/category/tutorials/arduino" rel="category tag">Arduino</a>, <a href="https://www.baldengineer.com/category/blog" rel="category tag">Blog</a>, <a href="https://www.baldengineer.com/category/tutorials/esp8266" rel="category tag">ESP8266</a>, <a href="https://www.baldengineer.com/category/blog/iot" rel="category tag">IoT</a>, <a href="https://www.baldengineer.com/category/tutorials/iot-tutorials" rel="category tag">IoT-Tutorials</a>, <a href="https://www.baldengineer.com/category/tutorials/raspberry-pi" rel="category tag">Raspberry Pi</a>, <a href="https://www.baldengineer.com/category/tutorials" rel="category tag">Tutorials</a> </span><div class="disclosure">Disclosure
 of Material Connection: Some of the links in the post above are 
“affiliate links.” This means if you click on the link and purchase the 
item, I will receive an affiliate commission. Regardless, I only 
recommend products or services I use personally and believe will add 
value to my readers. I am disclosing this in accordance with the Federal
 Trade Commission’s <a href="http://www.access.gpo.gov/nara/cfr/waisidx_03/16cfr255_03.html" target="_blank">16 CFR, Part 255</a>: “Guides Concerning the Use of Endorsements and Testimonials in Advertising.”</div></div></article><nav role="navigation" id="nav-below" class="site-navigation post-navigation"><h3 class="assistive-text">Post navigation</h3><div class="nav-previous"><a href="https://www.baldengineer.com/mqtt-introduction.html" rel="prev"><span class="meta-nav"><img draggable="false" class="emoji" alt="⬅" src="MQTT%20Tutorial%20for%20Raspberry%20Pi,%20Arduino,%20and%20ESP8266%20-%20Bald%20Engineer_files/2b05.svg"></span> MQTT Introduction and Tutorial Part One</a></div><div class="nav-next"><a href="https://www.baldengineer.com/esp8266-5-reasons-to-use-one.html" rel="next">Arduino to ESP8266, 5 reasons to switch <span class="meta-nav"><img draggable="false" class="emoji" alt="➡" src="MQTT%20Tutorial%20for%20Raspberry%20Pi,%20Arduino,%20and%20ESP8266%20-%20Bald%20Engineer_files/27a1.svg"></span></a></div></nav><div id="comments-policy"><p>Long comments, URLs, and code tend to get flagged for spam moderation. No need to resubmit.</p></div><div id="comments" class="comments-area"><div id="respond" class="comment-respond"><h3 id="reply-title" class="comment-reply-title">Leave a comment <small><a rel="nofollow" id="cancel-comment-reply-link" href="https://www.baldengineer.com/mqtt-tutorial.html#respond" style="display:none;">Cancel reply</a></small></h3><form id="commentform" class="comment-form"> <iframe title="Comment Form" src="MQTT%20Tutorial%20for%20Raspberry%20Pi,%20Arduino,%20and%20ESP8266%20-%20Bald%20Engineer_files/a.html" style="width: 100%; height: 55px; border: 0px none;" name="jetpack_remote_comment" class="jetpack_remote_comment lazyloading" id="jetpack_remote_comment" sandbox="allow-same-origin allow-top-navigation allow-scripts allow-forms allow-popups" data-rocket-lazyload="fitvidscompatible" data-lazy-src="https://jetpack.wordpress.com/jetpack-comment/?blogid=55235184&amp;postid=5799&amp;comment_registration=0&amp;require_name_email=1&amp;stc_enabled=1&amp;stb_enabled=1&amp;show_avatars=1&amp;avatar_default=gravatar_default&amp;greeting=Leave+a+comment&amp;greeting_reply=Leave+a+Reply+to+%25s&amp;color_scheme=light&amp;lang=en_US&amp;jetpack_version=6.5&amp;show_cookie_consent=10&amp;has_cookie_consent=0&amp;sig=7f2106de5c23aa18c013957942d4f26c8927222d#parent=https%3A%2F%2Fwww.baldengineer.com%2Fmqtt-tutorial.html" scrolling="no" data-was-processed="true"></iframe><noscript><iframe title="Comment Form" src="https://jetpack.wordpress.com/jetpack-comment/?blogid=55235184&#038;postid=5799&#038;comment_registration=0&#038;require_name_email=1&#038;stc_enabled=1&#038;stb_enabled=1&#038;show_avatars=1&#038;avatar_default=gravatar_default&#038;greeting=Leave+a+comment&#038;greeting_reply=Leave+a+Reply+to+%25s&#038;color_scheme=light&#038;lang=en_US&#038;jetpack_version=6.5&#038;show_cookie_consent=10&#038;has_cookie_consent=0&#038;sig=7f2106de5c23aa18c013957942d4f26c8927222d#parent=https%3A%2F%2Fwww.baldengineer.com%2Fmqtt-tutorial.html" style="width:100%; height: 430px; border:0;" name="jetpack_remote_comment" class="jetpack_remote_comment" id="jetpack_remote_comment" sandbox="allow-same-origin allow-top-navigation allow-scripts allow-forms allow-popups"></iframe></noscript> <!--[if !IE]><!--> <script>document.addEventListener('DOMContentLoaded', function () {
							var commentForms = document.getElementsByClassName('jetpack_remote_comment');
							for (var i = 0; i < commentForms.length; i++) {
								commentForms[i].allowTransparency = false;
								commentForms[i].scrolling = 'no';
							}
						});</script> <!--<![endif]--></form></div> <input name="comment_parent" id="comment_parent" value="" type="hidden"><h2 class="comments-title"> 134 thoughts on “<span>MQTT Tutorial for Raspberry Pi, Arduino, and ESP8266</span>”</h2><ol class="comment-list"><li id="comment-90142" class="comment even thread-even depth-1 parent"><article id="div-comment-90142" class="comment-body"><footer class="comment-meta"><div class="comment-author vcard"> <img alt="" src="MQTT%20Tutorial%20for%20Raspberry%20Pi,%20Arduino,%20and%20ESP8266%20-%20Bald%20Engineer_files/fd495861cd70febed5d0071383f6ea45.jpeg" data-lazy-src="https://secure.gravatar.com/avatar/fd495861cd70febed5d0071383f6ea45?s=48&amp;r=pg" data-lazy-srcset="https://secure.gravatar.com/avatar/fd495861cd70febed5d0071383f6ea45?s=96&amp;r=pg 2x" class="avatar avatar-48 photo lazyloaded" srcset="https://secure.gravatar.com/avatar/fd495861cd70febed5d0071383f6ea45?s=96&amp;r=pg 2x" data-was-processed="true" width="48" height="48"><noscript><img alt='' src='https://secure.gravatar.com/avatar/fd495861cd70febed5d0071383f6ea45?s=48&#038;r=pg' srcset='https://secure.gravatar.com/avatar/fd495861cd70febed5d0071383f6ea45?s=96&#038;r=pg 2x' class='avatar avatar-48 photo' height='48' width='48' /></noscript> <cite class="fn">Henry Gratzer</cite> <span class="says">says:</span></div><div class="comment-metadata"> <a href="https://www.baldengineer.com/mqtt-tutorial.html#comment-90142"> <time datetime="2018-08-11T09:41:34+00:00"> August 11, 2018 at 9:41 am </time> </a></div></footer><div class="comment-content"><p>Good
 tutorial, My question is in regard to the data send and received thru 
the network, home or internet. I did connect a few raspberry zero thru 
an ATT modem to a  broker in my home and I use MQTT because I read about
 the low data it uses. The modem plan rate is 1 MB/month for $1.50 1 MB 
is not much when you use WIFI but when you use LTE-M it is expensive. 
The problem I am having with the raspberry is I think that because of 
other services from the OS it uses a lot of data even without starting 
the MQTT, It is possible to reduce the data usage to only MQTT. Maybe 
you don’t see the question relevant but the main advantage of using MQTT
 is to be disconnected from the cloud (that use MQQT and charge you for 
the server use) and to reduce the use of data because MQTT is good to 
that. But if you waste your data on other services there is not most 
advantage left.</p></div><div class="reply"> <a rel="nofollow" class="comment-reply-link" href="#comment-90142" onclick='return addComment.moveForm( "div-comment-90142", "90142", "respond", "5799" )' aria-label="Reply to Henry Gratzer">Reply</a></div></article><ul class="children"><li id="comment-90146" class="comment byuser comment-author-baldengineer bypostauthor odd alt depth-2"><article id="div-comment-90146" class="comment-body"><footer class="comment-meta"><div class="comment-author vcard"> <img alt="" src="MQTT%20Tutorial%20for%20Raspberry%20Pi,%20Arduino,%20and%20ESP8266%20-%20Bald%20Engineer_files/0a1bd66a4cc97cbb242fb74d7aaf33ed.jpeg" data-lazy-src="https://secure.gravatar.com/avatar/0a1bd66a4cc97cbb242fb74d7aaf33ed?s=48&amp;r=pg" data-lazy-srcset="https://secure.gravatar.com/avatar/0a1bd66a4cc97cbb242fb74d7aaf33ed?s=96&amp;r=pg 2x" class="avatar avatar-48 photo lazyloaded" srcset="https://secure.gravatar.com/avatar/0a1bd66a4cc97cbb242fb74d7aaf33ed?s=96&amp;r=pg 2x" data-was-processed="true" width="48" height="48"><noscript><img alt='' src='https://secure.gravatar.com/avatar/0a1bd66a4cc97cbb242fb74d7aaf33ed?s=48&#038;r=pg' srcset='https://secure.gravatar.com/avatar/0a1bd66a4cc97cbb242fb74d7aaf33ed?s=96&#038;r=pg 2x' class='avatar avatar-48 photo' height='48' width='48' /></noscript> <cite class="fn"><a href="https://www.baldengineer.com/" rel="external nofollow" class="url">James Lewis</a></cite> <span class="says">says:</span></div><div class="comment-metadata"> <a href="https://www.baldengineer.com/mqtt-tutorial.html#comment-90146"> <time datetime="2018-08-14T22:46:13+00:00"> August 14, 2018 at 10:46 pm </time> </a></div></footer><div class="comment-content"><p>I would setup a reverse-firewall on the Pi to block non-MQTT traffic.</p></div><div class="reply"> <a rel="nofollow" class="comment-reply-link" href="#comment-90146" onclick='return addComment.moveForm( "div-comment-90146", "90146", "respond", "5799" )' aria-label="Reply to James Lewis">Reply</a></div></article></li></ul></li><li id="comment-89901" class="comment even thread-odd thread-alt depth-1"><article id="div-comment-89901" class="comment-body"><footer class="comment-meta"><div class="comment-author vcard"> <img alt="" src="MQTT%20Tutorial%20for%20Raspberry%20Pi,%20Arduino,%20and%20ESP8266%20-%20Bald%20Engineer_files/812b03011aad0de7cece629e051ae83f.jpeg" data-lazy-src="https://secure.gravatar.com/avatar/812b03011aad0de7cece629e051ae83f?s=48&amp;r=pg" data-lazy-srcset="https://secure.gravatar.com/avatar/812b03011aad0de7cece629e051ae83f?s=96&amp;r=pg 2x" class="avatar avatar-48 photo lazyloaded" srcset="https://secure.gravatar.com/avatar/812b03011aad0de7cece629e051ae83f?s=96&amp;r=pg 2x" data-was-processed="true" width="48" height="48"><noscript><img alt='' src='https://secure.gravatar.com/avatar/812b03011aad0de7cece629e051ae83f?s=48&#038;r=pg' srcset='https://secure.gravatar.com/avatar/812b03011aad0de7cece629e051ae83f?s=96&#038;r=pg 2x' class='avatar avatar-48 photo' height='48' width='48' /></noscript> <cite class="fn">Thangaraj Mukara Dhakshinamoorthy</cite> <span class="says">says:</span></div><div class="comment-metadata"> <a href="https://www.baldengineer.com/mqtt-tutorial.html#comment-89901"> <time datetime="2018-05-26T05:07:49+00:00"> May 26, 2018 at 5:07 am </time> </a></div></footer><div class="comment-content"><p>I want to run mqtt on a automatic tea machine, thereby I can turn on/off remotely from my mobile phone.<br> or even I can program in python in way it orders tea powder from amazon by itself if its getting below a certain level.</p></div><div class="reply"> <a rel="nofollow" class="comment-reply-link" href="#comment-89901" onclick='return addComment.moveForm( "div-comment-89901", "89901", "respond", "5799" )' aria-label="Reply to Thangaraj Mukara Dhakshinamoorthy">Reply</a></div></article></li><li id="comment-89725" class="comment odd alt thread-even depth-1"><article id="div-comment-89725" class="comment-body"><footer class="comment-meta"><div class="comment-author vcard"> <img alt="" src="MQTT%20Tutorial%20for%20Raspberry%20Pi,%20Arduino,%20and%20ESP8266%20-%20Bald%20Engineer_files/a6d85e01dbed5baddd346917abcff784.jpeg" data-lazy-src="https://secure.gravatar.com/avatar/a6d85e01dbed5baddd346917abcff784?s=48&amp;r=pg" data-lazy-srcset="https://secure.gravatar.com/avatar/a6d85e01dbed5baddd346917abcff784?s=96&amp;r=pg 2x" class="avatar avatar-48 photo lazyloaded" srcset="https://secure.gravatar.com/avatar/a6d85e01dbed5baddd346917abcff784?s=96&amp;r=pg 2x" data-was-processed="true" width="48" height="48"><noscript><img alt='' src='https://secure.gravatar.com/avatar/a6d85e01dbed5baddd346917abcff784?s=48&#038;r=pg' srcset='https://secure.gravatar.com/avatar/a6d85e01dbed5baddd346917abcff784?s=96&#038;r=pg 2x' class='avatar avatar-48 photo' height='48' width='48' /></noscript> <cite class="fn">venky</cite> <span class="says">says:</span></div><div class="comment-metadata"> <a href="https://www.baldengineer.com/mqtt-tutorial.html#comment-89725"> <time datetime="2018-03-02T02:41:20+00:00"> March 2, 2018 at 2:41 am </time> </a></div></footer><div class="comment-content"><p>can i follow the procedure for ESP32</p></div><div class="reply"> <a rel="nofollow" class="comment-reply-link" href="#comment-89725" onclick='return addComment.moveForm( "div-comment-89725", "89725", "respond", "5799" )' aria-label="Reply to venky">Reply</a></div></article></li><li id="comment-89685" class="comment even thread-odd thread-alt depth-1"><article id="div-comment-89685" class="comment-body"><footer class="comment-meta"><div class="comment-author vcard"> <img alt="" src="data:image/gif;base64,R0lGODdhAQABAPAAAP///wAAACwAAAAAAQABAEACAkQBADs=" data-lazy-src="https://secure.gravatar.com/avatar/90b9af652292c747437c4f26f4af73b7?s=48&amp;r=pg" data-lazy-srcset="https://secure.gravatar.com/avatar/90b9af652292c747437c4f26f4af73b7?s=96&amp;r=pg 2x" class="avatar avatar-48 photo" width="48" height="48"><noscript><img alt='' src='https://secure.gravatar.com/avatar/90b9af652292c747437c4f26f4af73b7?s=48&#038;r=pg' srcset='https://secure.gravatar.com/avatar/90b9af652292c747437c4f26f4af73b7?s=96&#038;r=pg 2x' class='avatar avatar-48 photo' height='48' width='48' /></noscript> <cite class="fn">Willem</cite> <span class="says">says:</span></div><div class="comment-metadata"> <a href="https://www.baldengineer.com/mqtt-tutorial.html#comment-89685"> <time datetime="2018-02-06T15:21:48+00:00"> February 6, 2018 at 3:21 pm </time> </a></div></footer><div class="comment-content"><p>Question, in the last example for the ESP I don’t see where you make the connection to,the WiFi network.<br> However it works to my surprize!  But the ssid and password are never referred to. How does this work?</p></div><div class="reply"> <a rel="nofollow" class="comment-reply-link" href="#comment-89685" onclick='return addComment.moveForm( "div-comment-89685", "89685", "respond", "5799" )' aria-label="Reply to Willem">Reply</a></div></article></li><li id="comment-89642" class="comment odd alt thread-even depth-1"><article id="div-comment-89642" class="comment-body"><footer class="comment-meta"><div class="comment-author vcard"> <img alt="" src="data:image/gif;base64,R0lGODdhAQABAPAAAP///wAAACwAAAAAAQABAEACAkQBADs=" data-lazy-src="https://secure.gravatar.com/avatar/269b5d12341ab63d1c6df841cff7633b?s=48&amp;r=pg" data-lazy-srcset="https://secure.gravatar.com/avatar/269b5d12341ab63d1c6df841cff7633b?s=96&amp;r=pg 2x" class="avatar avatar-48 photo" width="48" height="48"><noscript><img alt='' src='https://secure.gravatar.com/avatar/269b5d12341ab63d1c6df841cff7633b?s=48&#038;r=pg' srcset='https://secure.gravatar.com/avatar/269b5d12341ab63d1c6df841cff7633b?s=96&#038;r=pg 2x' class='avatar avatar-48 photo' height='48' width='48' /></noscript> <cite class="fn">Mark Moon</cite> <span class="says">says:</span></div><div class="comment-metadata"> <a href="https://www.baldengineer.com/mqtt-tutorial.html#comment-89642"> <time datetime="2018-01-11T13:10:21+00:00"> January 11, 2018 at 1:10 pm </time> </a></div></footer><div class="comment-content"><p>I was also curious if bacnet commands would travel well through mqtt.</p></div><div class="reply"> <a rel="nofollow" class="comment-reply-link" href="#comment-89642" onclick='return addComment.moveForm( "div-comment-89642", "89642", "respond", "5799" )' aria-label="Reply to Mark Moon">Reply</a></div></article></li><li id="comment-89641" class="comment even thread-odd thread-alt depth-1"><article id="div-comment-89641" class="comment-body"><footer class="comment-meta"><div class="comment-author vcard"> <img alt="" src="data:image/gif;base64,R0lGODdhAQABAPAAAP///wAAACwAAAAAAQABAEACAkQBADs=" data-lazy-src="https://secure.gravatar.com/avatar/269b5d12341ab63d1c6df841cff7633b?s=48&amp;r=pg" data-lazy-srcset="https://secure.gravatar.com/avatar/269b5d12341ab63d1c6df841cff7633b?s=96&amp;r=pg 2x" class="avatar avatar-48 photo" width="48" height="48"><noscript><img alt='' src='https://secure.gravatar.com/avatar/269b5d12341ab63d1c6df841cff7633b?s=48&#038;r=pg' srcset='https://secure.gravatar.com/avatar/269b5d12341ab63d1c6df841cff7633b?s=96&#038;r=pg 2x' class='avatar avatar-48 photo' height='48' width='48' /></noscript> <cite class="fn">Mark Moon</cite> <span class="says">says:</span></div><div class="comment-metadata"> <a href="https://www.baldengineer.com/mqtt-tutorial.html#comment-89641"> <time datetime="2018-01-11T13:08:13+00:00"> January 11, 2018 at 1:08 pm </time> </a></div></footer><div class="comment-content"><p>Wonder if wireguard would work with linux mqtt…</p></div><div class="reply"> <a rel="nofollow" class="comment-reply-link" href="#comment-89641" onclick='return addComment.moveForm( "div-comment-89641", "89641", "respond", "5799" )' aria-label="Reply to Mark Moon">Reply</a></div></article></li><li id="comment-89523" class="comment odd alt thread-even depth-1 parent"><article id="div-comment-89523" class="comment-body"><footer class="comment-meta"><div class="comment-author vcard"> <img alt="" src="data:image/gif;base64,R0lGODdhAQABAPAAAP///wAAACwAAAAAAQABAEACAkQBADs=" data-lazy-src="https://secure.gravatar.com/avatar/fbad65843ec98de92e5f0b263e09be61?s=48&amp;r=pg" data-lazy-srcset="https://secure.gravatar.com/avatar/fbad65843ec98de92e5f0b263e09be61?s=96&amp;r=pg 2x" class="avatar avatar-48 photo" width="48" height="48"><noscript><img alt='' src='https://secure.gravatar.com/avatar/fbad65843ec98de92e5f0b263e09be61?s=48&#038;r=pg' srcset='https://secure.gravatar.com/avatar/fbad65843ec98de92e5f0b263e09be61?s=96&#038;r=pg 2x' class='avatar avatar-48 photo' height='48' width='48' /></noscript> <cite class="fn">Ankit Jain</cite> <span class="says">says:</span></div><div class="comment-metadata"> <a href="https://www.baldengineer.com/mqtt-tutorial.html#comment-89523"> <time datetime="2017-11-09T06:39:52+00:00"> November 9, 2017 at 6:39 am </time> </a></div></footer><div class="comment-content"><p>Thank You for amazing code sir, But i am facing [Error-2] Name or service not known.<br> ESP8266 is giving RC=2.<br> I am new to these things, please help me.</p></div><div class="reply"> <a rel="nofollow" class="comment-reply-link" href="#comment-89523" onclick='return addComment.moveForm( "div-comment-89523", "89523", "respond", "5799" )' aria-label="Reply to Ankit Jain">Reply</a></div></article><ul class="children"><li id="comment-89524" class="comment even depth-2"><article id="div-comment-89524" class="comment-body"><footer class="comment-meta"><div class="comment-author vcard"> <img alt="" src="data:image/gif;base64,R0lGODdhAQABAPAAAP///wAAACwAAAAAAQABAEACAkQBADs=" data-lazy-src="https://secure.gravatar.com/avatar/fbad65843ec98de92e5f0b263e09be61?s=48&amp;r=pg" data-lazy-srcset="https://secure.gravatar.com/avatar/fbad65843ec98de92e5f0b263e09be61?s=96&amp;r=pg 2x" class="avatar avatar-48 photo" width="48" height="48"><noscript><img alt='' src='https://secure.gravatar.com/avatar/fbad65843ec98de92e5f0b263e09be61?s=48&#038;r=pg' srcset='https://secure.gravatar.com/avatar/fbad65843ec98de92e5f0b263e09be61?s=96&#038;r=pg 2x' class='avatar avatar-48 photo' height='48' width='48' /></noscript> <cite class="fn">Ankit Jain</cite> <span class="says">says:</span></div><div class="comment-metadata"> <a href="https://www.baldengineer.com/mqtt-tutorial.html#comment-89524"> <time datetime="2017-11-09T07:30:15+00:00"> November 9, 2017 at 7:30 am </time> </a></div></footer><div class="comment-content"><p>sorry for mistyping…RC= -2</p></div><div class="reply"> <a rel="nofollow" class="comment-reply-link" href="#comment-89524" onclick='return addComment.moveForm( "div-comment-89524", "89524", "respond", "5799" )' aria-label="Reply to Ankit Jain">Reply</a></div></article></li></ul></li><li id="comment-89521" class="comment odd alt thread-odd thread-alt depth-1 parent"><article id="div-comment-89521" class="comment-body"><footer class="comment-meta"><div class="comment-author vcard"> <img alt="" src="data:image/gif;base64,R0lGODdhAQABAPAAAP///wAAACwAAAAAAQABAEACAkQBADs=" data-lazy-src="https://secure.gravatar.com/avatar/d8afb6220f69b0256492296c2fde61d7?s=48&amp;r=pg" data-lazy-srcset="https://secure.gravatar.com/avatar/d8afb6220f69b0256492296c2fde61d7?s=96&amp;r=pg 2x" class="avatar avatar-48 photo" width="48" height="48"><noscript><img alt='' src='https://secure.gravatar.com/avatar/d8afb6220f69b0256492296c2fde61d7?s=48&#038;r=pg' srcset='https://secure.gravatar.com/avatar/d8afb6220f69b0256492296c2fde61d7?s=96&#038;r=pg 2x' class='avatar avatar-48 photo' height='48' width='48' /></noscript> <cite class="fn">Chris</cite> <span class="says">says:</span></div><div class="comment-metadata"> <a href="https://www.baldengineer.com/mqtt-tutorial.html#comment-89521"> <time datetime="2017-11-09T05:55:22+00:00"> November 9, 2017 at 5:55 am </time> </a></div></footer><div class="comment-content"><p>James
 – Great tutorial and for someone like me that is just getting into MQTT
 has been a great help, looking forward to more.  The one on security 
would be very useful.</p><p>I don’t know if its just me but I’m finding 
it very hard to get any real noobie details on the PubSubClient library 
(and I find this with most library’s) other than the basic command list.</p><p>So
 far I have my Pi3 set up with Mosquitto and Node-Red, set up a basic 
LED on one pin, a dashboard and have the basic sketch working to read 
the any changes published for the LED.</p><p>Where I’m struggling now is
 where in the basic sketch do I start putting my code to publish data, 
for example, If I want to publish the temp from a sensor does this go in
 the normal loop (assuming after the client.loop(); command) or in the 
callback loop?</p><p>Thanks in advance for any help given.</p><p>Chris</p></div><div class="reply"> <a rel="nofollow" class="comment-reply-link" href="#comment-89521" onclick='return addComment.moveForm( "div-comment-89521", "89521", "respond", "5799" )' aria-label="Reply to Chris">Reply</a></div></article><ul class="children"><li id="comment-89525" class="comment byuser comment-author-baldengineer bypostauthor even depth-2"><article id="div-comment-89525" class="comment-body"><footer class="comment-meta"><div class="comment-author vcard"> <img alt="" src="data:image/gif;base64,R0lGODdhAQABAPAAAP///wAAACwAAAAAAQABAEACAkQBADs=" data-lazy-src="https://secure.gravatar.com/avatar/0a1bd66a4cc97cbb242fb74d7aaf33ed?s=48&amp;r=pg" data-lazy-srcset="https://secure.gravatar.com/avatar/0a1bd66a4cc97cbb242fb74d7aaf33ed?s=96&amp;r=pg 2x" class="avatar avatar-48 photo" width="48" height="48"><noscript><img alt='' src='https://secure.gravatar.com/avatar/0a1bd66a4cc97cbb242fb74d7aaf33ed?s=48&#038;r=pg' srcset='https://secure.gravatar.com/avatar/0a1bd66a4cc97cbb242fb74d7aaf33ed?s=96&#038;r=pg 2x' class='avatar avatar-48 photo' height='48' width='48' /></noscript> <cite class="fn"><a href="https://www.baldengineer.com/" rel="external nofollow" class="url">James Lewis</a></cite> <span class="says">says:</span></div><div class="comment-metadata"> <a href="https://www.baldengineer.com/mqtt-tutorial.html#comment-89525"> <time datetime="2017-11-09T11:55:01+00:00"> November 9, 2017 at 11:55 am </time> </a></div></footer><div class="comment-content"><p>It’s
 pretty simple. You just call publish, wherever you need to publish it. 
The basic example shows exactly this method. On line 46 you give it the 
topic and message. That’s it.</p></div><div class="reply"> <a rel="nofollow" class="comment-reply-link" href="#comment-89525" onclick='return addComment.moveForm( "div-comment-89525", "89525", "respond", "5799" )' aria-label="Reply to James Lewis">Reply</a></div></article></li><li id="comment-89876" class="comment odd alt depth-2"><article id="div-comment-89876" class="comment-body"><footer class="comment-meta"><div class="comment-author vcard"> <img alt="" src="data:image/gif;base64,R0lGODdhAQABAPAAAP///wAAACwAAAAAAQABAEACAkQBADs=" data-lazy-src="https://secure.gravatar.com/avatar/6bc8ab1e9ca0a09c96e883bd703497e3?s=48&amp;r=pg" data-lazy-srcset="https://secure.gravatar.com/avatar/6bc8ab1e9ca0a09c96e883bd703497e3?s=96&amp;r=pg 2x" class="avatar avatar-48 photo" width="48" height="48"><noscript><img alt='' src='https://secure.gravatar.com/avatar/6bc8ab1e9ca0a09c96e883bd703497e3?s=48&#038;r=pg' srcset='https://secure.gravatar.com/avatar/6bc8ab1e9ca0a09c96e883bd703497e3?s=96&#038;r=pg 2x' class='avatar avatar-48 photo' height='48' width='48' /></noscript> <cite class="fn"><a href="http://www.cocacola.de/" rel="external nofollow" class="url">Asd</a></cite> <span class="says">says:</span></div><div class="comment-metadata"> <a href="https://www.baldengineer.com/mqtt-tutorial.html#comment-89876"> <time datetime="2018-05-19T03:37:21+00:00"> May 19, 2018 at 3:37 am </time> </a></div></footer><div class="comment-content"><p>Its exactly the same for me…  it seems for the programmes so easy but im struggeling with it</p></div><div class="reply"> <a rel="nofollow" class="comment-reply-link" href="#comment-89876" onclick='return addComment.moveForm( "div-comment-89876", "89876", "respond", "5799" )' aria-label="Reply to Asd">Reply</a></div></article></li></ul></li><li id="comment-89474" class="comment even thread-even depth-1"><article id="div-comment-89474" class="comment-body"><footer class="comment-meta"><div class="comment-author vcard"> <img alt="" src="data:image/gif;base64,R0lGODdhAQABAPAAAP///wAAACwAAAAAAQABAEACAkQBADs=" data-lazy-src="https://secure.gravatar.com/avatar/f55c9049cf979d4434e1db33ea8925c7?s=48&amp;r=pg" data-lazy-srcset="https://secure.gravatar.com/avatar/f55c9049cf979d4434e1db33ea8925c7?s=96&amp;r=pg 2x" class="avatar avatar-48 photo" width="48" height="48"><noscript><img alt='' src='https://secure.gravatar.com/avatar/f55c9049cf979d4434e1db33ea8925c7?s=48&#038;r=pg' srcset='https://secure.gravatar.com/avatar/f55c9049cf979d4434e1db33ea8925c7?s=96&#038;r=pg 2x' class='avatar avatar-48 photo' height='48' width='48' /></noscript> <cite class="fn">Aravindkumar Chandramohan</cite> <span class="says">says:</span></div><div class="comment-metadata"> <a href="https://www.baldengineer.com/mqtt-tutorial.html#comment-89474"> <time datetime="2017-10-16T00:45:54+00:00"> October 16, 2017 at 12:45 am </time> </a></div></footer><div class="comment-content"><p>I would like to read temperature and acceleration via ardunio uno and send the data to ibm bluemix via esp 8266<br> could u guide me</p></div><div class="reply"> <a rel="nofollow" class="comment-reply-link" href="#comment-89474" onclick='return addComment.moveForm( "div-comment-89474", "89474", "respond", "5799" )' aria-label="Reply to Aravindkumar Chandramohan">Reply</a></div></article></li><li id="comment-89471" class="comment odd alt thread-odd thread-alt depth-1"><article id="div-comment-89471" class="comment-body"><footer class="comment-meta"><div class="comment-author vcard"> <img alt="" src="data:image/gif;base64,R0lGODdhAQABAPAAAP///wAAACwAAAAAAQABAEACAkQBADs=" data-lazy-src="https://secure.gravatar.com/avatar/8b1e2278966a1e51ac070477892c6c18?s=48&amp;r=pg" data-lazy-srcset="https://secure.gravatar.com/avatar/8b1e2278966a1e51ac070477892c6c18?s=96&amp;r=pg 2x" class="avatar avatar-48 photo" width="48" height="48"><noscript><img alt='' src='https://secure.gravatar.com/avatar/8b1e2278966a1e51ac070477892c6c18?s=48&#038;r=pg' srcset='https://secure.gravatar.com/avatar/8b1e2278966a1e51ac070477892c6c18?s=96&#038;r=pg 2x' class='avatar avatar-48 photo' height='48' width='48' /></noscript> <cite class="fn"><a href="http://www.crazyrobotics.com/" rel="external nofollow" class="url">Panda</a></cite> <span class="says">says:</span></div><div class="comment-metadata"> <a href="https://www.baldengineer.com/mqtt-tutorial.html#comment-89471"> <time datetime="2017-10-13T07:21:05+00:00"> October 13, 2017 at 7:21 am </time> </a></div></footer><div class="comment-content"><p>Thanks James,<br>
 Can you make a tutorial to control an RGB / WS2812 kind of led strip 
color control where led strip be connected to esp dev board and 
raspberry pi makes the wireless communication with esp to set the 
desired color.</p><p>Kudos</p></div><div class="reply"> <a rel="nofollow" class="comment-reply-link" href="#comment-89471" onclick='return addComment.moveForm( "div-comment-89471", "89471", "respond", "5799" )' aria-label="Reply to Panda">Reply</a></div></article></li><li id="comment-89457" class="comment even thread-even depth-1 parent"><article id="div-comment-89457" class="comment-body"><footer class="comment-meta"><div class="comment-author vcard"> <img alt="" src="data:image/gif;base64,R0lGODdhAQABAPAAAP///wAAACwAAAAAAQABAEACAkQBADs=" data-lazy-src="https://secure.gravatar.com/avatar/8b1e2278966a1e51ac070477892c6c18?s=48&amp;r=pg" data-lazy-srcset="https://secure.gravatar.com/avatar/8b1e2278966a1e51ac070477892c6c18?s=96&amp;r=pg 2x" class="avatar avatar-48 photo" width="48" height="48"><noscript><img alt='' src='https://secure.gravatar.com/avatar/8b1e2278966a1e51ac070477892c6c18?s=48&#038;r=pg' srcset='https://secure.gravatar.com/avatar/8b1e2278966a1e51ac070477892c6c18?s=96&#038;r=pg 2x' class='avatar avatar-48 photo' height='48' width='48' /></noscript> <cite class="fn"><a href="http://www.crazyrobotics.com/" rel="external nofollow" class="url">Panda</a></cite> <span class="says">says:</span></div><div class="comment-metadata"> <a href="https://www.baldengineer.com/mqtt-tutorial.html#comment-89457"> <time datetime="2017-10-11T07:25:39+00:00"> October 11, 2017 at 7:25 am </time> </a></div></footer><div class="comment-content"><p>Hello
 Baldengineer, its an awesome tutorial on MQTT communication. I am 
curious to know if its possible to port the same tutorial on a platform 
like Onion Omega 2 kind of hardware which is much cheaper as compared to
 Pi and possessing same power under the hood.</p><p>Thanks.</p></div><div class="reply"> <a rel="nofollow" class="comment-reply-link" href="#comment-89457" onclick='return addComment.moveForm( "div-comment-89457", "89457", "respond", "5799" )' aria-label="Reply to Panda">Reply</a></div></article><ul class="children"><li id="comment-89470" class="comment byuser comment-author-baldengineer bypostauthor odd alt depth-2"><article id="div-comment-89470" class="comment-body"><footer class="comment-meta"><div class="comment-author vcard"> <img alt="" src="data:image/gif;base64,R0lGODdhAQABAPAAAP///wAAACwAAAAAAQABAEACAkQBADs=" data-lazy-src="https://secure.gravatar.com/avatar/0a1bd66a4cc97cbb242fb74d7aaf33ed?s=48&amp;r=pg" data-lazy-srcset="https://secure.gravatar.com/avatar/0a1bd66a4cc97cbb242fb74d7aaf33ed?s=96&amp;r=pg 2x" class="avatar avatar-48 photo" width="48" height="48"><noscript><img alt='' src='https://secure.gravatar.com/avatar/0a1bd66a4cc97cbb242fb74d7aaf33ed?s=48&#038;r=pg' srcset='https://secure.gravatar.com/avatar/0a1bd66a4cc97cbb242fb74d7aaf33ed?s=96&#038;r=pg 2x' class='avatar avatar-48 photo' height='48' width='48' /></noscript> <cite class="fn"><a href="https://www.baldengineer.com/" rel="external nofollow" class="url">James Lewis</a></cite> <span class="says">says:</span></div><div class="comment-metadata"> <a href="https://www.baldengineer.com/mqtt-tutorial.html#comment-89470"> <time datetime="2017-10-13T07:15:03+00:00"> October 13, 2017 at 7:15 am </time> </a></div></footer><div class="comment-content"><p>Probably. mosquitto is an open source project. Personally, I have no interest in exploring the Onion Omega.</p></div><div class="reply"> <a rel="nofollow" class="comment-reply-link" href="#comment-89470" onclick='return addComment.moveForm( "div-comment-89470", "89470", "respond", "5799" )' aria-label="Reply to James Lewis">Reply</a></div></article></li></ul></li><li id="comment-89351" class="comment even thread-odd thread-alt depth-1 parent"><article id="div-comment-89351" class="comment-body"><footer class="comment-meta"><div class="comment-author vcard"> <img alt="" src="data:image/gif;base64,R0lGODdhAQABAPAAAP///wAAACwAAAAAAQABAEACAkQBADs=" data-lazy-src="https://secure.gravatar.com/avatar/e32e80675275450d8f40a92f474037c4?s=48&amp;r=pg" data-lazy-srcset="https://secure.gravatar.com/avatar/e32e80675275450d8f40a92f474037c4?s=96&amp;r=pg 2x" class="avatar avatar-48 photo" width="48" height="48"><noscript><img alt='' src='https://secure.gravatar.com/avatar/e32e80675275450d8f40a92f474037c4?s=48&#038;r=pg' srcset='https://secure.gravatar.com/avatar/e32e80675275450d8f40a92f474037c4?s=96&#038;r=pg 2x' class='avatar avatar-48 photo' height='48' width='48' /></noscript> <cite class="fn">Ervan Supriyanto</cite> <span class="says">says:</span></div><div class="comment-metadata"> <a href="https://www.baldengineer.com/mqtt-tutorial.html#comment-89351"> <time datetime="2017-09-01T22:56:10+00:00"> September 1, 2017 at 10:56 pm </time> </a></div></footer><div class="comment-content"><p>Hello!
 I want to ask you about how to make a simple MQTT server using java. I 
hope you reply my comment directly to my email. Thanks.</p></div><div class="reply"> <a rel="nofollow" class="comment-reply-link" href="#comment-89351" onclick='return addComment.moveForm( "div-comment-89351", "89351", "respond", "5799" )' aria-label="Reply to Ervan Supriyanto">Reply</a></div></article><ul class="children"><li id="comment-89354" class="comment byuser comment-author-baldengineer bypostauthor odd alt depth-2"><article id="div-comment-89354" class="comment-body"><footer class="comment-meta"><div class="comment-author vcard"> <img alt="" src="data:image/gif;base64,R0lGODdhAQABAPAAAP///wAAACwAAAAAAQABAEACAkQBADs=" data-lazy-src="https://secure.gravatar.com/avatar/0a1bd66a4cc97cbb242fb74d7aaf33ed?s=48&amp;r=pg" data-lazy-srcset="https://secure.gravatar.com/avatar/0a1bd66a4cc97cbb242fb74d7aaf33ed?s=96&amp;r=pg 2x" class="avatar avatar-48 photo" width="48" height="48"><noscript><img alt='' src='https://secure.gravatar.com/avatar/0a1bd66a4cc97cbb242fb74d7aaf33ed?s=48&#038;r=pg' srcset='https://secure.gravatar.com/avatar/0a1bd66a4cc97cbb242fb74d7aaf33ed?s=96&#038;r=pg 2x' class='avatar avatar-48 photo' height='48' width='48' /></noscript> <cite class="fn"><a href="https://www.baldengineer.com/" rel="external nofollow" class="url">James Lewis</a></cite> <span class="says">says:</span></div><div class="comment-metadata"> <a href="https://www.baldengineer.com/mqtt-tutorial.html#comment-89354"> <time datetime="2017-09-02T10:53:07+00:00"> September 2, 2017 at 10:53 am </time> </a></div></footer><div class="comment-content"><p>I know nothing about programming in Java. Nor do I know anything about how to <em>create</em> a MQTT broker.</p></div><div class="reply"> <a rel="nofollow" class="comment-reply-link" href="#comment-89354" onclick='return addComment.moveForm( "div-comment-89354", "89354", "respond", "5799" )' aria-label="Reply to James Lewis">Reply</a></div></article></li></ul></li><li id="comment-89336" class="comment even thread-even depth-1 parent"><article id="div-comment-89336" class="comment-body"><footer class="comment-meta"><div class="comment-author vcard"> <img alt="" src="data:image/gif;base64,R0lGODdhAQABAPAAAP///wAAACwAAAAAAQABAEACAkQBADs=" data-lazy-src="https://secure.gravatar.com/avatar/08b09605fd91adbaebc5c349b1f5a653?s=48&amp;r=pg" data-lazy-srcset="https://secure.gravatar.com/avatar/08b09605fd91adbaebc5c349b1f5a653?s=96&amp;r=pg 2x" class="avatar avatar-48 photo" width="48" height="48"><noscript><img alt='' src='https://secure.gravatar.com/avatar/08b09605fd91adbaebc5c349b1f5a653?s=48&#038;r=pg' srcset='https://secure.gravatar.com/avatar/08b09605fd91adbaebc5c349b1f5a653?s=96&#038;r=pg 2x' class='avatar avatar-48 photo' height='48' width='48' /></noscript> <cite class="fn">Amir</cite> <span class="says">says:</span></div><div class="comment-metadata"> <a href="https://www.baldengineer.com/mqtt-tutorial.html#comment-89336"> <time datetime="2017-08-28T14:32:51+00:00"> August 28, 2017 at 2:32 pm </time> </a></div></footer><div class="comment-content"><p>Need
 Help…. for my mqtt i am using username and password.  On raspberrypi 
mosquito_sub -d -u username -P password -t “dev/test” work fine but i am
 stuck in arduino</p></div><div class="reply"> <a rel="nofollow" class="comment-reply-link" href="#comment-89336" onclick='return addComment.moveForm( "div-comment-89336", "89336", "respond", "5799" )' aria-label="Reply to Amir">Reply</a></div></article><ul class="children"><li id="comment-89493" class="comment odd alt depth-2"><article id="div-comment-89493" class="comment-body"><footer class="comment-meta"><div class="comment-author vcard"> <img alt="" src="data:image/gif;base64,R0lGODdhAQABAPAAAP///wAAACwAAAAAAQABAEACAkQBADs=" data-lazy-src="https://secure.gravatar.com/avatar/3f9ee29bfdda773ec27bf9264b3f3b44?s=48&amp;r=pg" data-lazy-srcset="https://secure.gravatar.com/avatar/3f9ee29bfdda773ec27bf9264b3f3b44?s=96&amp;r=pg 2x" class="avatar avatar-48 photo" width="48" height="48"><noscript><img alt='' src='https://secure.gravatar.com/avatar/3f9ee29bfdda773ec27bf9264b3f3b44?s=48&#038;r=pg' srcset='https://secure.gravatar.com/avatar/3f9ee29bfdda773ec27bf9264b3f3b44?s=96&#038;r=pg 2x' class='avatar avatar-48 photo' height='48' width='48' /></noscript> <cite class="fn">oibdrew</cite> <span class="says">says:</span></div><div class="comment-metadata"> <a href="https://www.baldengineer.com/mqtt-tutorial.html#comment-89493"> <time datetime="2017-10-23T18:05:28+00:00"> October 23, 2017 at 6:05 pm </time> </a></div></footer><div class="comment-content"><p>not sure if you figured it out or not but this seems to answer our question<br> <a href="http://www.instructables.com/id/MQTT-Bare-Minimum-Sketch/" rel="nofollow">http://www.instructables.com/id/MQTT-Bare-Minimum-Sketch/</a><br> void reconnect() {<br> // Loop until we’re reconnected<br> while (!client.connected()) {<br> Serial.print(“Attempting MQTT connection…”);<br> // Attempt to connect<br> // If you do not want to use a username and password, change next line to<br> // if (client.connect(“ESP8266Client”)) {<br> if (client.connect(“ESP8266Client”, mqtt_user, mqtt_password)) {<br> Serial.println(“connected”);<br> } else {<br> Serial.print(“failed, rc=”);<br> Serial.print(client.state());<br> Serial.println(” try again in 5 seconds”);<br> // Wait 5 seconds before retrying<br> delay(5000);</p></div><div class="reply"> <a rel="nofollow" class="comment-reply-link" href="#comment-89493" onclick='return addComment.moveForm( "div-comment-89493", "89493", "respond", "5799" )' aria-label="Reply to oibdrew">Reply</a></div></article></li></ul></li><li id="comment-89277" class="comment even thread-odd thread-alt depth-1 parent"><article id="div-comment-89277" class="comment-body"><footer class="comment-meta"><div class="comment-author vcard"> <img alt="" src="data:image/gif;base64,R0lGODdhAQABAPAAAP///wAAACwAAAAAAQABAEACAkQBADs=" data-lazy-src="https://secure.gravatar.com/avatar/f68dfba0fc8051a9856dd065ac2e45af?s=48&amp;r=pg" data-lazy-srcset="https://secure.gravatar.com/avatar/f68dfba0fc8051a9856dd065ac2e45af?s=96&amp;r=pg 2x" class="avatar avatar-48 photo" width="48" height="48"><noscript><img alt='' src='https://secure.gravatar.com/avatar/f68dfba0fc8051a9856dd065ac2e45af?s=48&#038;r=pg' srcset='https://secure.gravatar.com/avatar/f68dfba0fc8051a9856dd065ac2e45af?s=96&#038;r=pg 2x' class='avatar avatar-48 photo' height='48' width='48' /></noscript> <cite class="fn">Stephen Heggood</cite> <span class="says">says:</span></div><div class="comment-metadata"> <a href="https://www.baldengineer.com/mqtt-tutorial.html#comment-89277"> <time datetime="2017-08-05T20:55:44+00:00"> August 5, 2017 at 8:55 pm </time> </a></div></footer><div class="comment-content"><p>I’d
 like to see a tutorial running the broker on a PI and 2 separate 
ardruino zeros; 1 as a sensor, the other to control a relay.</p></div><div class="reply"> <a rel="nofollow" class="comment-reply-link" href="#comment-89277" onclick='return addComment.moveForm( "div-comment-89277", "89277", "respond", "5799" )' aria-label="Reply to Stephen Heggood">Reply</a></div></article><ul class="children"><li id="comment-89278" class="comment byuser comment-author-baldengineer bypostauthor odd alt depth-2"><article id="div-comment-89278" class="comment-body"><footer class="comment-meta"><div class="comment-author vcard"> <img alt="" src="data:image/gif;base64,R0lGODdhAQABAPAAAP///wAAACwAAAAAAQABAEACAkQBADs=" data-lazy-src="https://secure.gravatar.com/avatar/0a1bd66a4cc97cbb242fb74d7aaf33ed?s=48&amp;r=pg" data-lazy-srcset="https://secure.gravatar.com/avatar/0a1bd66a4cc97cbb242fb74d7aaf33ed?s=96&amp;r=pg 2x" class="avatar avatar-48 photo" width="48" height="48"><noscript><img alt='' src='https://secure.gravatar.com/avatar/0a1bd66a4cc97cbb242fb74d7aaf33ed?s=48&#038;r=pg' srcset='https://secure.gravatar.com/avatar/0a1bd66a4cc97cbb242fb74d7aaf33ed?s=96&#038;r=pg 2x' class='avatar avatar-48 photo' height='48' width='48' /></noscript> <cite class="fn"><a href="https://www.baldengineer.com/" rel="external nofollow" class="url">James Lewis</a></cite> <span class="says">says:</span></div><div class="comment-metadata"> <a href="https://www.baldengineer.com/mqtt-tutorial.html#comment-89278"> <time datetime="2017-08-05T21:00:56+00:00"> August 5, 2017 at 9:00 pm </time> </a></div></footer><div class="comment-content"><p>There
 isn’t a need for a separate tutorial. mosquitto runs fine on the Pi. It
 is a linux PC. Only reason I put a PC here was to make the roles clear.
 For my house, my Pi runs the broker and the UI client that talks to it.
 (allowing other clients to talk to the broker as well.)</p></div><div class="reply"> <a rel="nofollow" class="comment-reply-link" href="#comment-89278" onclick='return addComment.moveForm( "div-comment-89278", "89278", "respond", "5799" )' aria-label="Reply to James Lewis">Reply</a></div></article></li></ul></li><li id="comment-89239" class="comment even thread-even depth-1"><article id="div-comment-89239" class="comment-body"><footer class="comment-meta"><div class="comment-author vcard"> <img alt="" src="data:image/gif;base64,R0lGODdhAQABAPAAAP///wAAACwAAAAAAQABAEACAkQBADs=" data-lazy-src="https://secure.gravatar.com/avatar/4ad359972c0b3475c35dd93f1f8ff259?s=48&amp;r=pg" data-lazy-srcset="https://secure.gravatar.com/avatar/4ad359972c0b3475c35dd93f1f8ff259?s=96&amp;r=pg 2x" class="avatar avatar-48 photo" width="48" height="48"><noscript><img alt='' src='https://secure.gravatar.com/avatar/4ad359972c0b3475c35dd93f1f8ff259?s=48&#038;r=pg' srcset='https://secure.gravatar.com/avatar/4ad359972c0b3475c35dd93f1f8ff259?s=96&#038;r=pg 2x' class='avatar avatar-48 photo' height='48' width='48' /></noscript> <cite class="fn"><a href="https://aboutiot.wordpress.com/" rel="external nofollow" class="url">Constantinos "Kostas" Kolias</a></cite> <span class="says">says:</span></div><div class="comment-metadata"> <a href="https://www.baldengineer.com/mqtt-tutorial.html#comment-89239"> <time datetime="2017-07-19T07:17:51+00:00"> July 19, 2017 at 7:17 am </time> </a></div></footer><div class="comment-content"><p>Hi,</p><p>Interesting article.<br> Do you know if the same can be achieved by using bluetooth (BLE) instead of WiFi?</p><p>Regards</p></div><div class="reply"> <a rel="nofollow" class="comment-reply-link" href="#comment-89239" onclick='return addComment.moveForm( "div-comment-89239", "89239", "respond", "5799" )' aria-label="Reply to Constantinos &quot;Kostas&quot; Kolias">Reply</a></div></article></li><li id="comment-89193" class="comment odd alt thread-odd thread-alt depth-1"><article id="div-comment-89193" class="comment-body"><footer class="comment-meta"><div class="comment-author vcard"> <img alt="" src="data:image/gif;base64,R0lGODdhAQABAPAAAP///wAAACwAAAAAAQABAEACAkQBADs=" data-lazy-src="https://secure.gravatar.com/avatar/f860c119b2f456da18e9ad82abe96aeb?s=48&amp;r=pg" data-lazy-srcset="https://secure.gravatar.com/avatar/f860c119b2f456da18e9ad82abe96aeb?s=96&amp;r=pg 2x" class="avatar avatar-48 photo" width="48" height="48"><noscript><img alt='' src='https://secure.gravatar.com/avatar/f860c119b2f456da18e9ad82abe96aeb?s=48&#038;r=pg' srcset='https://secure.gravatar.com/avatar/f860c119b2f456da18e9ad82abe96aeb?s=96&#038;r=pg 2x' class='avatar avatar-48 photo' height='48' width='48' /></noscript> <cite class="fn"><a href="http://arduinotronics.blogspot.com/" rel="external nofollow" class="url">Steve Spence</a></cite> <span class="says">says:</span></div><div class="comment-metadata"> <a href="https://www.baldengineer.com/mqtt-tutorial.html#comment-89193"> <time datetime="2017-06-23T10:29:10+00:00"> June 23, 2017 at 10:29 am </time> </a></div></footer><div class="comment-content"><p>I’m
 playing with the IC Station NODEMCU modules with onboard usb. Very 
inexpensive, reliable, and fun to program with the Arduino IDE. A nice 
match with the BME20 temp / humidity / barometric pressure module. Also 
interfacing with a inexpensive relay module. MQTT may be just the ticket
 for me. Thank you for the explanation.</p></div><div class="reply"> <a rel="nofollow" class="comment-reply-link" href="#comment-89193" onclick='return addComment.moveForm( "div-comment-89193", "89193", "respond", "5799" )' aria-label="Reply to Steve Spence">Reply</a></div></article></li><li id="comment-89064" class="comment even thread-even depth-1"><article id="div-comment-89064" class="comment-body"><footer class="comment-meta"><div class="comment-author vcard"> <img alt="" src="data:image/gif;base64,R0lGODdhAQABAPAAAP///wAAACwAAAAAAQABAEACAkQBADs=" data-lazy-src="https://secure.gravatar.com/avatar/47796f55ef963ee798b3bfd727ec6c0d?s=48&amp;r=pg" data-lazy-srcset="https://secure.gravatar.com/avatar/47796f55ef963ee798b3bfd727ec6c0d?s=96&amp;r=pg 2x" class="avatar avatar-48 photo" width="48" height="48"><noscript><img alt='' src='https://secure.gravatar.com/avatar/47796f55ef963ee798b3bfd727ec6c0d?s=48&#038;r=pg' srcset='https://secure.gravatar.com/avatar/47796f55ef963ee798b3bfd727ec6c0d?s=96&#038;r=pg 2x' class='avatar avatar-48 photo' height='48' width='48' /></noscript> <cite class="fn">Nick Sebring</cite> <span class="says">says:</span></div><div class="comment-metadata"> <a href="https://www.baldengineer.com/mqtt-tutorial.html#comment-89064"> <time datetime="2017-05-06T20:09:34+00:00"> May 6, 2017 at 8:09 pm </time> </a></div></footer><div class="comment-content"><p>James;<br> Retain flag<br> Rather than just asking how this works, I played around with it.  This is what I found for the retain flag.  Simply putting -r<br>
 at the end of the publish command sets the retain flag.  So if a 
subscribing client has been off line and comes back up after the 
“publish” was sent.  As soon as it comes back online and subscribes to 
the topic, it receives the last message sent.  You probably already knew
 that but I had been trying to figure out how the LWT and QOS was going 
to get me the last message sent for this scenario.   mosquitto_pub -t 
‘mytopic’ -m ‘mymessage’ -r<br> This works typing it on a command line on the Raspberry Pi but does not compile using arduino ide.<br> “`<br> client.publish(“Charts/PS”, “0” -r);<br> “`<br> Any suggestions?</p></div><div class="reply"> <a rel="nofollow" class="comment-reply-link" href="#comment-89064" onclick='return addComment.moveForm( "div-comment-89064", "89064", "respond", "5799" )' aria-label="Reply to Nick Sebring">Reply</a></div></article></li><li id="comment-89016" class="comment odd alt thread-odd thread-alt depth-1 parent"><article id="div-comment-89016" class="comment-body"><footer class="comment-meta"><div class="comment-author vcard"> <img alt="" src="data:image/gif;base64,R0lGODdhAQABAPAAAP///wAAACwAAAAAAQABAEACAkQBADs=" data-lazy-src="https://secure.gravatar.com/avatar/8d13d8d6fd1b0556669fe0d8fe1b8c99?s=48&amp;r=pg" data-lazy-srcset="https://secure.gravatar.com/avatar/8d13d8d6fd1b0556669fe0d8fe1b8c99?s=96&amp;r=pg 2x" class="avatar avatar-48 photo" width="48" height="48"><noscript><img alt='' src='https://secure.gravatar.com/avatar/8d13d8d6fd1b0556669fe0d8fe1b8c99?s=48&#038;r=pg' srcset='https://secure.gravatar.com/avatar/8d13d8d6fd1b0556669fe0d8fe1b8c99?s=96&#038;r=pg 2x' class='avatar avatar-48 photo' height='48' width='48' /></noscript> <cite class="fn"><a href="http://gravatar.com/kevinlcarlson" rel="external nofollow" class="url">kevinlcarlsonKevin Carlson</a></cite> <span class="says">says:</span></div><div class="comment-metadata"> <a href="https://www.baldengineer.com/mqtt-tutorial.html#comment-89016"> <time datetime="2017-04-21T17:59:06+00:00"> April 21, 2017 at 5:59 pm </time> </a></div></footer><div class="comment-content"><p>I just received an OpenMV Cam M7 from openmv.io – this is a camera board that runs MicroPython.<br>
 Wondering if anyone has used this or a similar board to run a MQTT 
client using the vendor’s WiFi shield?  Seems like it should work 
similarly to the Raspberry pi running Paho-mqtt.  I’ll give it a shot 
and post my results here…</p><p>Thanks,<br> Kevin</p></div><div class="reply"> <a rel="nofollow" class="comment-reply-link" href="#comment-89016" onclick='return addComment.moveForm( "div-comment-89016", "89016", "respond", "5799" )' aria-label="Reply to kevinlcarlsonKevin Carlson">Reply</a></div></article><ul class="children"><li id="comment-89280" class="comment even depth-2"><article id="div-comment-89280" class="comment-body"><footer class="comment-meta"><div class="comment-author vcard"> <img alt="" src="data:image/gif;base64,R0lGODdhAQABAPAAAP///wAAACwAAAAAAQABAEACAkQBADs=" data-lazy-src="https://secure.gravatar.com/avatar/d31b8d31ac3ffd91d6c6605505413cf1?s=48&amp;r=pg" data-lazy-srcset="https://secure.gravatar.com/avatar/d31b8d31ac3ffd91d6c6605505413cf1?s=96&amp;r=pg 2x" class="avatar avatar-48 photo" width="48" height="48"><noscript><img alt='' src='https://secure.gravatar.com/avatar/d31b8d31ac3ffd91d6c6605505413cf1?s=48&#038;r=pg' srcset='https://secure.gravatar.com/avatar/d31b8d31ac3ffd91d6c6605505413cf1?s=96&#038;r=pg 2x' class='avatar avatar-48 photo' height='48' width='48' /></noscript> <cite class="fn">Bonzadog</cite> <span class="says">says:</span></div><div class="comment-metadata"> <a href="https://www.baldengineer.com/mqtt-tutorial.html#comment-89280"> <time datetime="2017-08-06T04:45:19+00:00"> August 6, 2017 at 4:45 am </time> </a></div></footer><div class="comment-content"><p>I would be interested in that. I’ve just got my M7.</p></div><div class="reply"> <a rel="nofollow" class="comment-reply-link" href="#comment-89280" onclick='return addComment.moveForm( "div-comment-89280", "89280", "respond", "5799" )' aria-label="Reply to Bonzadog">Reply</a></div></article></li><li id="comment-89877" class="comment odd alt depth-2"><article id="div-comment-89877" class="comment-body"><footer class="comment-meta"><div class="comment-author vcard"> <img alt="" src="data:image/gif;base64,R0lGODdhAQABAPAAAP///wAAACwAAAAAAQABAEACAkQBADs=" data-lazy-src="https://secure.gravatar.com/avatar/d31b8d31ac3ffd91d6c6605505413cf1?s=48&amp;r=pg" data-lazy-srcset="https://secure.gravatar.com/avatar/d31b8d31ac3ffd91d6c6605505413cf1?s=96&amp;r=pg 2x" class="avatar avatar-48 photo" width="48" height="48"><noscript><img alt='' src='https://secure.gravatar.com/avatar/d31b8d31ac3ffd91d6c6605505413cf1?s=48&#038;r=pg' srcset='https://secure.gravatar.com/avatar/d31b8d31ac3ffd91d6c6605505413cf1?s=96&#038;r=pg 2x' class='avatar avatar-48 photo' height='48' width='48' /></noscript> <cite class="fn">Bonzadog</cite> <span class="says">says:</span></div><div class="comment-metadata"> <a href="https://www.baldengineer.com/mqtt-tutorial.html#comment-89877"> <time datetime="2018-05-19T05:09:13+00:00"> May 19, 2018 at 5:09 am </time> </a></div></footer><div class="comment-content"><p>19.5.2018<br> Hello Kevin,</p><p>At the moment I am stuck on a RPi3B+ and OPENCV problem.</p><p>I’ve
 decide to try out a new idea by putting all IO intensive Sensor 
programmes on an Anduino ( I need 3 A2D’s) and shift most of my sensors 
there. Then transmit common data via MQTT . That could make expansion a 
lot easier.</p><p>Have you got any further on the M7? I am wondering now
 if that is the way to go – RPi3 and a WebCan + OPENCV3.4.  I am very 
interesting to hear what you have found .</p></div><div class="reply"> <a rel="nofollow" class="comment-reply-link" href="#comment-89877" onclick='return addComment.moveForm( "div-comment-89877", "89877", "respond", "5799" )' aria-label="Reply to Bonzadog">Reply</a></div></article></li></ul></li><li id="comment-89009" class="comment even thread-even depth-1 parent"><article id="div-comment-89009" class="comment-body"><footer class="comment-meta"><div class="comment-author vcard"> <img alt="" src="data:image/gif;base64,R0lGODdhAQABAPAAAP///wAAACwAAAAAAQABAEACAkQBADs=" data-lazy-src="https://secure.gravatar.com/avatar/9a7319758029c79c11942efca42eeb38?s=48&amp;r=pg" data-lazy-srcset="https://secure.gravatar.com/avatar/9a7319758029c79c11942efca42eeb38?s=96&amp;r=pg 2x" class="avatar avatar-48 photo" width="48" height="48"><noscript><img alt='' src='https://secure.gravatar.com/avatar/9a7319758029c79c11942efca42eeb38?s=48&#038;r=pg' srcset='https://secure.gravatar.com/avatar/9a7319758029c79c11942efca42eeb38?s=96&#038;r=pg 2x' class='avatar avatar-48 photo' height='48' width='48' /></noscript> <cite class="fn">Rainer</cite> <span class="says">says:</span></div><div class="comment-metadata"> <a href="https://www.baldengineer.com/mqtt-tutorial.html#comment-89009"> <time datetime="2017-04-21T00:58:23+00:00"> April 21, 2017 at 12:58 am </time> </a></div></footer><div class="comment-content"><p>In
 the picture on top of the article it seams you use an touch display 
with your Pi. Even trying some tutorials and reading a lot, I do not get
 a own GUI with some buttons and functions. Would be nice to see ho you 
managed this<br> Thanks you</p></div><div class="reply"> <a rel="nofollow" class="comment-reply-link" href="#comment-89009" onclick='return addComment.moveForm( "div-comment-89009", "89009", "respond", "5799" )' aria-label="Reply to Rainer">Reply</a></div></article><ul class="children"><li id="comment-89011" class="comment byuser comment-author-baldengineer bypostauthor odd alt depth-2 parent"><article id="div-comment-89011" class="comment-body"><footer class="comment-meta"><div class="comment-author vcard"> <img alt="" src="data:image/gif;base64,R0lGODdhAQABAPAAAP///wAAACwAAAAAAQABAEACAkQBADs=" data-lazy-src="https://secure.gravatar.com/avatar/0a1bd66a4cc97cbb242fb74d7aaf33ed?s=48&amp;r=pg" data-lazy-srcset="https://secure.gravatar.com/avatar/0a1bd66a4cc97cbb242fb74d7aaf33ed?s=96&amp;r=pg 2x" class="avatar avatar-48 photo" width="48" height="48"><noscript><img alt='' src='https://secure.gravatar.com/avatar/0a1bd66a4cc97cbb242fb74d7aaf33ed?s=48&#038;r=pg' srcset='https://secure.gravatar.com/avatar/0a1bd66a4cc97cbb242fb74d7aaf33ed?s=96&#038;r=pg 2x' class='avatar avatar-48 photo' height='48' width='48' /></noscript> <cite class="fn"><a href="https://www.baldengineer.com/" rel="external nofollow" class="url">James Lewis</a></cite> <span class="says">says:</span></div><div class="comment-metadata"> <a href="https://www.baldengineer.com/mqtt-tutorial.html#comment-89011"> <time datetime="2017-04-21T07:57:10+00:00"> April 21, 2017 at 7:57 am </time> </a></div></footer><div class="comment-content"><p><a href="https://www.baldengineer.com/raspberry-pi-gui-tutorial.html" rel="nofollow">https://www.baldengineer.com/raspberry-pi-gui-tutorial.html</a></p></div><div class="reply"> <a rel="nofollow" class="comment-reply-link" href="#comment-89011" onclick='return addComment.moveForm( "div-comment-89011", "89011", "respond", "5799" )' aria-label="Reply to James Lewis">Reply</a></div></article><ul class="children"><li id="comment-89013" class="comment even depth-3"><article id="div-comment-89013" class="comment-body"><footer class="comment-meta"><div class="comment-author vcard"> <img alt="" src="data:image/gif;base64,R0lGODdhAQABAPAAAP///wAAACwAAAAAAQABAEACAkQBADs=" data-lazy-src="https://secure.gravatar.com/avatar/9a7319758029c79c11942efca42eeb38?s=48&amp;r=pg" data-lazy-srcset="https://secure.gravatar.com/avatar/9a7319758029c79c11942efca42eeb38?s=96&amp;r=pg 2x" class="avatar avatar-48 photo" width="48" height="48"><noscript><img alt='' src='https://secure.gravatar.com/avatar/9a7319758029c79c11942efca42eeb38?s=48&#038;r=pg' srcset='https://secure.gravatar.com/avatar/9a7319758029c79c11942efca42eeb38?s=96&#038;r=pg 2x' class='avatar avatar-48 photo' height='48' width='48' /></noscript> <cite class="fn">Rainer</cite> <span class="says">says:</span></div><div class="comment-metadata"> <a href="https://www.baldengineer.com/mqtt-tutorial.html#comment-89013"> <time datetime="2017-04-21T08:42:17+00:00"> April 21, 2017 at 8:42 am </time> </a></div></footer><div class="comment-content"><p>Thank you very much <img draggable="false" class="emoji" alt="🙂" src="MQTT%20Tutorial%20for%20Raspberry%20Pi,%20Arduino,%20and%20ESP8266%20-%20Bald%20Engineer_files/1f642.svg"></p></div><div class="reply"> <a rel="nofollow" class="comment-reply-link" href="#comment-89013" onclick='return addComment.moveForm( "div-comment-89013", "89013", "respond", "5799" )' aria-label="Reply to Rainer">Reply</a></div></article></li></ul></li></ul></li><li id="comment-89008" class="comment odd alt thread-odd thread-alt depth-1"><article id="div-comment-89008" class="comment-body"><footer class="comment-meta"><div class="comment-author vcard"> <img alt="" src="data:image/gif;base64,R0lGODdhAQABAPAAAP///wAAACwAAAAAAQABAEACAkQBADs=" data-lazy-src="https://secure.gravatar.com/avatar/10c3da57091d51297d4bd0154e2261fd?s=48&amp;r=pg" data-lazy-srcset="https://secure.gravatar.com/avatar/10c3da57091d51297d4bd0154e2261fd?s=96&amp;r=pg 2x" class="avatar avatar-48 photo" width="48" height="48"><noscript><img alt='' src='https://secure.gravatar.com/avatar/10c3da57091d51297d4bd0154e2261fd?s=48&#038;r=pg' srcset='https://secure.gravatar.com/avatar/10c3da57091d51297d4bd0154e2261fd?s=96&#038;r=pg 2x' class='avatar avatar-48 photo' height='48' width='48' /></noscript> <cite class="fn">Andreas</cite> <span class="says">says:</span></div><div class="comment-metadata"> <a href="https://www.baldengineer.com/mqtt-tutorial.html#comment-89008"> <time datetime="2017-04-21T00:09:44+00:00"> April 21, 2017 at 12:09 am </time> </a></div></footer><div class="comment-content"><p>I
 want to control the GPIO on ESP8266 from a python script on my RPi. The
 ESP runs standalone with ESP Easy, I have mosquitto and Paho installed 
on the RPi. Do I have to change the ESP firmware to get it to work?</p></div><div class="reply"> <a rel="nofollow" class="comment-reply-link" href="#comment-89008" onclick='return addComment.moveForm( "div-comment-89008", "89008", "respond", "5799" )' aria-label="Reply to Andreas">Reply</a></div></article></li><li id="comment-88961" class="comment even thread-even depth-1 parent"><article id="div-comment-88961" class="comment-body"><footer class="comment-meta"><div class="comment-author vcard"> <img alt="" src="data:image/gif;base64,R0lGODdhAQABAPAAAP///wAAACwAAAAAAQABAEACAkQBADs=" data-lazy-src="https://secure.gravatar.com/avatar/69d12825ac5e31ec4ad297b7460a3299?s=48&amp;r=pg" data-lazy-srcset="https://secure.gravatar.com/avatar/69d12825ac5e31ec4ad297b7460a3299?s=96&amp;r=pg 2x" class="avatar avatar-48 photo" width="48" height="48"><noscript><img alt='' src='https://secure.gravatar.com/avatar/69d12825ac5e31ec4ad297b7460a3299?s=48&#038;r=pg' srcset='https://secure.gravatar.com/avatar/69d12825ac5e31ec4ad297b7460a3299?s=96&#038;r=pg 2x' class='avatar avatar-48 photo' height='48' width='48' /></noscript> <cite class="fn">Nigel Trewartha</cite> <span class="says">says:</span></div><div class="comment-metadata"> <a href="https://www.baldengineer.com/mqtt-tutorial.html#comment-88961"> <time datetime="2017-04-10T04:34:35+00:00"> April 10, 2017 at 4:34 am </time> </a></div></footer><div class="comment-content"><p>Personally
 I dislike using any Cloud service and so reject such solutions. I 
suppose one could create ones own cloud – but probably addressing each 
Computer would be easier.</p></div><div class="reply"> <a rel="nofollow" class="comment-reply-link" href="#comment-88961" onclick='return addComment.moveForm( "div-comment-88961", "88961", "respond", "5799" )' aria-label="Reply to Nigel Trewartha">Reply</a></div></article><ul class="children"><li id="comment-88963" class="comment byuser comment-author-baldengineer bypostauthor odd alt depth-2 parent"><article id="div-comment-88963" class="comment-body"><footer class="comment-meta"><div class="comment-author vcard"> <img alt="" src="data:image/gif;base64,R0lGODdhAQABAPAAAP///wAAACwAAAAAAQABAEACAkQBADs=" data-lazy-src="https://secure.gravatar.com/avatar/0a1bd66a4cc97cbb242fb74d7aaf33ed?s=48&amp;r=pg" data-lazy-srcset="https://secure.gravatar.com/avatar/0a1bd66a4cc97cbb242fb74d7aaf33ed?s=96&amp;r=pg 2x" class="avatar avatar-48 photo" width="48" height="48"><noscript><img alt='' src='https://secure.gravatar.com/avatar/0a1bd66a4cc97cbb242fb74d7aaf33ed?s=48&#038;r=pg' srcset='https://secure.gravatar.com/avatar/0a1bd66a4cc97cbb242fb74d7aaf33ed?s=96&#038;r=pg 2x' class='avatar avatar-48 photo' height='48' width='48' /></noscript> <cite class="fn"><a href="https://www.baldengineer.com/" rel="external nofollow" class="url">James Lewis</a></cite> <span class="says">says:</span></div><div class="comment-metadata"> <a href="https://www.baldengineer.com/mqtt-tutorial.html#comment-88963"> <time datetime="2017-04-10T08:15:10+00:00"> April 10, 2017 at 8:15 am </time> </a></div></footer><div class="comment-content"><p>Nothing in this tutorial is “cloud based.” It is all hosted on a local network.</p></div><div class="reply"> <a rel="nofollow" class="comment-reply-link" href="#comment-88963" onclick='return addComment.moveForm( "div-comment-88963", "88963", "respond", "5799" )' aria-label="Reply to James Lewis">Reply</a></div></article><ul class="children"><li id="comment-88968" class="comment even depth-3 parent"><article id="div-comment-88968" class="comment-body"><footer class="comment-meta"><div class="comment-author vcard"> <img alt="" src="data:image/gif;base64,R0lGODdhAQABAPAAAP///wAAACwAAAAAAQABAEACAkQBADs=" data-lazy-src="https://secure.gravatar.com/avatar/69d12825ac5e31ec4ad297b7460a3299?s=48&amp;r=pg" data-lazy-srcset="https://secure.gravatar.com/avatar/69d12825ac5e31ec4ad297b7460a3299?s=96&amp;r=pg 2x" class="avatar avatar-48 photo" width="48" height="48"><noscript><img alt='' src='https://secure.gravatar.com/avatar/69d12825ac5e31ec4ad297b7460a3299?s=48&#038;r=pg' srcset='https://secure.gravatar.com/avatar/69d12825ac5e31ec4ad297b7460a3299?s=96&#038;r=pg 2x' class='avatar avatar-48 photo' height='48' width='48' /></noscript> <cite class="fn">Nigel Trewartha</cite> <span class="says">says:</span></div><div class="comment-metadata"> <a href="https://www.baldengineer.com/mqtt-tutorial.html#comment-88968"> <time datetime="2017-04-10T10:43:43+00:00"> April 10, 2017 at 10:43 am </time> </a></div></footer><div class="comment-content"><p>True, my mistake.<br> “Services like Amazon’s AWS IoT and AdafruitIO are cloud-based brokers” gave me the wrong impression…..</p></div><div class="reply"> <a rel="nofollow" class="comment-reply-link" href="#comment-88968" onclick='return addComment.moveForm( "div-comment-88968", "88968", "respond", "5799" )' aria-label="Reply to Nigel Trewartha">Reply</a></div></article><ul class="children"><li id="comment-88969" class="comment byuser comment-author-baldengineer bypostauthor odd alt depth-4 parent"><article id="div-comment-88969" class="comment-body"><footer class="comment-meta"><div class="comment-author vcard"> <img alt="" src="data:image/gif;base64,R0lGODdhAQABAPAAAP///wAAACwAAAAAAQABAEACAkQBADs=" data-lazy-src="https://secure.gravatar.com/avatar/0a1bd66a4cc97cbb242fb74d7aaf33ed?s=48&amp;r=pg" data-lazy-srcset="https://secure.gravatar.com/avatar/0a1bd66a4cc97cbb242fb74d7aaf33ed?s=96&amp;r=pg 2x" class="avatar avatar-48 photo" width="48" height="48"><noscript><img alt='' src='https://secure.gravatar.com/avatar/0a1bd66a4cc97cbb242fb74d7aaf33ed?s=48&#038;r=pg' srcset='https://secure.gravatar.com/avatar/0a1bd66a4cc97cbb242fb74d7aaf33ed?s=96&#038;r=pg 2x' class='avatar avatar-48 photo' height='48' width='48' /></noscript> <cite class="fn"><a href="https://www.baldengineer.com/" rel="external nofollow" class="url">James Lewis</a></cite> <span class="says">says:</span></div><div class="comment-metadata"> <a href="https://www.baldengineer.com/mqtt-tutorial.html#comment-88969"> <time datetime="2017-04-10T22:00:47+00:00"> April 10, 2017 at 10:00 pm </time> </a></div></footer><div class="comment-content"><p>The rest of that sentence is “you may or may not need the full support of a cloud-based service.” <em><strong>With the very next sentence being</strong></em> “If you want to host a broker”.</p><p>Sorry I couldn’t make it clearer.</p></div><div class="reply"> <a rel="nofollow" class="comment-reply-link" href="#comment-88969" onclick='return addComment.moveForm( "div-comment-88969", "88969", "respond", "5799" )' aria-label="Reply to James Lewis">Reply</a></div></article><ul class="children"><li id="comment-88970" class="comment even depth-5"><article id="div-comment-88970" class="comment-body"><footer class="comment-meta"><div class="comment-author vcard"> <img alt="" src="data:image/gif;base64,R0lGODdhAQABAPAAAP///wAAACwAAAAAAQABAEACAkQBADs=" data-lazy-src="https://secure.gravatar.com/avatar/69d12825ac5e31ec4ad297b7460a3299?s=48&amp;r=pg" data-lazy-srcset="https://secure.gravatar.com/avatar/69d12825ac5e31ec4ad297b7460a3299?s=96&amp;r=pg 2x" class="avatar avatar-48 photo" width="48" height="48"><noscript><img alt='' src='https://secure.gravatar.com/avatar/69d12825ac5e31ec4ad297b7460a3299?s=48&#038;r=pg' srcset='https://secure.gravatar.com/avatar/69d12825ac5e31ec4ad297b7460a3299?s=96&#038;r=pg 2x' class='avatar avatar-48 photo' height='48' width='48' /></noscript> <cite class="fn">Nigel Trewartha</cite> <span class="says">says:</span></div><div class="comment-metadata"> <a href="https://www.baldengineer.com/mqtt-tutorial.html#comment-88970"> <time datetime="2017-04-11T04:09:54+00:00"> April 11, 2017 at 4:09 am </time> </a></div></footer><div class="comment-content"><p>It was clear enough, the fault lies entirely with me. I think I read the<br> article far too superficially.<br>
 I now have a Broker on a Pi2 and simple MQTT request a working. Now for
 more publichings and getting the RPi’s to work on the received 
subscriptions. Then I want to wite a form of monitor on the PC that 
reads all topics and displays them on screen. I would like to use<br> Qt5 and C++ for that.</p></div><div class="reply"></div></article></li></ul></li></ul></li></ul></li></ul></li><li id="comment-88957" class="comment odd alt thread-odd thread-alt depth-1 parent"><article id="div-comment-88957" class="comment-body"><footer class="comment-meta"><div class="comment-author vcard"> <img alt="" src="data:image/gif;base64,R0lGODdhAQABAPAAAP///wAAACwAAAAAAQABAEACAkQBADs=" data-lazy-src="https://secure.gravatar.com/avatar/397172e90de124102b7166cc822e77ad?s=48&amp;r=pg" data-lazy-srcset="https://secure.gravatar.com/avatar/397172e90de124102b7166cc822e77ad?s=96&amp;r=pg 2x" class="avatar avatar-48 photo" width="48" height="48"><noscript><img alt='' src='https://secure.gravatar.com/avatar/397172e90de124102b7166cc822e77ad?s=48&#038;r=pg' srcset='https://secure.gravatar.com/avatar/397172e90de124102b7166cc822e77ad?s=96&#038;r=pg 2x' class='avatar avatar-48 photo' height='48' width='48' /></noscript> <cite class="fn">Sohum</cite> <span class="says">says:</span></div><div class="comment-metadata"> <a href="https://www.baldengineer.com/mqtt-tutorial.html#comment-88957"> <time datetime="2017-04-09T10:38:11+00:00"> April 9, 2017 at 10:38 am </time> </a></div></footer><div class="comment-content"><p>Hi!<br>
 Thank you for your easy to follow explanations. I am trying to get my 
ESP8266 talking via MQTT to the terminal on my Pi. I used CloudMQTT(the 
free service) as a server and it worked very well. I then used different
 brokers and it all worked well. However, for my application I would 
like to have the server/ broker sit on the Raspberry Pi itself.<br> So I
 tried using 127.0.0.1 as my host. However, using PubSubClient for the 
ESP, on the serial monitor, it connects to wifi but at “Attempting MQTT 
connection”, it returns failed with rc = -2. Am I missing something.<br> 1. The Pi, and the ESP both are connected to the same WiFi network.<br>
 2. When I open two terminal windows on the Pi, use 127.0.0.1 as my 
host, and pub from one and sub from the other, it works very well. It 
also works when I am sending messages using the python library from my 
Pi to the terminal windows on the Pi itself. It is only when my ESP 
tries to use 127.0.0.1 that the problems arise. What am I missing?</p><p>Also,
 is it okay if I ask you a question about the PubSubClient library? I 
have an issue getting the willQoS for the client.connect call to work.</p><p>Thank you,</p><p>Sohum</p></div><div class="reply"> <a rel="nofollow" class="comment-reply-link" href="#comment-88957" onclick='return addComment.moveForm( "div-comment-88957", "88957", "respond", "5799" )' aria-label="Reply to Sohum">Reply</a></div></article><ul class="children"><li id="comment-88958" class="comment even depth-2 parent"><article id="div-comment-88958" class="comment-body"><footer class="comment-meta"><div class="comment-author vcard"> <img alt="" src="data:image/gif;base64,R0lGODdhAQABAPAAAP///wAAACwAAAAAAQABAEACAkQBADs=" data-lazy-src="https://secure.gravatar.com/avatar/c71cb713b310308ba5ff09e59cc781b0?s=48&amp;r=pg" data-lazy-srcset="https://secure.gravatar.com/avatar/c71cb713b310308ba5ff09e59cc781b0?s=96&amp;r=pg 2x" class="avatar avatar-48 photo" width="48" height="48"><noscript><img alt='' src='https://secure.gravatar.com/avatar/c71cb713b310308ba5ff09e59cc781b0?s=48&#038;r=pg' srcset='https://secure.gravatar.com/avatar/c71cb713b310308ba5ff09e59cc781b0?s=96&#038;r=pg 2x' class='avatar avatar-48 photo' height='48' width='48' /></noscript> <cite class="fn">William Brinkman</cite> <span class="says">says:</span></div><div class="comment-metadata"> <a href="https://www.baldengineer.com/mqtt-tutorial.html#comment-88958"> <time datetime="2017-04-09T13:36:07+00:00"> April 9, 2017 at 1:36 pm </time> </a></div></footer><div class="comment-content"><p>Hi Sohum,</p><p>127.0.0.1
 is the address for localhost.  When you use that address, it is telling
 the machine to search itself internally.  On the Pi, to a Pi window, 
that works great!  When you say go search for 127.0.0.1 from the ESP, 
you are always saying look to itself and don’t bother looking on the 
local network for the Pi.</p><p>You might try using all static IP addresses such as 192.168.5.1    Pi<br> 192.168.5.10   Esp 1<br> 192.168.5.11   Esp 2<br>
 That way the IP addresses are still non-routable (world wide internet 
cannot log to them direct) yet the network would probably not interfere 
with normal house routers which normally select 192.168.0.1 or 1.1 for 
the start of the network</p><p>As usual, I am a amateur and a professional may have a much better idea.</p><p>Regards, Bill</p></div><div class="reply"> <a rel="nofollow" class="comment-reply-link" href="#comment-88958" onclick='return addComment.moveForm( "div-comment-88958", "88958", "respond", "5799" )' aria-label="Reply to William Brinkman">Reply</a></div></article><ul class="children"><li id="comment-88959" class="comment odd alt depth-3 parent"><article id="div-comment-88959" class="comment-body"><footer class="comment-meta"><div class="comment-author vcard"> <img alt="" src="data:image/gif;base64,R0lGODdhAQABAPAAAP///wAAACwAAAAAAQABAEACAkQBADs=" data-lazy-src="https://secure.gravatar.com/avatar/397172e90de124102b7166cc822e77ad?s=48&amp;r=pg" data-lazy-srcset="https://secure.gravatar.com/avatar/397172e90de124102b7166cc822e77ad?s=96&amp;r=pg 2x" class="avatar avatar-48 photo" width="48" height="48"><noscript><img alt='' src='https://secure.gravatar.com/avatar/397172e90de124102b7166cc822e77ad?s=48&#038;r=pg' srcset='https://secure.gravatar.com/avatar/397172e90de124102b7166cc822e77ad?s=96&#038;r=pg 2x' class='avatar avatar-48 photo' height='48' width='48' /></noscript> <cite class="fn">Sohum</cite> <span class="says">says:</span></div><div class="comment-metadata"> <a href="https://www.baldengineer.com/mqtt-tutorial.html#comment-88959"> <time datetime="2017-04-09T19:58:46+00:00"> April 9, 2017 at 7:58 pm </time> </a></div></footer><div class="comment-content"><p>Hi Bill,</p><p>That makes a lot of sense. Thank you for your reply.<br>
 I was going to get the public IP of the Pi from itself, and use that 
instead of 127.0.0.1 as my next try. I’ll let you know how that goes. 
But assigning static IPs is obviously a lot more sophisticated and I’ll 
keep that in mind.</p><p>Maybe I can ask a follow up question here:<br> 
Once I use the correct(Pi) IP address, either static or public as my 
server, the Pi becomes my broker, is that right? Once Pi becomes the 
broker, my messages travel from the ESP to the Pi, latching on the WiFi,
 with no need to travel to any remote/ cloud-based server. Am I thinking
 about this in the correct way? That way all my data stays local(within 
the bounds of my WiFi network).</p></div><div class="reply"> <a rel="nofollow" class="comment-reply-link" href="#comment-88959" onclick='return addComment.moveForm( "div-comment-88959", "88959", "respond", "5799" )' aria-label="Reply to Sohum">Reply</a></div></article><ul class="children"><li id="comment-88960" class="comment even depth-4 parent"><article id="div-comment-88960" class="comment-body"><footer class="comment-meta"><div class="comment-author vcard"> <img alt="" src="data:image/gif;base64,R0lGODdhAQABAPAAAP///wAAACwAAAAAAQABAEACAkQBADs=" data-lazy-src="https://secure.gravatar.com/avatar/9a7319758029c79c11942efca42eeb38?s=48&amp;r=pg" data-lazy-srcset="https://secure.gravatar.com/avatar/9a7319758029c79c11942efca42eeb38?s=96&amp;r=pg 2x" class="avatar avatar-48 photo" width="48" height="48"><noscript><img alt='' src='https://secure.gravatar.com/avatar/9a7319758029c79c11942efca42eeb38?s=48&#038;r=pg' srcset='https://secure.gravatar.com/avatar/9a7319758029c79c11942efca42eeb38?s=96&#038;r=pg 2x' class='avatar avatar-48 photo' height='48' width='48' /></noscript> <cite class="fn">Rainer</cite> <span class="says">says:</span></div><div class="comment-metadata"> <a href="https://www.baldengineer.com/mqtt-tutorial.html#comment-88960"> <time datetime="2017-04-09T23:21:08+00:00"> April 9, 2017 at 11:21 pm </time> </a></div></footer><div class="comment-content"><p>You
 should set a fixed IP (one is enough) on the PI for the broker. Setting
 a fixed IP an the Pi ist easy there are a lot of tutorial on the 
internet. The benefit is you can access the Pi  from anywhere in your 
network without looking what DHCP address it got, for example to access 
it via SSH. You ESP should send its data to this address too and your 
broker should listen on IP 0.0.0.0 that means an all addresses it knows,
 so in your case to localhost 127.0.0.1 and the fixed IP you gave him. 
So local and remote access is easy possible. So the ESP can directly 
address your PI via WiFi. Attention if you use both the ETH0 (cable 
ethernet) and WLAN0 (WiFi) you should give the bot different IP 
addresses but on the sam network. i.e. if your local network ist 
192.168.1.0/24 you Pi my have 192.168.1.100 for eth0 and 192.168.1.101 
for WLAN0. Also if you give static IP addresses to you Pi, you should 
disable the DHCP daemon. Never give the Pi a public IP address, without 
realy know what you are doing, if you need access to your Pi from the 
internet put it behind a well defined firewall and use NAT for the 
special ports you need. If you need access to the internet from the Pi 
i.e. for update getting programms etc. give it a default gateway in the 
IP configuration leeding to your internet router.</p></div><div class="reply"> <a rel="nofollow" class="comment-reply-link" href="#comment-88960" onclick='return addComment.moveForm( "div-comment-88960", "88960", "respond", "5799" )' aria-label="Reply to Rainer">Reply</a></div></article><ul class="children"><li id="comment-88985" class="comment odd alt depth-5"><article id="div-comment-88985" class="comment-body"><footer class="comment-meta"><div class="comment-author vcard"> <img alt="" src="data:image/gif;base64,R0lGODdhAQABAPAAAP///wAAACwAAAAAAQABAEACAkQBADs=" data-lazy-src="https://secure.gravatar.com/avatar/397172e90de124102b7166cc822e77ad?s=48&amp;r=pg" data-lazy-srcset="https://secure.gravatar.com/avatar/397172e90de124102b7166cc822e77ad?s=96&amp;r=pg 2x" class="avatar avatar-48 photo" width="48" height="48"><noscript><img alt='' src='https://secure.gravatar.com/avatar/397172e90de124102b7166cc822e77ad?s=48&#038;r=pg' srcset='https://secure.gravatar.com/avatar/397172e90de124102b7166cc822e77ad?s=96&#038;r=pg 2x' class='avatar avatar-48 photo' height='48' width='48' /></noscript> <cite class="fn">Sohum</cite> <span class="says">says:</span></div><div class="comment-metadata"> <a href="https://www.baldengineer.com/mqtt-tutorial.html#comment-88985"> <time datetime="2017-04-14T16:41:44+00:00"> April 14, 2017 at 4:41 pm </time> </a></div></footer><div class="comment-content"><p>Thank you for your reply Rainer!</p><p>I am not trying to use the pho mitt library. It seems it is rather limited in its functionality.<br> Is there anyway to read the ‘payload’ to check whether it is equal to some known value?</p><p>message.payload would be the way, but how do you configure message in the first place? Any ideas?</p></div><div class="reply"></div></article></li><li id="comment-88989" class="comment even depth-5"><article id="div-comment-88989" class="comment-body"><footer class="comment-meta"><div class="comment-author vcard"> <img alt="" src="data:image/gif;base64,R0lGODdhAQABAPAAAP///wAAACwAAAAAAQABAEACAkQBADs=" data-lazy-src="https://secure.gravatar.com/avatar/9a7319758029c79c11942efca42eeb38?s=48&amp;r=pg" data-lazy-srcset="https://secure.gravatar.com/avatar/9a7319758029c79c11942efca42eeb38?s=96&amp;r=pg 2x" class="avatar avatar-48 photo" width="48" height="48"><noscript><img alt='' src='https://secure.gravatar.com/avatar/9a7319758029c79c11942efca42eeb38?s=48&#038;r=pg' srcset='https://secure.gravatar.com/avatar/9a7319758029c79c11942efca42eeb38?s=96&#038;r=pg 2x' class='avatar avatar-48 photo' height='48' width='48' /></noscript> <cite class="fn">Rainer</cite> <span class="says">says:</span></div><div class="comment-metadata"> <a href="https://www.baldengineer.com/mqtt-tutorial.html#comment-88989"> <time datetime="2017-04-15T00:06:40+00:00"> April 15, 2017 at 12:06 am </time> </a></div></footer><div class="comment-content"><p>@Sohum
 April 14,2017 I do not really understand your question. In fact I use 
HomeAssist to Display the values from the ESP Sensors, mosquitto as a 
broker, both on a Raspi 2 with fixe IP and sketch I found here <a href="https://home-assistant.io/components/sensor.mqtt/" rel="nofollow">https://home-assistant.io/components/sensor.mqtt/</a>
 wich lets sleep the ESP for 10 minutes after each messurement. I power 
it with al small solar panel and aLiPo accu. Runs fine since weeks now</p></div><div class="reply"></div></article></li></ul></li></ul></li><li id="comment-88994" class="comment odd alt depth-3"><article id="div-comment-88994" class="comment-body"><footer class="comment-meta"><div class="comment-author vcard"> <img alt="" src="data:image/gif;base64,R0lGODdhAQABAPAAAP///wAAACwAAAAAAQABAEACAkQBADs=" data-lazy-src="https://secure.gravatar.com/avatar/69d12825ac5e31ec4ad297b7460a3299?s=48&amp;r=pg" data-lazy-srcset="https://secure.gravatar.com/avatar/69d12825ac5e31ec4ad297b7460a3299?s=96&amp;r=pg 2x" class="avatar avatar-48 photo" width="48" height="48"><noscript><img alt='' src='https://secure.gravatar.com/avatar/69d12825ac5e31ec4ad297b7460a3299?s=48&#038;r=pg' srcset='https://secure.gravatar.com/avatar/69d12825ac5e31ec4ad297b7460a3299?s=96&#038;r=pg 2x' class='avatar avatar-48 photo' height='48' width='48' /></noscript> <cite class="fn">Nigel</cite> <span class="says">says:</span></div><div class="comment-metadata"> <a href="https://www.baldengineer.com/mqtt-tutorial.html#comment-88994"> <time datetime="2017-04-17T06:10:39+00:00"> April 17, 2017 at 6:10 am </time> </a></div></footer><div class="comment-content"><p>I
 have found that you can use the hostname instead of the IP address – 
this makes life a lot easier. I set the host name on myRaspberry pi as 
“broker” and could connect to all devices.</p></div><div class="reply"> <a rel="nofollow" class="comment-reply-link" href="#comment-88994" onclick='return addComment.moveForm( "div-comment-88994", "88994", "respond", "5799" )' aria-label="Reply to Nigel">Reply</a></div></article></li></ul></li></ul></li><li id="comment-88856" class="comment even thread-even depth-1 parent"><article id="div-comment-88856" class="comment-body"><footer class="comment-meta"><div class="comment-author vcard"> <img alt="" src="data:image/gif;base64,R0lGODdhAQABAPAAAP///wAAACwAAAAAAQABAEACAkQBADs=" data-lazy-src="https://secure.gravatar.com/avatar/506cdad0669ba2807fb36c6808aecc09?s=48&amp;r=pg" data-lazy-srcset="https://secure.gravatar.com/avatar/506cdad0669ba2807fb36c6808aecc09?s=96&amp;r=pg 2x" class="avatar avatar-48 photo" width="48" height="48"><noscript><img alt='' src='https://secure.gravatar.com/avatar/506cdad0669ba2807fb36c6808aecc09?s=48&#038;r=pg' srcset='https://secure.gravatar.com/avatar/506cdad0669ba2807fb36c6808aecc09?s=96&#038;r=pg 2x' class='avatar avatar-48 photo' height='48' width='48' /></noscript> <cite class="fn"><a href="http://armtutorials.wordpress.com/" rel="external nofollow" class="url">Ashish Kushwaha</a></cite> <span class="says">says:</span></div><div class="comment-metadata"> <a href="https://www.baldengineer.com/mqtt-tutorial.html#comment-88856"> <time datetime="2017-03-10T03:22:06+00:00"> March 10, 2017 at 3:22 am </time> </a></div></footer><div class="comment-content"><p>Very
 nicely and detailed explanation. I run the mosquito broker and it 
worked well. Now my question is about stacking the mqtt messages. what 
if I publish the data and there is no subscriber. would that data be 
queued by the broker and I will get them all by the next subscription or
 my published data to that topic will be lost.<br> In above example I 
published three massages at the same topic, one by one, while there was 
no subscriber. Now I subscribed to the same topic and I should get those
 messages but I got no massages at all.</p></div><div class="reply"> <a rel="nofollow" class="comment-reply-link" href="#comment-88856" onclick='return addComment.moveForm( "div-comment-88856", "88856", "respond", "5799" )' aria-label="Reply to Ashish Kushwaha">Reply</a></div></article><ul class="children"><li id="comment-88857" class="comment byuser comment-author-baldengineer bypostauthor odd alt depth-2 parent"><article id="div-comment-88857" class="comment-body"><footer class="comment-meta"><div class="comment-author vcard"> <img alt="" src="data:image/gif;base64,R0lGODdhAQABAPAAAP///wAAACwAAAAAAQABAEACAkQBADs=" data-lazy-src="https://secure.gravatar.com/avatar/0a1bd66a4cc97cbb242fb74d7aaf33ed?s=48&amp;r=pg" data-lazy-srcset="https://secure.gravatar.com/avatar/0a1bd66a4cc97cbb242fb74d7aaf33ed?s=96&amp;r=pg 2x" class="avatar avatar-48 photo" width="48" height="48"><noscript><img alt='' src='https://secure.gravatar.com/avatar/0a1bd66a4cc97cbb242fb74d7aaf33ed?s=48&#038;r=pg' srcset='https://secure.gravatar.com/avatar/0a1bd66a4cc97cbb242fb74d7aaf33ed?s=96&#038;r=pg 2x' class='avatar avatar-48 photo' height='48' width='48' /></noscript> <cite class="fn"><a href="https://www.baldengineer.com/" rel="external nofollow" class="url">James Lewis</a></cite> <span class="says">says:</span></div><div class="comment-metadata"> <a href="https://www.baldengineer.com/mqtt-tutorial.html#comment-88857"> <time datetime="2017-03-10T09:51:54+00:00"> March 10, 2017 at 9:51 am </time> </a></div></footer><div class="comment-content"><p>Depends on the service level of the message. There are 3.</p><ul><li>Level 0: Deliver at most once.</li><li>Level 1: Deliver at least once.</li><li>Level 2: Deliver exactly once.</li></ul><p>Both
 the publisher and the subscriber can request different levels of 
service. So if you wanted to guarantee delivery, you would need to 
publish with #2 or #3 and subscribe with #2 or #3.</p><p>Note that the 
wording for Level 0 means that the message may not be delivered. By 
default, most clients will publish and subscribe at level 0.</p><p>One 
scenario I don’t know about is on Level 2. I believe the client MUST be 
subscribed in order for guaranteed delivery. Otherwise, it seems like 
the broker would have to store messages indefinitely. So if you have a 
case where clients unsubscribe, you probably need a secondary method for
 queuing messages.</p></div><div class="reply"> <a rel="nofollow" class="comment-reply-link" href="#comment-88857" onclick='return addComment.moveForm( "div-comment-88857", "88857", "respond", "5799" )' aria-label="Reply to James Lewis">Reply</a></div></article><ul class="children"><li id="comment-88874" class="comment even depth-3"><article id="div-comment-88874" class="comment-body"><footer class="comment-meta"><div class="comment-author vcard"> <img alt="" src="data:image/gif;base64,R0lGODdhAQABAPAAAP///wAAACwAAAAAAQABAEACAkQBADs=" data-lazy-src="https://secure.gravatar.com/avatar/506cdad0669ba2807fb36c6808aecc09?s=48&amp;r=pg" data-lazy-srcset="https://secure.gravatar.com/avatar/506cdad0669ba2807fb36c6808aecc09?s=96&amp;r=pg 2x" class="avatar avatar-48 photo" width="48" height="48"><noscript><img alt='' src='https://secure.gravatar.com/avatar/506cdad0669ba2807fb36c6808aecc09?s=48&#038;r=pg' srcset='https://secure.gravatar.com/avatar/506cdad0669ba2807fb36c6808aecc09?s=96&#038;r=pg 2x' class='avatar avatar-48 photo' height='48' width='48' /></noscript> <cite class="fn"><a href="http://armtutorials.wordpress.com/" rel="external nofollow" class="url">Ashish Kushwaha</a></cite> <span class="says">says:</span></div><div class="comment-metadata"> <a href="https://www.baldengineer.com/mqtt-tutorial.html#comment-88874"> <time datetime="2017-03-16T06:19:09+00:00"> March 16, 2017 at 6:19 am </time> </a></div></footer><div class="comment-content"><p>Got
 it. Quality of service (QoS) was needed to pass as a parameter with -q 
option and it will queue the message in absence of subscriber. Settings 
are found in the path /etc/init/mosquitto.conf for playing with the 
number of messages and etc.</p><p>Thanks for your replay</p></div><div class="reply"> <a rel="nofollow" class="comment-reply-link" href="#comment-88874" onclick='return addComment.moveForm( "div-comment-88874", "88874", "respond", "5799" )' aria-label="Reply to Ashish Kushwaha">Reply</a></div></article></li></ul></li></ul></li><li id="comment-88854" class="comment odd alt thread-odd thread-alt depth-1"><article id="div-comment-88854" class="comment-body"><footer class="comment-meta"><div class="comment-author vcard"> <img alt="" src="data:image/gif;base64,R0lGODdhAQABAPAAAP///wAAACwAAAAAAQABAEACAkQBADs=" data-lazy-src="https://secure.gravatar.com/avatar/c39e89092a0c862625f74c7a51083d28?s=48&amp;r=pg" data-lazy-srcset="https://secure.gravatar.com/avatar/c39e89092a0c862625f74c7a51083d28?s=96&amp;r=pg 2x" class="avatar avatar-48 photo" width="48" height="48"><noscript><img alt='' src='https://secure.gravatar.com/avatar/c39e89092a0c862625f74c7a51083d28?s=48&#038;r=pg' srcset='https://secure.gravatar.com/avatar/c39e89092a0c862625f74c7a51083d28?s=96&#038;r=pg 2x' class='avatar avatar-48 photo' height='48' width='48' /></noscript> <cite class="fn">Hiteshkumar Kumawat</cite> <span class="says">says:</span></div><div class="comment-metadata"> <a href="https://www.baldengineer.com/mqtt-tutorial.html#comment-88854"> <time datetime="2017-03-09T10:50:24+00:00"> March 9, 2017 at 10:50 am </time> </a></div></footer><div class="comment-content"><p>Hello Mr James,</p><p>I
 have the arduino MEGA 2560 which already includes the Ethernet shield. i
 want to use MQTT protocol for online monitoring the temperature and 
current value of motor of plant. Right now i am stuck with the coding 
and the connection with the server. It would be great help if you give 
me some guidance regarding this.</p></div><div class="reply"> <a rel="nofollow" class="comment-reply-link" href="#comment-88854" onclick='return addComment.moveForm( "div-comment-88854", "88854", "respond", "5799" )' aria-label="Reply to Hiteshkumar Kumawat">Reply</a></div></article></li><li id="comment-88838" class="comment even thread-even depth-1 parent"><article id="div-comment-88838" class="comment-body"><footer class="comment-meta"><div class="comment-author vcard"> <img alt="" src="data:image/gif;base64,R0lGODdhAQABAPAAAP///wAAACwAAAAAAQABAEACAkQBADs=" data-lazy-src="https://secure.gravatar.com/avatar/a9699e114693b08628c2589f991adef8?s=48&amp;r=pg" data-lazy-srcset="https://secure.gravatar.com/avatar/a9699e114693b08628c2589f991adef8?s=96&amp;r=pg 2x" class="avatar avatar-48 photo" width="48" height="48"><noscript><img alt='' src='https://secure.gravatar.com/avatar/a9699e114693b08628c2589f991adef8?s=48&#038;r=pg' srcset='https://secure.gravatar.com/avatar/a9699e114693b08628c2589f991adef8?s=96&#038;r=pg 2x' class='avatar avatar-48 photo' height='48' width='48' /></noscript> <cite class="fn">shailendra</cite> <span class="says">says:</span></div><div class="comment-metadata"> <a href="https://www.baldengineer.com/mqtt-tutorial.html#comment-88838"> <time datetime="2017-03-03T03:50:47+00:00"> March 3, 2017 at 3:50 am </time> </a></div></footer><div class="comment-content"><p>Hello  Mr.James,<br>
 its a great tutorial i have done this and it works perfect.  so,  now i
 am working on project where if the RPI3 goes down because of  some  
reason the whole network nodes  should get connected to some MQTT 
servers on cloud automatically by using this “pubsub client library” i 
could not  get connected to the cloud which gives publickey (used 
adafruit.io) i used this “boolean connect (clientID, username, 
password)”  and passed client id, my user name and public key as 
password as parameters to the function but it didn’t work . it is 
getting connected showing it up on the serial monitor and again getting 
reconnected so is there any other way to connect to cloud with public 
key using same library please i need to know it fast as my 
project(Improving fault tolerance in MQTT embedded systems network) 
submission date is approaching fast</p><p> Thank you</p></div><div class="reply"> <a rel="nofollow" class="comment-reply-link" href="#comment-88838" onclick='return addComment.moveForm( "div-comment-88838", "88838", "respond", "5799" )' aria-label="Reply to shailendra">Reply</a></div></article><ul class="children"><li id="comment-88847" class="comment odd alt depth-2 parent"><article id="div-comment-88847" class="comment-body"><footer class="comment-meta"><div class="comment-author vcard"> <img alt="" src="data:image/gif;base64,R0lGODdhAQABAPAAAP///wAAACwAAAAAAQABAEACAkQBADs=" data-lazy-src="https://secure.gravatar.com/avatar/a9699e114693b08628c2589f991adef8?s=48&amp;r=pg" data-lazy-srcset="https://secure.gravatar.com/avatar/a9699e114693b08628c2589f991adef8?s=96&amp;r=pg 2x" class="avatar avatar-48 photo" width="48" height="48"><noscript><img alt='' src='https://secure.gravatar.com/avatar/a9699e114693b08628c2589f991adef8?s=48&#038;r=pg' srcset='https://secure.gravatar.com/avatar/a9699e114693b08628c2589f991adef8?s=96&#038;r=pg 2x' class='avatar avatar-48 photo' height='48' width='48' /></noscript> <cite class="fn">Shailendra</cite> <span class="says">says:</span></div><div class="comment-metadata"> <a href="https://www.baldengineer.com/mqtt-tutorial.html#comment-88847"> <time datetime="2017-03-05T04:14:54+00:00"> March 5, 2017 at 4:14 am </time> </a></div></footer><div class="comment-content"><p>Hey some one reply man it’s really important for me please</p></div><div class="reply"> <a rel="nofollow" class="comment-reply-link" href="#comment-88847" onclick='return addComment.moveForm( "div-comment-88847", "88847", "respond", "5799" )' aria-label="Reply to Shailendra">Reply</a></div></article><ul class="children"><li id="comment-88848" class="comment byuser comment-author-baldengineer bypostauthor even depth-3"><article id="div-comment-88848" class="comment-body"><footer class="comment-meta"><div class="comment-author vcard"> <img alt="" src="data:image/gif;base64,R0lGODdhAQABAPAAAP///wAAACwAAAAAAQABAEACAkQBADs=" data-lazy-src="https://secure.gravatar.com/avatar/0a1bd66a4cc97cbb242fb74d7aaf33ed?s=48&amp;r=pg" data-lazy-srcset="https://secure.gravatar.com/avatar/0a1bd66a4cc97cbb242fb74d7aaf33ed?s=96&amp;r=pg 2x" class="avatar avatar-48 photo" width="48" height="48"><noscript><img alt='' src='https://secure.gravatar.com/avatar/0a1bd66a4cc97cbb242fb74d7aaf33ed?s=48&#038;r=pg' srcset='https://secure.gravatar.com/avatar/0a1bd66a4cc97cbb242fb74d7aaf33ed?s=96&#038;r=pg 2x' class='avatar avatar-48 photo' height='48' width='48' /></noscript> <cite class="fn"><a href="https://www.baldengineer.com/" rel="external nofollow" class="url">James Lewis</a></cite> <span class="says">says:</span></div><div class="comment-metadata"> <a href="https://www.baldengineer.com/mqtt-tutorial.html#comment-88848"> <time datetime="2017-03-05T13:58:53+00:00"> March 5, 2017 at 1:58 pm </time> </a></div></footer><div class="comment-content"><p>I have no idea.</p><p>But
 to back up. Your project is “improving fault tolerance” and you’re 
following an introductory tutorial? Seems like you should be the expert 
in this case.</p></div><div class="reply"> <a rel="nofollow" class="comment-reply-link" href="#comment-88848" onclick='return addComment.moveForm( "div-comment-88848", "88848", "respond", "5799" )' aria-label="Reply to James Lewis">Reply</a></div></article></li><li id="comment-88849" class="comment odd alt depth-3 parent"><article id="div-comment-88849" class="comment-body"><footer class="comment-meta"><div class="comment-author vcard"> <img alt="" src="data:image/gif;base64,R0lGODdhAQABAPAAAP///wAAACwAAAAAAQABAEACAkQBADs=" data-lazy-src="https://secure.gravatar.com/avatar/9a7319758029c79c11942efca42eeb38?s=48&amp;r=pg" data-lazy-srcset="https://secure.gravatar.com/avatar/9a7319758029c79c11942efca42eeb38?s=96&amp;r=pg 2x" class="avatar avatar-48 photo" width="48" height="48"><noscript><img alt='' src='https://secure.gravatar.com/avatar/9a7319758029c79c11942efca42eeb38?s=48&#038;r=pg' srcset='https://secure.gravatar.com/avatar/9a7319758029c79c11942efca42eeb38?s=96&#038;r=pg 2x' class='avatar avatar-48 photo' height='48' width='48' /></noscript> <cite class="fn">Rainer</cite> <span class="says">says:</span></div><div class="comment-metadata"> <a href="https://www.baldengineer.com/mqtt-tutorial.html#comment-88849"> <time datetime="2017-03-05T23:41:40+00:00"> March 5, 2017 at 11:41 pm </time> </a></div></footer><div class="comment-content"><p>as
 James said you want fault tolerence and it seam you need it. So first 
you should ask yourself if RPI3 is the right plattform for a mission 
critical system. Even my Raspis even  Ver 2 oder Ver 3 are running 
months without going down. Sorry but second building fault tolerance 
system are nothing for beginners, what you seem to be, needing basic 
tutorials. On the other way there are tutorials connecting to MATT 
brokers with username and password and even SSL/TLS, I think I even have
 seen solutions with pulickey, so you may google for that. Tutorial are 
tutorials, that means they are for learning, given hints for real 
project, even if they are the complete solution for some projects  they 
are still examples. For a fault tolerance system as you seams to need, 
you should be an expert, not still needing open source tutorials are ask
 or pay an expert, there are out a lot.<br> Sorry but thats my opinion.</p><p>Rainer</p></div><div class="reply"> <a rel="nofollow" class="comment-reply-link" href="#comment-88849" onclick='return addComment.moveForm( "div-comment-88849", "88849", "respond", "5799" )' aria-label="Reply to Rainer">Reply</a></div></article><ul class="children"><li id="comment-88850" class="comment even depth-4"><article id="div-comment-88850" class="comment-body"><footer class="comment-meta"><div class="comment-author vcard"> <img alt="" src="data:image/gif;base64,R0lGODdhAQABAPAAAP///wAAACwAAAAAAQABAEACAkQBADs=" data-lazy-src="https://secure.gravatar.com/avatar/a9699e114693b08628c2589f991adef8?s=48&amp;r=pg" data-lazy-srcset="https://secure.gravatar.com/avatar/a9699e114693b08628c2589f991adef8?s=96&amp;r=pg 2x" class="avatar avatar-48 photo" width="48" height="48"><noscript><img alt='' src='https://secure.gravatar.com/avatar/a9699e114693b08628c2589f991adef8?s=48&#038;r=pg' srcset='https://secure.gravatar.com/avatar/a9699e114693b08628c2589f991adef8?s=96&#038;r=pg 2x' class='avatar avatar-48 photo' height='48' width='48' /></noscript> <cite class="fn">shailendra</cite> <span class="says">says:</span></div><div class="comment-metadata"> <a href="https://www.baldengineer.com/mqtt-tutorial.html#comment-88850"> <time datetime="2017-03-06T02:33:55+00:00"> March 6, 2017 at 2:33 am </time> </a></div></footer><div class="comment-content"><p>Thank
 you for your replies folks i don’t want something that is extra 
ordinary what i want is simple…. every cloud platform is having their on
 library for esp8266 which i cannot use for mosquitto but their must be a
 way to connect to these cloud platform with public keys using generic 
library if i can know this i will do rest of the project<br> Thank you</p></div><div class="reply"> <a rel="nofollow" class="comment-reply-link" href="#comment-88850" onclick='return addComment.moveForm( "div-comment-88850", "88850", "respond", "5799" )' aria-label="Reply to shailendra">Reply</a></div></article></li></ul></li></ul></li></ul></li><li id="comment-88831" class="comment odd alt thread-odd thread-alt depth-1 parent"><article id="div-comment-88831" class="comment-body"><footer class="comment-meta"><div class="comment-author vcard"> <img alt="" src="data:image/gif;base64,R0lGODdhAQABAPAAAP///wAAACwAAAAAAQABAEACAkQBADs=" data-lazy-src="https://secure.gravatar.com/avatar/9a7319758029c79c11942efca42eeb38?s=48&amp;r=pg" data-lazy-srcset="https://secure.gravatar.com/avatar/9a7319758029c79c11942efca42eeb38?s=96&amp;r=pg 2x" class="avatar avatar-48 photo" width="48" height="48"><noscript><img alt='' src='https://secure.gravatar.com/avatar/9a7319758029c79c11942efca42eeb38?s=48&#038;r=pg' srcset='https://secure.gravatar.com/avatar/9a7319758029c79c11942efca42eeb38?s=96&#038;r=pg 2x' class='avatar avatar-48 photo' height='48' width='48' /></noscript> <cite class="fn">Rainer</cite> <span class="says">says:</span></div><div class="comment-metadata"> <a href="https://www.baldengineer.com/mqtt-tutorial.html#comment-88831"> <time datetime="2017-03-02T11:16:35+00:00"> March 2, 2017 at 11:16 am </time> </a></div></footer><div class="comment-content"><p>Hallo James,<br>
 one question, how can I set a fixed IP for the ESP8266 E12. I knew a 
method, but you do another initialisation for the WiFi, I even can find 
where you pass ssid and pass</p><p>Thank you Rainer</p></div><div class="reply"> <a rel="nofollow" class="comment-reply-link" href="#comment-88831" onclick='return addComment.moveForm( "div-comment-88831", "88831", "respond", "5799" )' aria-label="Reply to Rainer">Reply</a></div></article><ul class="children"><li id="comment-88832" class="comment even depth-2 parent"><article id="div-comment-88832" class="comment-body"><footer class="comment-meta"><div class="comment-author vcard"> <img alt="" src="data:image/gif;base64,R0lGODdhAQABAPAAAP///wAAACwAAAAAAQABAEACAkQBADs=" data-lazy-src="https://secure.gravatar.com/avatar/c71cb713b310308ba5ff09e59cc781b0?s=48&amp;r=pg" data-lazy-srcset="https://secure.gravatar.com/avatar/c71cb713b310308ba5ff09e59cc781b0?s=96&amp;r=pg 2x" class="avatar avatar-48 photo" width="48" height="48"><noscript><img alt='' src='https://secure.gravatar.com/avatar/c71cb713b310308ba5ff09e59cc781b0?s=48&#038;r=pg' srcset='https://secure.gravatar.com/avatar/c71cb713b310308ba5ff09e59cc781b0?s=96&#038;r=pg 2x' class='avatar avatar-48 photo' height='48' width='48' /></noscript> <cite class="fn">William Brinkman</cite> <span class="says">says:</span></div><div class="comment-metadata"> <a href="https://www.baldengineer.com/mqtt-tutorial.html#comment-88832"> <time datetime="2017-03-02T13:06:53+00:00"> March 2, 2017 at 1:06 pm </time> </a></div></footer><div class="comment-content"><p>Hi Ranier and James</p><p>(James, If I mess this up, please update with the correct information)</p><p>Up in the Declarations (above void Setup), set the IP information:</p><div><div id="highlighter_764762" class="syntaxhighlighter  arduino"><table border="0" cellspacing="0" cellpadding="0"><tbody><tr><td class="gutter"><div class="line number0 index0 alt1 break">&nbsp;</div><div class="line number1 index1 alt2">1</div><div class="line number2 index2 alt1">2</div><div class="line number3 index3 alt2">3</div><div class="line number4 index4 alt1">4</div><div class="line number5 index5 alt2">5</div><div class="line number6 index6 alt1">6</div><div class="line number7 index7 alt2">7</div><div class="line number8 index8 alt1">8</div><div class="line number9 index9 alt2">9</div><div class="line number10 index10 alt1">10</div><div class="line number11 index11 alt2">11</div><div class="line number12 index12 alt1">12</div><div class="line number13 index13 alt2">13</div><div class="line number14 index14 alt1">14</div><div class="line number15 index15 alt2">15</div><div class="line number16 index16 alt1">16</div><div class="line number17 index17 alt2">17</div><div class="line number18 index18 alt1">18</div><div class="line number19 index19 alt2">19</div><div class="line number20 index20 alt1">20</div><div class="line number21 index21 alt2">21</div><div class="line number22 index22 alt1">22</div><div class="line number23 index23 alt2">23</div><div class="line number24 index24 alt1">24</div><div class="line number25 index25 alt2">25</div><div class="line number26 index26 alt1">26</div><div class="line number27 index27 alt2">27</div><div class="line number28 index28 alt1">28</div><div class="line number29 index29 alt2">29</div><div class="line number30 index30 alt1">30</div><div class="line number31 index31 alt2">31</div><div class="line number32 index32 alt1">32</div><div class="line number33 index33 alt2">33</div></td><td class="code"><div class="container"><div class="line number0 index0 alt1 break"><code class="arduino comments">//////////////////////&nbsp;&nbsp; code snip&nbsp; 1 ///////////////////////////</code></div><div class="line number1 index1 alt2">&nbsp;</div><div class="line number2 index2 alt1"><code class="arduino comments">// router settings</code></div><div class="line number3 index3 alt2"><code class="arduino color1 bold">const</code> <code class="arduino color1 bold">char</code><code class="arduino plain bold">*</code> <code class="arduino plain">ssid </code><code class="arduino plain bold">=</code> <code class="arduino string">"XXXXXXXXX"</code><code class="arduino plain">;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </code><code class="arduino comments">// router network</code></div><div class="line number4 index4 alt1"><code class="arduino color1 bold">const</code> <code class="arduino color1 bold">char</code><code class="arduino plain bold">*</code> <code class="arduino plain">password </code><code class="arduino plain bold">=</code> <code class="arduino string">"YYYYYYYYYY"</code><code class="arduino plain">;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </code><code class="arduino comments">// router password</code></div><div class="line number5 index5 alt2">&nbsp;</div><div class="line number6 index6 alt1"><code class="arduino plain">IPAddress ip(</code><code class="arduino constants">192</code><code class="arduino plain">, </code><code class="arduino constants">168</code><code class="arduino plain">, </code><code class="arduino constants">0</code><code class="arduino plain">, </code><code class="arduino constants">100</code><code class="arduino plain">);&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </code><code class="arduino comments">// ip address to call up the esp8266 </code></div><div class="line number7 index7 alt2"><code class="arduino plain">IPAddress gateway(</code><code class="arduino constants">192</code><code class="arduino plain">, </code><code class="arduino constants">168</code><code class="arduino plain">, </code><code class="arduino constants">0</code><code class="arduino plain">, </code><code class="arduino constants">1</code><code class="arduino plain">);&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </code><code class="arduino comments">// router address </code></div><div class="line number8 index8 alt1"><code class="arduino plain">IPAddress subnet(</code><code class="arduino constants">255</code><code class="arduino plain">, </code><code class="arduino constants">255</code><code class="arduino plain">, </code><code class="arduino constants">255</code><code class="arduino plain">, </code><code class="arduino constants">0</code><code class="arduino plain">);&nbsp;&nbsp; </code></div><div class="line number9 index9 alt2">&nbsp;</div><div class="line number10 index10 alt1"><code class="arduino comments">////////////////////////////////&nbsp; end code snip 1&nbsp; ///////////////////////////////</code></div><div class="line number11 index11 alt2">&nbsp;</div><div class="line number12 index12 alt1"><code class="arduino plain">Down in the </code><code class="arduino color1 bold">void</code> <code class="arduino keyword bold">setup</code> <code class="arduino plain">() where you call the WiFi </code><code class="arduino keyword bold">setup</code><code class="arduino plain">:</code></div><div class="line number13 index13 alt2">&nbsp;</div><div class="line number14 index14 alt1">&nbsp;</div><div class="line number15 index15 alt2"><code class="arduino comments">//////////////////////////////////////&nbsp;&nbsp;&nbsp; code snip 2&nbsp; /////////////////////////////////</code></div><div class="line number16 index16 alt1"><code class="arduino comments">//Connect to wifi network</code></div><div class="line number17 index17 alt2"><code class="arduino spaces">&nbsp;&nbsp;&nbsp;</code>&nbsp;</div><div class="line number18 index18 alt1"><code class="arduino spaces">&nbsp;&nbsp;</code><code class="arduino functions">Serial.println</code><code class="arduino plain">();</code></div><div class="line number19 index19 alt2"><code class="arduino spaces">&nbsp;&nbsp;</code><code class="arduino functions">Serial.println</code><code class="arduino plain">();</code></div><div class="line number20 index20 alt1"><code class="arduino spaces">&nbsp;&nbsp;</code><code class="arduino functions">Serial.println</code><code class="arduino plain">(</code><code class="arduino string">"Connecting to: "</code><code class="arduino plain">);</code></div><div class="line number21 index21 alt2"><code class="arduino spaces">&nbsp;&nbsp;</code><code class="arduino functions">Serial.println</code><code class="arduino plain">(ssid);</code></div><div class="line number22 index22 alt1"><code class="arduino spaces">&nbsp;&nbsp;</code><code class="arduino plain">WiFi.config(ip,gateway,subnet);&nbsp;&nbsp; </code><code class="arduino comments">// to use a static ip address </code></div><div class="line number23 index23 alt2"><code class="arduino spaces">&nbsp;&nbsp;</code><code class="arduino plain">WiFi.begin(ssid,password);</code></div><div class="line number24 index24 alt1">&nbsp;</div><div class="line number25 index25 alt2"><code class="arduino spaces">&nbsp;&nbsp;</code>&nbsp;</div><div class="line number26 index26 alt1"><code class="arduino spaces">&nbsp;&nbsp;</code><code class="arduino keyword bold">while</code><code class="arduino plain">(WiFi.status() </code><code class="arduino plain bold">!</code><code class="arduino plain bold">=</code> <code class="arduino plain">WL_CONNECTED){</code></div><div class="line number27 index27 alt2"><code class="arduino spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="arduino functions">delay</code><code class="arduino plain">(</code><code class="arduino constants">500</code><code class="arduino plain">);</code></div><div class="line number28 index28 alt1"><code class="arduino spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="arduino functions">Serial.print</code><code class="arduino plain">(</code><code class="arduino string">"."</code><code class="arduino plain">);</code></div><div class="line number29 index29 alt2"><code class="arduino spaces">&nbsp;&nbsp;</code><code class="arduino plain">}</code></div><div class="line number30 index30 alt1"><code class="arduino spaces">&nbsp;&nbsp;</code><code class="arduino functions">Serial.println</code><code class="arduino plain">();</code></div><div class="line number31 index31 alt2"><code class="arduino spaces">&nbsp;&nbsp;</code><code class="arduino functions">Serial.println</code><code class="arduino plain">(</code><code class="arduino string">"Wifi connected"</code><code class="arduino plain">);</code></div><div class="line number32 index32 alt1">&nbsp;</div><div class="line number33 index33 alt2"><code class="arduino comments">////////////////////////////////////////////&nbsp;&nbsp;&nbsp; end code snip 2 ////////////////////</code></div></div></td></tr></tbody></table></div></div><p>Hope that answers your question.</p></div><div class="reply"> <a rel="nofollow" class="comment-reply-link" href="#comment-88832" onclick='return addComment.moveForm( "div-comment-88832", "88832", "respond", "5799" )' aria-label="Reply to William Brinkman">Reply</a></div></article><ul class="children"><li id="comment-88837" class="comment odd alt depth-3 parent"><article id="div-comment-88837" class="comment-body"><footer class="comment-meta"><div class="comment-author vcard"> <img alt="" src="data:image/gif;base64,R0lGODdhAQABAPAAAP///wAAACwAAAAAAQABAEACAkQBADs=" data-lazy-src="https://secure.gravatar.com/avatar/9a7319758029c79c11942efca42eeb38?s=48&amp;r=pg" data-lazy-srcset="https://secure.gravatar.com/avatar/9a7319758029c79c11942efca42eeb38?s=96&amp;r=pg 2x" class="avatar avatar-48 photo" width="48" height="48"><noscript><img alt='' src='https://secure.gravatar.com/avatar/9a7319758029c79c11942efca42eeb38?s=48&#038;r=pg' srcset='https://secure.gravatar.com/avatar/9a7319758029c79c11942efca42eeb38?s=96&#038;r=pg 2x' class='avatar avatar-48 photo' height='48' width='48' /></noscript> <cite class="fn">Rainer</cite> <span class="says">says:</span></div><div class="comment-metadata"> <a href="https://www.baldengineer.com/mqtt-tutorial.html#comment-88837"> <time datetime="2017-03-03T00:20:47+00:00"> March 3, 2017 at 12:20 am </time> </a></div></footer><div class="comment-content"><p>Hello William,<br>
 that’s the way I know, to init WiFi on the ESP8266. I changed the 
original code as you adviced and get a WiFi connect but no more 
connection to my MQTT broker.<br> I still do not understand who the WiFi
 connect works in the original working code, getting IP address via 
DHCP. Where are the credentials SSID and Password passed to the WiFi 
firmware.<br> @James please clarify<br> @William, thanks for your post, but why does the MQTT connect</p></div><div class="reply"> <a rel="nofollow" class="comment-reply-link" href="#comment-88837" onclick='return addComment.moveForm( "div-comment-88837", "88837", "respond", "5799" )' aria-label="Reply to Rainer">Reply</a></div></article><ul class="children"><li id="comment-88839" class="comment even depth-4 parent"><article id="div-comment-88839" class="comment-body"><footer class="comment-meta"><div class="comment-author vcard"> <img alt="" src="data:image/gif;base64,R0lGODdhAQABAPAAAP///wAAACwAAAAAAQABAEACAkQBADs=" data-lazy-src="https://secure.gravatar.com/avatar/c71cb713b310308ba5ff09e59cc781b0?s=48&amp;r=pg" data-lazy-srcset="https://secure.gravatar.com/avatar/c71cb713b310308ba5ff09e59cc781b0?s=96&amp;r=pg 2x" class="avatar avatar-48 photo" width="48" height="48"><noscript><img alt='' src='https://secure.gravatar.com/avatar/c71cb713b310308ba5ff09e59cc781b0?s=48&#038;r=pg' srcset='https://secure.gravatar.com/avatar/c71cb713b310308ba5ff09e59cc781b0?s=96&#038;r=pg 2x' class='avatar avatar-48 photo' height='48' width='48' /></noscript> <cite class="fn">William Brinkman</cite> <span class="says">says:</span></div><div class="comment-metadata"> <a href="https://www.baldengineer.com/mqtt-tutorial.html#comment-88839"> <time datetime="2017-03-03T07:28:55+00:00"> March 3, 2017 at 7:28 am </time> </a></div></footer><div class="comment-content"><p>Sorry Ranier but my wordy reply was blocked by the site. So here is brief suggestions.</p><p>Start easy and put the IP address of the MQTT broker in the declarations like:</p><p>const char* mqtt_server = “192.168.X.Y”;   //X and Y real numbers</p><p>You can ping between all parties??</p><p>Regartds, Bill</p></div><div class="reply"> <a rel="nofollow" class="comment-reply-link" href="#comment-88839" onclick='return addComment.moveForm( "div-comment-88839", "88839", "respond", "5799" )' aria-label="Reply to William Brinkman">Reply</a></div></article><ul class="children"><li id="comment-88843" class="comment odd alt depth-5"><article id="div-comment-88843" class="comment-body"><footer class="comment-meta"><div class="comment-author vcard"> <img alt="" src="data:image/gif;base64,R0lGODdhAQABAPAAAP///wAAACwAAAAAAQABAEACAkQBADs=" data-lazy-src="https://secure.gravatar.com/avatar/9a7319758029c79c11942efca42eeb38?s=48&amp;r=pg" data-lazy-srcset="https://secure.gravatar.com/avatar/9a7319758029c79c11942efca42eeb38?s=96&amp;r=pg 2x" class="avatar avatar-48 photo" width="48" height="48"><noscript><img alt='' src='https://secure.gravatar.com/avatar/9a7319758029c79c11942efca42eeb38?s=48&#038;r=pg' srcset='https://secure.gravatar.com/avatar/9a7319758029c79c11942efca42eeb38?s=96&#038;r=pg 2x' class='avatar avatar-48 photo' height='48' width='48' /></noscript> <cite class="fn">Rainer</cite> <span class="says">says:</span></div><div class="comment-metadata"> <a href="https://www.baldengineer.com/mqtt-tutorial.html#comment-88843"> <time datetime="2017-03-03T14:43:54+00:00"> March 3, 2017 at 2:43 pm </time> </a></div></footer><div class="comment-content"><p>Hello
 William, that point was clear, the brokers address never was the 
problem, I would just give the ESP a fixed IP too, as DHCP addresses 
change from time to. I know I can give clients fixed IP with DHCP but in
 the 30 years I am in the IT I learned that this sometimes do not work, 
so giving the fixed IP to the client direct ist the best. I am not 
totally new to the ESP but I still do not understand, how the original 
code works without the WiFi.begin. Nevertheless all is working, next is 
to make the communication secure via SSL.</p><p>Rainer</p></div><div class="reply"></div></article></li></ul></li><li id="comment-88841" class="comment even depth-4"><article id="div-comment-88841" class="comment-body"><footer class="comment-meta"><div class="comment-author vcard"> <img alt="" src="data:image/gif;base64,R0lGODdhAQABAPAAAP///wAAACwAAAAAAQABAEACAkQBADs=" data-lazy-src="https://secure.gravatar.com/avatar/9a7319758029c79c11942efca42eeb38?s=48&amp;r=pg" data-lazy-srcset="https://secure.gravatar.com/avatar/9a7319758029c79c11942efca42eeb38?s=96&amp;r=pg 2x" class="avatar avatar-48 photo" width="48" height="48"><noscript><img alt='' src='https://secure.gravatar.com/avatar/9a7319758029c79c11942efca42eeb38?s=48&#038;r=pg' srcset='https://secure.gravatar.com/avatar/9a7319758029c79c11942efca42eeb38?s=96&#038;r=pg 2x' class='avatar avatar-48 photo' height='48' width='48' /></noscript> <cite class="fn">Rainer</cite> <span class="says">says:</span></div><div class="comment-metadata"> <a href="https://www.baldengineer.com/mqtt-tutorial.html#comment-88841"> <time datetime="2017-03-03T07:47:58+00:00"> March 3, 2017 at 7:47 am </time> </a></div></footer><div class="comment-content"><p>Solved,
 sorry for reasking. I did not realize the broker had stopped, so no 
connection would be possible. Restarting the broker all went find with 
the correct IP</p><p>Thanks for Help</p><p>Rainer</p></div><div class="reply"> <a rel="nofollow" class="comment-reply-link" href="#comment-88841" onclick='return addComment.moveForm( "div-comment-88841", "88841", "respond", "5799" )' aria-label="Reply to Rainer">Reply</a></div></article></li></ul></li></ul></li></ul></li><li id="comment-88807" class="comment odd alt thread-even depth-1 parent"><article id="div-comment-88807" class="comment-body"><footer class="comment-meta"><div class="comment-author vcard"> <img alt="" src="data:image/gif;base64,R0lGODdhAQABAPAAAP///wAAACwAAAAAAQABAEACAkQBADs=" data-lazy-src="https://secure.gravatar.com/avatar/c0971ca2aba840109dccee3dcec5b54c?s=48&amp;r=pg" data-lazy-srcset="https://secure.gravatar.com/avatar/c0971ca2aba840109dccee3dcec5b54c?s=96&amp;r=pg 2x" class="avatar avatar-48 photo" width="48" height="48"><noscript><img alt='' src='https://secure.gravatar.com/avatar/c0971ca2aba840109dccee3dcec5b54c?s=48&#038;r=pg' srcset='https://secure.gravatar.com/avatar/c0971ca2aba840109dccee3dcec5b54c?s=96&#038;r=pg 2x' class='avatar avatar-48 photo' height='48' width='48' /></noscript> <cite class="fn">RD</cite> <span class="says">says:</span></div><div class="comment-metadata"> <a href="https://www.baldengineer.com/mqtt-tutorial.html#comment-88807"> <time datetime="2017-02-23T11:13:26+00:00"> February 23, 2017 at 11:13 am </time> </a></div></footer><div class="comment-content"><p>Hi,<br>
 thank you for this tuto. But I want to know can I use the Arduino 
PubSubClient to publish sensors data to Mosquitto broker and to MySQL 
database via USB port?? because I don’t have Ethernet shield. Thank you</p></div><div class="reply"> <a rel="nofollow" class="comment-reply-link" href="#comment-88807" onclick='return addComment.moveForm( "div-comment-88807", "88807", "respond", "5799" )' aria-label="Reply to RD">Reply</a></div></article><ul class="children"><li id="comment-88808" class="comment byuser comment-author-baldengineer bypostauthor even depth-2"><article id="div-comment-88808" class="comment-body"><footer class="comment-meta"><div class="comment-author vcard"> <img alt="" src="data:image/gif;base64,R0lGODdhAQABAPAAAP///wAAACwAAAAAAQABAEACAkQBADs=" data-lazy-src="https://secure.gravatar.com/avatar/0a1bd66a4cc97cbb242fb74d7aaf33ed?s=48&amp;r=pg" data-lazy-srcset="https://secure.gravatar.com/avatar/0a1bd66a4cc97cbb242fb74d7aaf33ed?s=96&amp;r=pg 2x" class="avatar avatar-48 photo" width="48" height="48"><noscript><img alt='' src='https://secure.gravatar.com/avatar/0a1bd66a4cc97cbb242fb74d7aaf33ed?s=48&#038;r=pg' srcset='https://secure.gravatar.com/avatar/0a1bd66a4cc97cbb242fb74d7aaf33ed?s=96&#038;r=pg 2x' class='avatar avatar-48 photo' height='48' width='48' /></noscript> <cite class="fn"><a href="https://www.baldengineer.com/" rel="external nofollow" class="url">James Lewis</a></cite> <span class="says">says:</span></div><div class="comment-metadata"> <a href="https://www.baldengineer.com/mqtt-tutorial.html#comment-88808"> <time datetime="2017-02-23T13:52:53+00:00"> February 23, 2017 at 1:52 pm </time> </a></div></footer><div class="comment-content"><p>PubSubClient
 uses Arduino’s Client.h interface. In theory, you could write a wrapper
 to work with serial. I have not yet seen that yet.</p></div><div class="reply"> <a rel="nofollow" class="comment-reply-link" href="#comment-88808" onclick='return addComment.moveForm( "div-comment-88808", "88808", "respond", "5799" )' aria-label="Reply to James Lewis">Reply</a></div></article></li></ul></li><li id="comment-88803" class="comment odd alt thread-odd thread-alt depth-1"><article id="div-comment-88803" class="comment-body"><footer class="comment-meta"><div class="comment-author vcard"> <img alt="" src="data:image/gif;base64,R0lGODdhAQABAPAAAP///wAAACwAAAAAAQABAEACAkQBADs=" data-lazy-src="https://secure.gravatar.com/avatar/a629e0b42f9f061da0c7ff18e4c93ca2?s=48&amp;r=pg" data-lazy-srcset="https://secure.gravatar.com/avatar/a629e0b42f9f061da0c7ff18e4c93ca2?s=96&amp;r=pg 2x" class="avatar avatar-48 photo" width="48" height="48"><noscript><img alt='' src='https://secure.gravatar.com/avatar/a629e0b42f9f061da0c7ff18e4c93ca2?s=48&#038;r=pg' srcset='https://secure.gravatar.com/avatar/a629e0b42f9f061da0c7ff18e4c93ca2?s=96&#038;r=pg 2x' class='avatar avatar-48 photo' height='48' width='48' /></noscript> <cite class="fn">Van Linh Nguyen</cite> <span class="says">says:</span></div><div class="comment-metadata"> <a href="https://www.baldengineer.com/mqtt-tutorial.html#comment-88803"> <time datetime="2017-02-19T02:16:43+00:00"> February 19, 2017 at 2:16 am </time> </a></div></footer><div class="comment-content"><p>Hey James!<br> Thanks for tutorial. When I tried running test mosquitto I have a trouble: Havinga inform:<br> Error: Only one usage of each socket address (protocol/network address/port) is normally permitted.<br> Please help me!<br> Thank you</p></div><div class="reply"> <a rel="nofollow" class="comment-reply-link" href="#comment-88803" onclick='return addComment.moveForm( "div-comment-88803", "88803", "respond", "5799" )' aria-label="Reply to Van Linh Nguyen">Reply</a></div></article></li><li id="comment-88801" class="comment even thread-even depth-1 parent"><article id="div-comment-88801" class="comment-body"><footer class="comment-meta"><div class="comment-author vcard"> <img alt="" src="data:image/gif;base64,R0lGODdhAQABAPAAAP///wAAACwAAAAAAQABAEACAkQBADs=" data-lazy-src="https://secure.gravatar.com/avatar/397172e90de124102b7166cc822e77ad?s=48&amp;r=pg" data-lazy-srcset="https://secure.gravatar.com/avatar/397172e90de124102b7166cc822e77ad?s=96&amp;r=pg 2x" class="avatar avatar-48 photo" width="48" height="48"><noscript><img alt='' src='https://secure.gravatar.com/avatar/397172e90de124102b7166cc822e77ad?s=48&#038;r=pg' srcset='https://secure.gravatar.com/avatar/397172e90de124102b7166cc822e77ad?s=96&#038;r=pg 2x' class='avatar avatar-48 photo' height='48' width='48' /></noscript> <cite class="fn">Sohum</cite> <span class="says">says:</span></div><div class="comment-metadata"> <a href="https://www.baldengineer.com/mqtt-tutorial.html#comment-88801"> <time datetime="2017-02-18T10:15:27+00:00"> February 18, 2017 at 10:15 am </time> </a></div></footer><div class="comment-content"><p>Hey James!</p><p>Your tutorial is cool. I haven’t tried this part out yet, because I have a question.</p><p>1)
 Instead of going around and having three different platforms be made to
 talk to each other, would it not be more streamlined and easy to have 
the Pi be the broker, or is there a specific reason you would recommend 
avoiding that for a beginner like myself?</p><p>2) I know that you 
recommend the Adafruit Huzzah, but all I have with me is a generic 
ESP8266 module. I know this is not a huge issue, since most of the code 
and implementation is going to be identical anyway. However, my module 
does not seem to like sending data over to the serial monitor here. Not 
sure why. The FTDI cable I am using programs the ESP8266 just fine. I 
know because I tried a simple Blink program by hooking up the GPIO pin 2
 on the module to an LED and blinking that. Works perfectly. But still, 
nothing on the serial monitor. Any ideas?</p><p>Thank you,</p><p>Sohum</p></div><div class="reply"> <a rel="nofollow" class="comment-reply-link" href="#comment-88801" onclick='return addComment.moveForm( "div-comment-88801", "88801", "respond", "5799" )' aria-label="Reply to Sohum">Reply</a></div></article><ul class="children"><li id="comment-88802" class="comment byuser comment-author-baldengineer bypostauthor odd alt depth-2"><article id="div-comment-88802" class="comment-body"><footer class="comment-meta"><div class="comment-author vcard"> <img alt="" src="data:image/gif;base64,R0lGODdhAQABAPAAAP///wAAACwAAAAAAQABAEACAkQBADs=" data-lazy-src="https://secure.gravatar.com/avatar/0a1bd66a4cc97cbb242fb74d7aaf33ed?s=48&amp;r=pg" data-lazy-srcset="https://secure.gravatar.com/avatar/0a1bd66a4cc97cbb242fb74d7aaf33ed?s=96&amp;r=pg 2x" class="avatar avatar-48 photo" width="48" height="48"><noscript><img alt='' src='https://secure.gravatar.com/avatar/0a1bd66a4cc97cbb242fb74d7aaf33ed?s=48&#038;r=pg' srcset='https://secure.gravatar.com/avatar/0a1bd66a4cc97cbb242fb74d7aaf33ed?s=96&#038;r=pg 2x' class='avatar avatar-48 photo' height='48' width='48' /></noscript> <cite class="fn"><a href="https://www.baldengineer.com/" rel="external nofollow" class="url">James Lewis</a></cite> <span class="says">says:</span></div><div class="comment-metadata"> <a href="https://www.baldengineer.com/mqtt-tutorial.html#comment-88802"> <time datetime="2017-02-18T16:32:47+00:00"> February 18, 2017 at 4:32 pm </time> </a></div></footer><div class="comment-content"><blockquote><p>would it not be more streamlined and easy to have the Pi be the broker</p></blockquote><p>Yes, you can use the Pi as the broker. I kept them separate in my example to make the responsibility of each device clear.</p><blockquote><blockquote><p>my module does not seem to like sending data over to the serial monitor here</p></blockquote><p>That’s
 why I use Adafruit’s modules. I can’t offer suggestions how to make the
 generic modules work, I never really did. I only keep them around for 
pictures.</p></blockquote></div><div class="reply"> <a rel="nofollow" class="comment-reply-link" href="#comment-88802" onclick='return addComment.moveForm( "div-comment-88802", "88802", "respond", "5799" )' aria-label="Reply to James Lewis">Reply</a></div></article></li></ul></li><li id="comment-88777" class="comment even thread-odd thread-alt depth-1 parent"><article id="div-comment-88777" class="comment-body"><footer class="comment-meta"><div class="comment-author vcard"> <img alt="" src="data:image/gif;base64,R0lGODdhAQABAPAAAP///wAAACwAAAAAAQABAEACAkQBADs=" data-lazy-src="https://secure.gravatar.com/avatar/292bfdb9eac5a8fa4b3ed64831669acb?s=48&amp;r=pg" data-lazy-srcset="https://secure.gravatar.com/avatar/292bfdb9eac5a8fa4b3ed64831669acb?s=96&amp;r=pg 2x" class="avatar avatar-48 photo" width="48" height="48"><noscript><img alt='' src='https://secure.gravatar.com/avatar/292bfdb9eac5a8fa4b3ed64831669acb?s=48&#038;r=pg' srcset='https://secure.gravatar.com/avatar/292bfdb9eac5a8fa4b3ed64831669acb?s=96&#038;r=pg 2x' class='avatar avatar-48 photo' height='48' width='48' /></noscript> <cite class="fn">Egbert</cite> <span class="says">says:</span></div><div class="comment-metadata"> <a href="https://www.baldengineer.com/mqtt-tutorial.html#comment-88777"> <time datetime="2017-02-01T11:11:02+00:00"> February 1, 2017 at 11:11 am </time> </a></div></footer><div class="comment-content"><p>Nice
 work James! Interesting series of tuts. I have a question though… You 
mention Arduino and ESP8266 in one breath. But these are totally 
different beasts, isn’t it? Or is the ESP connected to an Arduino serial
 I/O? Ik have a few ESP’s laying around (Yes, the chinese junk…) but you
 need to talk kinda “AT” language to the ESP. If the ESP is connected to
 the Arduino, then I can understand that the library handles the AT 
messages part.<br> Apart from that; the bigger ESPs can be programmed 
using NodeMCU, which makes it possible to put the program IN the ESP 
instead of using it as an WiFi “peripheral”.<br> Egbert Jan, NL</p></div><div class="reply"> <a rel="nofollow" class="comment-reply-link" href="#comment-88777" onclick='return addComment.moveForm( "div-comment-88777", "88777", "respond", "5799" )' aria-label="Reply to Egbert">Reply</a></div></article><ul class="children"><li id="comment-88780" class="comment byuser comment-author-baldengineer bypostauthor odd alt depth-2 parent"><article id="div-comment-88780" class="comment-body"><footer class="comment-meta"><div class="comment-author vcard"> <img alt="" src="data:image/gif;base64,R0lGODdhAQABAPAAAP///wAAACwAAAAAAQABAEACAkQBADs=" data-lazy-src="https://secure.gravatar.com/avatar/0a1bd66a4cc97cbb242fb74d7aaf33ed?s=48&amp;r=pg" data-lazy-srcset="https://secure.gravatar.com/avatar/0a1bd66a4cc97cbb242fb74d7aaf33ed?s=96&amp;r=pg 2x" class="avatar avatar-48 photo" width="48" height="48"><noscript><img alt='' src='https://secure.gravatar.com/avatar/0a1bd66a4cc97cbb242fb74d7aaf33ed?s=48&#038;r=pg' srcset='https://secure.gravatar.com/avatar/0a1bd66a4cc97cbb242fb74d7aaf33ed?s=96&#038;r=pg 2x' class='avatar avatar-48 photo' height='48' width='48' /></noscript> <cite class="fn"><a href="https://www.baldengineer.com/" rel="external nofollow" class="url">James Lewis</a></cite> <span class="says">says:</span></div><div class="comment-metadata"> <a href="https://www.baldengineer.com/mqtt-tutorial.html#comment-88780"> <time datetime="2017-02-01T12:15:42+00:00"> February 1, 2017 at 12:15 pm </time> </a></div></footer><div class="comment-content"><p>I
 don’t use the “AT” firmware. I program my ESP8266s with the Arduino 
IDE, or more correctly, the Arduino libraries. I found it silly to 
connect an 8266 to a 328 and talk to it with serial AT commands. The 
8266’s SOC has a perfectly good microcontroller. If I needed more or 
stronger I/O, then I would connect the two with SPI or I2C. Touched on 
in this post: <a href="https://www.baldengineer.com/esp8266-5-reasons-to-use-one.html" rel="nofollow">https://www.baldengineer.com/esp8266-5-reasons-to-use-one.html</a>.</p><p>So
 when I combine them in the same breath, I’m basically saying 
programming the ESP8266 board directly with Arduino libraries, like 
PubSubClient.</p></div><div class="reply"> <a rel="nofollow" class="comment-reply-link" href="#comment-88780" onclick='return addComment.moveForm( "div-comment-88780", "88780", "respond", "5799" )' aria-label="Reply to James Lewis">Reply</a></div></article><ul class="children"><li id="comment-88781" class="comment even depth-3 parent"><article id="div-comment-88781" class="comment-body"><footer class="comment-meta"><div class="comment-author vcard"> <img alt="" src="data:image/gif;base64,R0lGODdhAQABAPAAAP///wAAACwAAAAAAQABAEACAkQBADs=" data-lazy-src="https://secure.gravatar.com/avatar/292bfdb9eac5a8fa4b3ed64831669acb?s=48&amp;r=pg" data-lazy-srcset="https://secure.gravatar.com/avatar/292bfdb9eac5a8fa4b3ed64831669acb?s=96&amp;r=pg 2x" class="avatar avatar-48 photo" width="48" height="48"><noscript><img alt='' src='https://secure.gravatar.com/avatar/292bfdb9eac5a8fa4b3ed64831669acb?s=48&#038;r=pg' srcset='https://secure.gravatar.com/avatar/292bfdb9eac5a8fa4b3ed64831669acb?s=96&#038;r=pg 2x' class='avatar avatar-48 photo' height='48' width='48' /></noscript> <cite class="fn">Egbert</cite> <span class="says">says:</span></div><div class="comment-metadata"> <a href="https://www.baldengineer.com/mqtt-tutorial.html#comment-88781"> <time datetime="2017-02-01T12:43:24+00:00"> February 1, 2017 at 12:43 pm </time> </a></div></footer><div class="comment-content"><p>That
 is what I thought! The ESP can do this easily on its own. But the 
ESP-12 on the breakout board must contain NodeMCU firmware, not the AT 
stuff. I’ll have to figure out how to get the IDE to talk to the ESP. I 
see the potential but do not grasp the ESP fully yet. (turning 62 next 
week…need some time learning)<br> CU<br> Egbert Jan</p></div><div class="reply"> <a rel="nofollow" class="comment-reply-link" href="#comment-88781" onclick='return addComment.moveForm( "div-comment-88781", "88781", "respond", "5799" )' aria-label="Reply to Egbert">Reply</a></div></article><ul class="children"><li id="comment-88782" class="comment byuser comment-author-baldengineer bypostauthor odd alt depth-4"><article id="div-comment-88782" class="comment-body"><footer class="comment-meta"><div class="comment-author vcard"> <img alt="" src="data:image/gif;base64,R0lGODdhAQABAPAAAP///wAAACwAAAAAAQABAEACAkQBADs=" data-lazy-src="https://secure.gravatar.com/avatar/0a1bd66a4cc97cbb242fb74d7aaf33ed?s=48&amp;r=pg" data-lazy-srcset="https://secure.gravatar.com/avatar/0a1bd66a4cc97cbb242fb74d7aaf33ed?s=96&amp;r=pg 2x" class="avatar avatar-48 photo" width="48" height="48"><noscript><img alt='' src='https://secure.gravatar.com/avatar/0a1bd66a4cc97cbb242fb74d7aaf33ed?s=48&#038;r=pg' srcset='https://secure.gravatar.com/avatar/0a1bd66a4cc97cbb242fb74d7aaf33ed?s=96&#038;r=pg 2x' class='avatar avatar-48 photo' height='48' width='48' /></noscript> <cite class="fn"><a href="https://www.baldengineer.com/" rel="external nofollow" class="url">James Lewis</a></cite> <span class="says">says:</span></div><div class="comment-metadata"> <a href="https://www.baldengineer.com/mqtt-tutorial.html#comment-88782"> <time datetime="2017-02-01T13:02:17+00:00"> February 1, 2017 at 1:02 pm </time> </a></div></footer><div class="comment-content"><p>I can relate. It has taken me some time to understand what the ESP8266 really is. I plan some post/video on its basics soon.</p></div><div class="reply"> <a rel="nofollow" class="comment-reply-link" href="#comment-88782" onclick='return addComment.moveForm( "div-comment-88782", "88782", "respond", "5799" )' aria-label="Reply to James Lewis">Reply</a></div></article></li></ul></li></ul></li></ul></li><li id="comment-88734" class="comment even thread-even depth-1 parent"><article id="div-comment-88734" class="comment-body"><footer class="comment-meta"><div class="comment-author vcard"> <img alt="" src="data:image/gif;base64,R0lGODdhAQABAPAAAP///wAAACwAAAAAAQABAEACAkQBADs=" data-lazy-src="https://secure.gravatar.com/avatar/744a1fe7684aa7380076f7b8b2f268b4?s=48&amp;r=pg" data-lazy-srcset="https://secure.gravatar.com/avatar/744a1fe7684aa7380076f7b8b2f268b4?s=96&amp;r=pg 2x" class="avatar avatar-48 photo" width="48" height="48"><noscript><img alt='' src='https://secure.gravatar.com/avatar/744a1fe7684aa7380076f7b8b2f268b4?s=48&#038;r=pg' srcset='https://secure.gravatar.com/avatar/744a1fe7684aa7380076f7b8b2f268b4?s=96&#038;r=pg 2x' class='avatar avatar-48 photo' height='48' width='48' /></noscript> <cite class="fn">Bhrath</cite> <span class="says">says:</span></div><div class="comment-metadata"> <a href="https://www.baldengineer.com/mqtt-tutorial.html#comment-88734"> <time datetime="2017-01-24T04:10:33+00:00"> January 24, 2017 at 4:10 am </time> </a></div></footer><div class="comment-content"><p>Hi James,</p><p>Firstly thank you for sharing a informative tutorial.<br> and I had explored this and I got good knowledge on mqtt protocol.</p><p>here i have doubt that is, can i change port 1883 to other? if yes how?</p><p>Thank you in advance.</p></div><div class="reply"> <a rel="nofollow" class="comment-reply-link" href="#comment-88734" onclick='return addComment.moveForm( "div-comment-88734", "88734", "respond", "5799" )' aria-label="Reply to Bhrath">Reply</a></div></article><ul class="children"><li id="comment-88767" class="comment byuser comment-author-baldengineer bypostauthor odd alt depth-2"><article id="div-comment-88767" class="comment-body"><footer class="comment-meta"><div class="comment-author vcard"> <img alt="" src="data:image/gif;base64,R0lGODdhAQABAPAAAP///wAAACwAAAAAAQABAEACAkQBADs=" data-lazy-src="https://secure.gravatar.com/avatar/0a1bd66a4cc97cbb242fb74d7aaf33ed?s=48&amp;r=pg" data-lazy-srcset="https://secure.gravatar.com/avatar/0a1bd66a4cc97cbb242fb74d7aaf33ed?s=96&amp;r=pg 2x" class="avatar avatar-48 photo" width="48" height="48"><noscript><img alt='' src='https://secure.gravatar.com/avatar/0a1bd66a4cc97cbb242fb74d7aaf33ed?s=48&#038;r=pg' srcset='https://secure.gravatar.com/avatar/0a1bd66a4cc97cbb242fb74d7aaf33ed?s=96&#038;r=pg 2x' class='avatar avatar-48 photo' height='48' width='48' /></noscript> <cite class="fn"><a href="https://www.baldengineer.com/" rel="external nofollow" class="url">James Lewis</a></cite> <span class="says">says:</span></div><div class="comment-metadata"> <a href="https://www.baldengineer.com/mqtt-tutorial.html#comment-88767"> <time datetime="2017-01-24T14:46:34+00:00"> January 24, 2017 at 2:46 pm </time> </a></div></footer><div class="comment-content"><p>Yes. All the tools and libraries support custom ports.</p></div><div class="reply"> <a rel="nofollow" class="comment-reply-link" href="#comment-88767" onclick='return addComment.moveForm( "div-comment-88767", "88767", "respond", "5799" )' aria-label="Reply to James Lewis">Reply</a></div></article></li></ul></li><li id="comment-88711" class="comment even thread-odd thread-alt depth-1"><article id="div-comment-88711" class="comment-body"><footer class="comment-meta"><div class="comment-author vcard"> <img alt="" src="data:image/gif;base64,R0lGODdhAQABAPAAAP///wAAACwAAAAAAQABAEACAkQBADs=" data-lazy-src="https://secure.gravatar.com/avatar/c71cb713b310308ba5ff09e59cc781b0?s=48&amp;r=pg" data-lazy-srcset="https://secure.gravatar.com/avatar/c71cb713b310308ba5ff09e59cc781b0?s=96&amp;r=pg 2x" class="avatar avatar-48 photo" width="48" height="48"><noscript><img alt='' src='https://secure.gravatar.com/avatar/c71cb713b310308ba5ff09e59cc781b0?s=48&#038;r=pg' srcset='https://secure.gravatar.com/avatar/c71cb713b310308ba5ff09e59cc781b0?s=96&#038;r=pg 2x' class='avatar avatar-48 photo' height='48' width='48' /></noscript> <cite class="fn">William Brinkman</cite> <span class="says">says:</span></div><div class="comment-metadata"> <a href="https://www.baldengineer.com/mqtt-tutorial.html#comment-88711"> <time datetime="2017-01-17T08:29:59+00:00"> January 17, 2017 at 8:29 am </time> </a></div></footer><div class="comment-content"><p>Hi James,</p><p>Beautifully
 written tutorial.  I had one slight problem.  Perhaps it is because I 
am working with a Wemos esp8266.  I have my RPi3 as both the MQTT broker
 as well as the wifi access point.  I was not able to connect to the 
network until I added a small connection function from the sample 
esp8266 code from PubSubClient into your suggested code.</p><div><div id="highlighter_872070" class="syntaxhighlighter  arduino"><table border="0" cellspacing="0" cellpadding="0"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div><div class="line number2 index1 alt1">2</div><div class="line number3 index2 alt2">3</div><div class="line number4 index3 alt1">4</div><div class="line number5 index4 alt2">5</div><div class="line number6 index5 alt1">6</div><div class="line number7 index6 alt2">7</div><div class="line number8 index7 alt1">8</div><div class="line number9 index8 alt2">9</div><div class="line number10 index9 alt1">10</div><div class="line number11 index10 alt2">11</div><div class="line number12 index11 alt1">12</div><div class="line number13 index12 alt2">13</div><div class="line number14 index13 alt1">14</div><div class="line number15 index14 alt2">15</div><div class="line number16 index15 alt1">16</div><div class="line number17 index16 alt2">17</div><div class="line number18 index17 alt1">18</div><div class="line number19 index18 alt2">19</div><div class="line number20 index19 alt1">20</div><div class="line number21 index20 alt2">21</div><div class="line number22 index21 alt1">22</div><div class="line number23 index22 alt2">23</div><div class="line number24 index23 alt1">24</div><div class="line number25 index24 alt2">25</div><div class="line number26 index25 alt1">26</div><div class="line number27 index26 alt2">27</div><div class="line number28 index27 alt1">28</div><div class="line number29 index28 alt2">29</div><div class="line number30 index29 alt1">30</div><div class="line number31 index30 alt2">31</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="arduino color1 bold">void</code> <code class="arduino keyword bold">setup</code><code class="arduino plain">()</code></div><div class="line number2 index1 alt1"><code class="arduino plain">{</code></div><div class="line number3 index2 alt2"><code class="arduino spaces">&nbsp;</code><code class="arduino functions">Serial.begin</code><code class="arduino plain">(</code><code class="arduino constants">9600</code><code class="arduino plain">);</code></div><div class="line number4 index3 alt1">&nbsp;</div><div class="line number5 index4 alt2"><code class="arduino spaces">&nbsp;</code><code class="arduino plain">setup_wifi();&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </code><code class="arduino comments">// added this line of code !!!!!!!</code></div><div class="line number6 index5 alt1"><code class="arduino spaces">&nbsp;</code><code class="arduino plain">client.setServer(mqtt_server, </code><code class="arduino constants">1883</code><code class="arduino plain">);</code></div><div class="line number7 index6 alt2"><code class="arduino spaces">&nbsp;</code><code class="arduino plain">client.setCallback(callback);</code></div><div class="line number8 index7 alt1"><code class="arduino spaces">&nbsp;</code>&nbsp;</div><div class="line number9 index8 alt2"><code class="arduino spaces">&nbsp;</code><code class="arduino functions">pinMode</code><code class="arduino plain">(ledPin, </code><code class="arduino constants bold">OUTPUT</code><code class="arduino plain">);</code></div><div class="line number10 index9 alt1"><code class="arduino plain">}</code></div><div class="line number11 index10 alt2">&nbsp;</div><div class="line number12 index11 alt1"><code class="arduino color1 bold">void</code> <code class="arduino plain">setup_wifi() {</code></div><div class="line number13 index12 alt2"><code class="arduino spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="arduino comments">// added this function - without it the mqtt part will not connect</code></div><div class="line number14 index13 alt1"><code class="arduino spaces">&nbsp;&nbsp;</code><code class="arduino functions">delay</code><code class="arduino plain">(</code><code class="arduino constants">10</code><code class="arduino plain">);</code></div><div class="line number15 index14 alt2"><code class="arduino spaces">&nbsp;&nbsp;</code><code class="arduino comments">// We start by connecting to a WiFi network</code></div><div class="line number16 index15 alt1"><code class="arduino spaces">&nbsp;&nbsp;</code><code class="arduino functions">Serial.println</code><code class="arduino plain">();</code></div><div class="line number17 index16 alt2"><code class="arduino spaces">&nbsp;&nbsp;</code><code class="arduino functions">Serial.print</code><code class="arduino plain">(</code><code class="arduino string">"Connecting to "</code><code class="arduino plain">);</code></div><div class="line number18 index17 alt1"><code class="arduino spaces">&nbsp;&nbsp;</code><code class="arduino functions">Serial.println</code><code class="arduino plain">(ssid);</code></div><div class="line number19 index18 alt2">&nbsp;</div><div class="line number20 index19 alt1"><code class="arduino spaces">&nbsp;&nbsp;</code><code class="arduino plain">WiFi.begin(ssid, password);</code></div><div class="line number21 index20 alt2">&nbsp;</div><div class="line number22 index21 alt1"><code class="arduino spaces">&nbsp;&nbsp;</code><code class="arduino keyword bold">while</code> <code class="arduino plain">(WiFi.status() </code><code class="arduino plain bold">!</code><code class="arduino plain bold">=</code> <code class="arduino plain">WL_CONNECTED) {</code></div><div class="line number23 index22 alt2"><code class="arduino spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="arduino functions">delay</code><code class="arduino plain">(</code><code class="arduino constants">500</code><code class="arduino plain">);</code></div><div class="line number24 index23 alt1"><code class="arduino spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="arduino functions">Serial.print</code><code class="arduino plain">(</code><code class="arduino string">"."</code><code class="arduino plain">);</code></div><div class="line number25 index24 alt2"><code class="arduino spaces">&nbsp;&nbsp;</code><code class="arduino plain">}</code></div><div class="line number26 index25 alt1">&nbsp;</div><div class="line number27 index26 alt2"><code class="arduino spaces">&nbsp;&nbsp;</code><code class="arduino functions">Serial.println</code><code class="arduino plain">(</code><code class="arduino string">""</code><code class="arduino plain">);</code></div><div class="line number28 index27 alt1"><code class="arduino spaces">&nbsp;&nbsp;</code><code class="arduino functions">Serial.println</code><code class="arduino plain">(</code><code class="arduino string">"WiFi connected"</code><code class="arduino plain">);</code></div><div class="line number29 index28 alt2"><code class="arduino spaces">&nbsp;&nbsp;</code><code class="arduino functions">Serial.println</code><code class="arduino plain">(</code><code class="arduino string">"IP address: "</code><code class="arduino plain">);</code></div><div class="line number30 index29 alt1"><code class="arduino spaces">&nbsp;&nbsp;</code><code class="arduino functions">Serial.println</code><code class="arduino plain">(WiFi.localIP());</code></div><div class="line number31 index30 alt2"><code class="arduino plain">}</code></div></div></td></tr></tbody></table></div></div></div><div class="reply"> <a rel="nofollow" class="comment-reply-link" href="#comment-88711" onclick='return addComment.moveForm( "div-comment-88711", "88711", "respond", "5799" )' aria-label="Reply to William Brinkman">Reply</a></div></article></li><li id="comment-88636" class="comment odd alt thread-even depth-1"><article id="div-comment-88636" class="comment-body"><footer class="comment-meta"><div class="comment-author vcard"> <img alt="" src="data:image/gif;base64,R0lGODdhAQABAPAAAP///wAAACwAAAAAAQABAEACAkQBADs=" data-lazy-src="https://secure.gravatar.com/avatar/5f4be81d91a14f85e79e76a08d422ea5?s=48&amp;r=pg" data-lazy-srcset="https://secure.gravatar.com/avatar/5f4be81d91a14f85e79e76a08d422ea5?s=96&amp;r=pg 2x" class="avatar avatar-48 photo" width="48" height="48"><noscript><img alt='' src='https://secure.gravatar.com/avatar/5f4be81d91a14f85e79e76a08d422ea5?s=48&#038;r=pg' srcset='https://secure.gravatar.com/avatar/5f4be81d91a14f85e79e76a08d422ea5?s=96&#038;r=pg 2x' class='avatar avatar-48 photo' height='48' width='48' /></noscript> <cite class="fn"><a href="http://www.google.com/t" rel="external nofollow" class="url">Braam</a></cite> <span class="says">says:</span></div><div class="comment-metadata"> <a href="https://www.baldengineer.com/mqtt-tutorial.html#comment-88636"> <time datetime="2016-12-29T00:54:35+00:00"> December 29, 2016 at 12:54 am </time> </a></div></footer><div class="comment-content"><p>Great
 page. Just not sure why the ESP8266 is slow a publishing to MQTT. I am 
struggling to get 3 msg per second. Whereas with the RPi on paho client I
 am getting 50 per second. Any idea why? I am guessing the pubsub lib is
 not very efficient or the ESP8266 just does not have the grunt?</p></div><div class="reply"> <a rel="nofollow" class="comment-reply-link" href="#comment-88636" onclick='return addComment.moveForm( "div-comment-88636", "88636", "respond", "5799" )' aria-label="Reply to Braam">Reply</a></div></article></li><li id="comment-88635" class="comment even thread-odd thread-alt depth-1 parent"><article id="div-comment-88635" class="comment-body"><footer class="comment-meta"><div class="comment-author vcard"> <img alt="" src="data:image/gif;base64,R0lGODdhAQABAPAAAP///wAAACwAAAAAAQABAEACAkQBADs=" data-lazy-src="https://secure.gravatar.com/avatar/83377cec7bc7122f9a68af04a2cc7169?s=48&amp;r=pg" data-lazy-srcset="https://secure.gravatar.com/avatar/83377cec7bc7122f9a68af04a2cc7169?s=96&amp;r=pg 2x" class="avatar avatar-48 photo" width="48" height="48"><noscript><img alt='' src='https://secure.gravatar.com/avatar/83377cec7bc7122f9a68af04a2cc7169?s=48&#038;r=pg' srcset='https://secure.gravatar.com/avatar/83377cec7bc7122f9a68af04a2cc7169?s=96&#038;r=pg 2x' class='avatar avatar-48 photo' height='48' width='48' /></noscript> <cite class="fn">Boris</cite> <span class="says">says:</span></div><div class="comment-metadata"> <a href="https://www.baldengineer.com/mqtt-tutorial.html#comment-88635"> <time datetime="2016-12-29T00:41:53+00:00"> December 29, 2016 at 12:41 am </time> </a></div></footer><div class="comment-content"><p>Can you give an example where the arduino subscribes to multiple topics ?<br> Thank you for your beautiful tutorials <img draggable="false" class="emoji" alt="🙂" src="MQTT%20Tutorial%20for%20Raspberry%20Pi,%20Arduino,%20and%20ESP8266%20-%20Bald%20Engineer_files/1f642.svg"></p></div><div class="reply"> <a rel="nofollow" class="comment-reply-link" href="#comment-88635" onclick='return addComment.moveForm( "div-comment-88635", "88635", "respond", "5799" )' aria-label="Reply to Boris">Reply</a></div></article><ul class="children"><li id="comment-88637" class="comment byuser comment-author-baldengineer bypostauthor odd alt depth-2 parent"><article id="div-comment-88637" class="comment-body"><footer class="comment-meta"><div class="comment-author vcard"> <img alt="" src="data:image/gif;base64,R0lGODdhAQABAPAAAP///wAAACwAAAAAAQABAEACAkQBADs=" data-lazy-src="https://secure.gravatar.com/avatar/0a1bd66a4cc97cbb242fb74d7aaf33ed?s=48&amp;r=pg" data-lazy-srcset="https://secure.gravatar.com/avatar/0a1bd66a4cc97cbb242fb74d7aaf33ed?s=96&amp;r=pg 2x" class="avatar avatar-48 photo" width="48" height="48"><noscript><img alt='' src='https://secure.gravatar.com/avatar/0a1bd66a4cc97cbb242fb74d7aaf33ed?s=48&#038;r=pg' srcset='https://secure.gravatar.com/avatar/0a1bd66a4cc97cbb242fb74d7aaf33ed?s=96&#038;r=pg 2x' class='avatar avatar-48 photo' height='48' width='48' /></noscript> <cite class="fn"><a href="https://www.baldengineer.com/" rel="external nofollow" class="url">James Lewis</a></cite> <span class="says">says:</span></div><div class="comment-metadata"> <a href="https://www.baldengineer.com/mqtt-tutorial.html#comment-88637"> <time datetime="2016-12-29T08:30:09+00:00"> December 29, 2016 at 8:30 am </time> </a></div></footer><div class="comment-content"><p>Good idea. I’ll put a full tutorial together. However, the key is using “strcmp()” on topic. For example:</p><div><div id="highlighter_615758" class="syntaxhighlighter  arduino"><table border="0" cellspacing="0" cellpadding="0"><tbody><tr><td class="gutter"><div class="line number0 index0 alt1 break">&nbsp;</div><div class="line number1 index1 alt2">1</div><div class="line number2 index2 alt1">2</div><div class="line number3 index3 alt2">3</div><div class="line number4 index4 alt1">4</div><div class="line number5 index5 alt2">5</div><div class="line number6 index6 alt1">6</div><div class="line number7 index7 alt2">7</div><div class="line number8 index8 alt1">8</div></td><td class="code"><div class="container"><div class="line number0 index0 alt1 break"><code class="arduino color1 bold">void</code> <code class="arduino plain">callback(</code><code class="arduino color1 bold">char</code><code class="arduino plain bold">*</code> <code class="arduino plain">topic, </code><code class="arduino color1 bold">byte</code><code class="arduino plain bold">*</code> <code class="arduino plain">payload, </code><code class="arduino color1 bold">unsigned</code> <code class="arduino color1 bold">int</code> <code class="arduino plain">length) {</code></div><div class="line number1 index1 alt2"><code class="arduino spaces">&nbsp;&nbsp;</code><code class="arduino keyword bold">if</code> <code class="arduino plain">(strcmp(topic,</code><code class="arduino string">"red"</code><code class="arduino plain">)</code><code class="arduino plain bold">=</code><code class="arduino plain bold">=</code><code class="arduino constants">0</code><code class="arduino plain">) {</code></div><div class="line number2 index2 alt1"><code class="arduino spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="arduino functions">Serial.println</code><code class="arduino plain">(F(</code><code class="arduino string">"Processing red"</code><code class="arduino plain">));</code></div><div class="line number3 index3 alt2"><code class="arduino spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="arduino keyword bold">if</code> <code class="arduino plain">(payload[</code><code class="arduino constants">0</code><code class="arduino plain">] </code><code class="arduino plain bold">=</code><code class="arduino plain bold">=</code> <code class="arduino string">'0'</code><code class="arduino plain">)</code></div><div class="line number4 index4 alt1"><code class="arduino spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="arduino plain">setPWM(red, </code><code class="arduino constants">0</code><code class="arduino plain">, useEEPROM);</code></div><div class="line number5 index5 alt2"><code class="arduino spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="arduino keyword bold">if</code> <code class="arduino plain">(payload[</code><code class="arduino constants">0</code><code class="arduino plain">] </code><code class="arduino plain bold">=</code><code class="arduino plain bold">=</code> <code class="arduino string">'1'</code><code class="arduino plain">)</code></div><div class="line number6 index6 alt1"><code class="arduino spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="arduino plain">setPWM(red, </code><code class="arduino constants">1000</code><code class="arduino plain">, useEEPROM);&nbsp; </code></div><div class="line number7 index7 alt2"><code class="arduino spaces">&nbsp;&nbsp;</code><code class="arduino plain">}</code></div><div class="line number8 index8 alt1"><code class="arduino plain">}</code></div></div></td></tr></tbody></table></div></div><p>Inside of the callback(), I check the value of topic to see which topic generated the event.</p></div><div class="reply"> <a rel="nofollow" class="comment-reply-link" href="#comment-88637" onclick='return addComment.moveForm( "div-comment-88637", "88637", "respond", "5799" )' aria-label="Reply to James Lewis">Reply</a></div></article><ul class="children"><li id="comment-88991" class="comment even depth-3 parent"><article id="div-comment-88991" class="comment-body"><footer class="comment-meta"><div class="comment-author vcard"> <img alt="" src="data:image/gif;base64,R0lGODdhAQABAPAAAP///wAAACwAAAAAAQABAEACAkQBADs=" data-lazy-src="https://secure.gravatar.com/avatar/47796f55ef963ee798b3bfd727ec6c0d?s=48&amp;r=pg" data-lazy-srcset="https://secure.gravatar.com/avatar/47796f55ef963ee798b3bfd727ec6c0d?s=96&amp;r=pg 2x" class="avatar avatar-48 photo" width="48" height="48"><noscript><img alt='' src='https://secure.gravatar.com/avatar/47796f55ef963ee798b3bfd727ec6c0d?s=48&#038;r=pg' srcset='https://secure.gravatar.com/avatar/47796f55ef963ee798b3bfd727ec6c0d?s=96&#038;r=pg 2x' class='avatar avatar-48 photo' height='48' width='48' /></noscript> <cite class="fn">Nick Sebring</cite> <span class="says">says:</span></div><div class="comment-metadata"> <a href="https://www.baldengineer.com/mqtt-tutorial.html#comment-88991"> <time datetime="2017-04-16T20:35:31+00:00"> April 16, 2017 at 8:35 pm </time> </a></div></footer><div class="comment-content"><p>Did
 you do the “strcmp()” tutorial?  I looked and couldn’t find it.  This 
would be most helpful.  Thank you for your contributions; teaching us 
MQTT</p></div><div class="reply"> <a rel="nofollow" class="comment-reply-link" href="#comment-88991" onclick='return addComment.moveForm( "div-comment-88991", "88991", "respond", "5799" )' aria-label="Reply to Nick Sebring">Reply</a></div></article><ul class="children"><li id="comment-88992" class="comment byuser comment-author-baldengineer bypostauthor odd alt depth-4 parent"><article id="div-comment-88992" class="comment-body"><footer class="comment-meta"><div class="comment-author vcard"> <img alt="" src="data:image/gif;base64,R0lGODdhAQABAPAAAP///wAAACwAAAAAAQABAEACAkQBADs=" data-lazy-src="https://secure.gravatar.com/avatar/0a1bd66a4cc97cbb242fb74d7aaf33ed?s=48&amp;r=pg" data-lazy-srcset="https://secure.gravatar.com/avatar/0a1bd66a4cc97cbb242fb74d7aaf33ed?s=96&amp;r=pg 2x" class="avatar avatar-48 photo" width="48" height="48"><noscript><img alt='' src='https://secure.gravatar.com/avatar/0a1bd66a4cc97cbb242fb74d7aaf33ed?s=48&#038;r=pg' srcset='https://secure.gravatar.com/avatar/0a1bd66a4cc97cbb242fb74d7aaf33ed?s=96&#038;r=pg 2x' class='avatar avatar-48 photo' height='48' width='48' /></noscript> <cite class="fn"><a href="https://www.baldengineer.com/" rel="external nofollow" class="url">James Lewis</a></cite> <span class="says">says:</span></div><div class="comment-metadata"> <a href="https://www.baldengineer.com/mqtt-tutorial.html#comment-88992"> <time datetime="2017-04-16T20:59:37+00:00"> April 16, 2017 at 8:59 pm </time> </a></div></footer><div class="comment-content"><p>I think you’re looking for this one on <a href="https://www.baldengineer.com/multiple-mqtt-topics-pubsubclient.html">multiple MQTT subscriptions</a>?</p></div><div class="reply"> <a rel="nofollow" class="comment-reply-link" href="#comment-88992" onclick='return addComment.moveForm( "div-comment-88992", "88992", "respond", "5799" )' aria-label="Reply to James Lewis">Reply</a></div></article><ul class="children"><li id="comment-88995" class="comment even depth-5"><article id="div-comment-88995" class="comment-body"><footer class="comment-meta"><div class="comment-author vcard"> <img alt="" src="data:image/gif;base64,R0lGODdhAQABAPAAAP///wAAACwAAAAAAQABAEACAkQBADs=" data-lazy-src="https://secure.gravatar.com/avatar/47796f55ef963ee798b3bfd727ec6c0d?s=48&amp;r=pg" data-lazy-srcset="https://secure.gravatar.com/avatar/47796f55ef963ee798b3bfd727ec6c0d?s=96&amp;r=pg 2x" class="avatar avatar-48 photo" width="48" height="48"><noscript><img alt='' src='https://secure.gravatar.com/avatar/47796f55ef963ee798b3bfd727ec6c0d?s=48&#038;r=pg' srcset='https://secure.gravatar.com/avatar/47796f55ef963ee798b3bfd727ec6c0d?s=96&#038;r=pg 2x' class='avatar avatar-48 photo' height='48' width='48' /></noscript> <cite class="fn">Nick Sebring</cite> <span class="says">says:</span></div><div class="comment-metadata"> <a href="https://www.baldengineer.com/mqtt-tutorial.html#comment-88995"> <time datetime="2017-04-17T07:11:11+00:00"> April 17, 2017 at 7:11 am </time> </a></div></footer><div class="comment-content"><p>YES!  Thank you very much.</p></div><div class="reply"></div></article></li></ul></li></ul></li></ul></li></ul></li><li id="comment-88631" class="comment odd alt thread-even depth-1 parent"><article id="div-comment-88631" class="comment-body"><footer class="comment-meta"><div class="comment-author vcard"> <img alt="" src="data:image/gif;base64,R0lGODdhAQABAPAAAP///wAAACwAAAAAAQABAEACAkQBADs=" data-lazy-src="https://secure.gravatar.com/avatar/6641008b32b30a11c7e852e7b53b7e52?s=48&amp;r=pg" data-lazy-srcset="https://secure.gravatar.com/avatar/6641008b32b30a11c7e852e7b53b7e52?s=96&amp;r=pg 2x" class="avatar avatar-48 photo" width="48" height="48"><noscript><img alt='' src='https://secure.gravatar.com/avatar/6641008b32b30a11c7e852e7b53b7e52?s=48&#038;r=pg' srcset='https://secure.gravatar.com/avatar/6641008b32b30a11c7e852e7b53b7e52?s=96&#038;r=pg 2x' class='avatar avatar-48 photo' height='48' width='48' /></noscript> <cite class="fn">Leo</cite> <span class="says">says:</span></div><div class="comment-metadata"> <a href="https://www.baldengineer.com/mqtt-tutorial.html#comment-88631"> <time datetime="2016-12-26T07:35:12+00:00"> December 26, 2016 at 7:35 am </time> </a></div></footer><div class="comment-content"><p>Hey James,</p><p>Nice tutorial, Thank you.</p><p>I was wondering what SSID &amp; password are doing here since they are not used ??</p><p>Tkx for the reply.<br> Leo</p></div><div class="reply"> <a rel="nofollow" class="comment-reply-link" href="#comment-88631" onclick='return addComment.moveForm( "div-comment-88631", "88631", "respond", "5799" )' aria-label="Reply to Leo">Reply</a></div></article><ul class="children"><li id="comment-88632" class="comment byuser comment-author-baldengineer bypostauthor even depth-2"><article id="div-comment-88632" class="comment-body"><footer class="comment-meta"><div class="comment-author vcard"> <img alt="" src="data:image/gif;base64,R0lGODdhAQABAPAAAP///wAAACwAAAAAAQABAEACAkQBADs=" data-lazy-src="https://secure.gravatar.com/avatar/0a1bd66a4cc97cbb242fb74d7aaf33ed?s=48&amp;r=pg" data-lazy-srcset="https://secure.gravatar.com/avatar/0a1bd66a4cc97cbb242fb74d7aaf33ed?s=96&amp;r=pg 2x" class="avatar avatar-48 photo" width="48" height="48"><noscript><img alt='' src='https://secure.gravatar.com/avatar/0a1bd66a4cc97cbb242fb74d7aaf33ed?s=48&#038;r=pg' srcset='https://secure.gravatar.com/avatar/0a1bd66a4cc97cbb242fb74d7aaf33ed?s=96&#038;r=pg 2x' class='avatar avatar-48 photo' height='48' width='48' /></noscript> <cite class="fn"><a href="https://www.baldengineer.com/" rel="external nofollow" class="url">James Lewis</a></cite> <span class="says">says:</span></div><div class="comment-metadata"> <a href="https://www.baldengineer.com/mqtt-tutorial.html#comment-88632"> <time datetime="2016-12-26T13:24:27+00:00"> December 26, 2016 at 1:24 pm </time> </a></div></footer><div class="comment-content"><p>The
 ESP8266 WiFi Library I used when I wrote the example looked for globals
 SSID and password. Probably time to update with more recent libraries.</p></div><div class="reply"> <a rel="nofollow" class="comment-reply-link" href="#comment-88632" onclick='return addComment.moveForm( "div-comment-88632", "88632", "respond", "5799" )' aria-label="Reply to James Lewis">Reply</a></div></article></li></ul></li><li id="comment-88608" class="comment odd alt thread-odd thread-alt depth-1 parent"><article id="div-comment-88608" class="comment-body"><footer class="comment-meta"><div class="comment-author vcard"> <img alt="" src="data:image/gif;base64,R0lGODdhAQABAPAAAP///wAAACwAAAAAAQABAEACAkQBADs=" data-lazy-src="https://secure.gravatar.com/avatar/6404ffa2fd2ed92cc1d09729d0f03f41?s=48&amp;r=pg" data-lazy-srcset="https://secure.gravatar.com/avatar/6404ffa2fd2ed92cc1d09729d0f03f41?s=96&amp;r=pg 2x" class="avatar avatar-48 photo" width="48" height="48"><noscript><img alt='' src='https://secure.gravatar.com/avatar/6404ffa2fd2ed92cc1d09729d0f03f41?s=48&#038;r=pg' srcset='https://secure.gravatar.com/avatar/6404ffa2fd2ed92cc1d09729d0f03f41?s=96&#038;r=pg 2x' class='avatar avatar-48 photo' height='48' width='48' /></noscript> <cite class="fn">John</cite> <span class="says">says:</span></div><div class="comment-metadata"> <a href="https://www.baldengineer.com/mqtt-tutorial.html#comment-88608"> <time datetime="2016-12-13T07:03:36+00:00"> December 13, 2016 at 7:03 am </time> </a></div></footer><div class="comment-content"><p>Hello</p><p>Don’t know if you can help or not with this problem.<br> I have mqtt mosquitto loaded on a raspberry pi 3 and all works great.<br> In one of my program that needs to use the mqtt broker the script is:</p><p>exec(“C:\Program
 Files\mosquitto\mosquitto_pub.exe”, “-h 10.1.1.120 -p 1883 -t 
/HOME/LIVINGROOM/COMMAND -m Command:Lounge_Lights_On’ “)</p><p>The 
problem is here, as you can see, is that the script uses the mqtt broker
 on a Windows machine (“C:\Program Files\mosquitto\mosquitto_pub.exe”) 
and not a raspberry pi.<br> Is there a way to connect to the pi mqtt instead of the pc mqtt and then run the rest of the script?</p><p>exec(“run-from-pi-broker”, -h 10.1.1.120 -p 1883 -t /HOME/LIVINGROOM/COMMAND -m Command:Lounge_Lights_On’ “)</p><p>Any help is welcomed.</p><p>John</p></div><div class="reply"> <a rel="nofollow" class="comment-reply-link" href="#comment-88608" onclick='return addComment.moveForm( "div-comment-88608", "88608", "respond", "5799" )' aria-label="Reply to John">Reply</a></div></article><ul class="children"><li id="comment-88609" class="comment byuser comment-author-baldengineer bypostauthor even depth-2 parent"><article id="div-comment-88609" class="comment-body"><footer class="comment-meta"><div class="comment-author vcard"> <img alt="" src="data:image/gif;base64,R0lGODdhAQABAPAAAP///wAAACwAAAAAAQABAEACAkQBADs=" data-lazy-src="https://secure.gravatar.com/avatar/0a1bd66a4cc97cbb242fb74d7aaf33ed?s=48&amp;r=pg" data-lazy-srcset="https://secure.gravatar.com/avatar/0a1bd66a4cc97cbb242fb74d7aaf33ed?s=96&amp;r=pg 2x" class="avatar avatar-48 photo" width="48" height="48"><noscript><img alt='' src='https://secure.gravatar.com/avatar/0a1bd66a4cc97cbb242fb74d7aaf33ed?s=48&#038;r=pg' srcset='https://secure.gravatar.com/avatar/0a1bd66a4cc97cbb242fb74d7aaf33ed?s=96&#038;r=pg 2x' class='avatar avatar-48 photo' height='48' width='48' /></noscript> <cite class="fn"><a href="https://www.baldengineer.com/" rel="external nofollow" class="url">James Lewis</a></cite> <span class="says">says:</span></div><div class="comment-metadata"> <a href="https://www.baldengineer.com/mqtt-tutorial.html#comment-88609"> <time datetime="2016-12-13T08:10:46+00:00"> December 13, 2016 at 8:10 am </time> </a></div></footer><div class="comment-content"><p>If the script is running on the Pi, why wouldn’t you just use “mosquitto_pub”? Use “which” to find its path.</p></div><div class="reply"> <a rel="nofollow" class="comment-reply-link" href="#comment-88609" onclick='return addComment.moveForm( "div-comment-88609", "88609", "respond", "5799" )' aria-label="Reply to James Lewis">Reply</a></div></article><ul class="children"><li id="comment-88610" class="comment odd alt depth-3 parent"><article id="div-comment-88610" class="comment-body"><footer class="comment-meta"><div class="comment-author vcard"> <img alt="" src="data:image/gif;base64,R0lGODdhAQABAPAAAP///wAAACwAAAAAAQABAEACAkQBADs=" data-lazy-src="https://secure.gravatar.com/avatar/6404ffa2fd2ed92cc1d09729d0f03f41?s=48&amp;r=pg" data-lazy-srcset="https://secure.gravatar.com/avatar/6404ffa2fd2ed92cc1d09729d0f03f41?s=96&amp;r=pg 2x" class="avatar avatar-48 photo" width="48" height="48"><noscript><img alt='' src='https://secure.gravatar.com/avatar/6404ffa2fd2ed92cc1d09729d0f03f41?s=48&#038;r=pg' srcset='https://secure.gravatar.com/avatar/6404ffa2fd2ed92cc1d09729d0f03f41?s=96&#038;r=pg 2x' class='avatar avatar-48 photo' height='48' width='48' /></noscript> <cite class="fn">John</cite> <span class="says">says:</span></div><div class="comment-metadata"> <a href="https://www.baldengineer.com/mqtt-tutorial.html#comment-88610"> <time datetime="2016-12-13T09:09:23+00:00"> December 13, 2016 at 9:09 am </time> </a></div></footer><div class="comment-content"><p>The example script I have above has the mqtt broker on the Windows PC.<br> My mqtt broker is on the Pi.<br> The script runs from the PC in a program.<br> Running the script above tries to connect to the PC mqtt broker.<br> I need the script to run from the Pi mqtt broker.<br> I am unsure what to substitute(if I can at all) to have the script run from the Pi mqtt broker.<br> Like I said not even sure if it can be done?</p><p>Thanks for your reply.</p></div><div class="reply"> <a rel="nofollow" class="comment-reply-link" href="#comment-88610" onclick='return addComment.moveForm( "div-comment-88610", "88610", "respond", "5799" )' aria-label="Reply to John">Reply</a></div></article><ul class="children"><li id="comment-88611" class="comment byuser comment-author-baldadmin even depth-4"><article id="div-comment-88611" class="comment-body"><footer class="comment-meta"><div class="comment-author vcard"> <img alt="" src="data:image/gif;base64,R0lGODdhAQABAPAAAP///wAAACwAAAAAAQABAEACAkQBADs=" data-lazy-src="https://secure.gravatar.com/avatar/79f11b5a784917a4516a5c20d286d666?s=48&amp;r=pg" data-lazy-srcset="https://secure.gravatar.com/avatar/79f11b5a784917a4516a5c20d286d666?s=96&amp;r=pg 2x" class="avatar avatar-48 photo" width="48" height="48"><noscript><img alt='' src='https://secure.gravatar.com/avatar/79f11b5a784917a4516a5c20d286d666?s=48&#038;r=pg' srcset='https://secure.gravatar.com/avatar/79f11b5a784917a4516a5c20d286d666?s=96&#038;r=pg 2x' class='avatar avatar-48 photo' height='48' width='48' /></noscript> <cite class="fn">baldadmin</cite> <span class="says">says:</span></div><div class="comment-metadata"> <a href="https://www.baldengineer.com/mqtt-tutorial.html#comment-88611"> <time datetime="2016-12-13T09:55:44+00:00"> December 13, 2016 at 9:55 am </time> </a></div></footer><div class="comment-content"><p>You need to have mosquito_pub installed on the PC. You give the script the IP address of the Pi running the broker.</p></div><div class="reply"> <a rel="nofollow" class="comment-reply-link" href="#comment-88611" onclick='return addComment.moveForm( "div-comment-88611", "88611", "respond", "5799" )' aria-label="Reply to baldadmin">Reply</a></div></article></li></ul></li></ul></li></ul></li><li id="comment-88596" class="comment odd alt thread-even depth-1 parent"><article id="div-comment-88596" class="comment-body"><footer class="comment-meta"><div class="comment-author vcard"> <img alt="" src="data:image/gif;base64,R0lGODdhAQABAPAAAP///wAAACwAAAAAAQABAEACAkQBADs=" data-lazy-src="https://secure.gravatar.com/avatar/c26fdead8f0ef6a978c171dbb9f0b89e?s=48&amp;r=pg" data-lazy-srcset="https://secure.gravatar.com/avatar/c26fdead8f0ef6a978c171dbb9f0b89e?s=96&amp;r=pg 2x" class="avatar avatar-48 photo" width="48" height="48"><noscript><img alt='' src='https://secure.gravatar.com/avatar/c26fdead8f0ef6a978c171dbb9f0b89e?s=48&#038;r=pg' srcset='https://secure.gravatar.com/avatar/c26fdead8f0ef6a978c171dbb9f0b89e?s=96&#038;r=pg 2x' class='avatar avatar-48 photo' height='48' width='48' /></noscript> <cite class="fn"><a href="http://www.fabforward.sg/" rel="external nofollow" class="url">Tom</a></cite> <span class="says">says:</span></div><div class="comment-metadata"> <a href="https://www.baldengineer.com/mqtt-tutorial.html#comment-88596"> <time datetime="2016-12-07T22:54:46+00:00"> December 7, 2016 at 10:54 pm </time> </a></div></footer><div class="comment-content"><p>Hi James,<br>
 Great post. Thanks for that! I have been experimenting with the pubsub 
as well as paho libraries on Arduino sending MQTT via Ethernet. The 
latter I understand supports SSL. I am trying to implement 
pre-shared-key based SSL/TLS support. Do you have any experience/example
 how to implement this on Arduino?</p></div><div class="reply"> <a rel="nofollow" class="comment-reply-link" href="#comment-88596" onclick='return addComment.moveForm( "div-comment-88596", "88596", "respond", "5799" )' aria-label="Reply to Tom">Reply</a></div></article><ul class="children"><li id="comment-88597" class="comment byuser comment-author-baldengineer bypostauthor even depth-2 parent"><article id="div-comment-88597" class="comment-body"><footer class="comment-meta"><div class="comment-author vcard"> <img alt="" src="data:image/gif;base64,R0lGODdhAQABAPAAAP///wAAACwAAAAAAQABAEACAkQBADs=" data-lazy-src="https://secure.gravatar.com/avatar/0a1bd66a4cc97cbb242fb74d7aaf33ed?s=48&amp;r=pg" data-lazy-srcset="https://secure.gravatar.com/avatar/0a1bd66a4cc97cbb242fb74d7aaf33ed?s=96&amp;r=pg 2x" class="avatar avatar-48 photo" width="48" height="48"><noscript><img alt='' src='https://secure.gravatar.com/avatar/0a1bd66a4cc97cbb242fb74d7aaf33ed?s=48&#038;r=pg' srcset='https://secure.gravatar.com/avatar/0a1bd66a4cc97cbb242fb74d7aaf33ed?s=96&#038;r=pg 2x' class='avatar avatar-48 photo' height='48' width='48' /></noscript> <cite class="fn"><a href="https://www.baldengineer.com/" rel="external nofollow" class="url">James Lewis</a></cite> <span class="says">says:</span></div><div class="comment-metadata"> <a href="https://www.baldengineer.com/mqtt-tutorial.html#comment-88597"> <time datetime="2016-12-08T07:59:09+00:00"> December 8, 2016 at 7:59 am </time> </a></div></footer><div class="comment-content"><p>Hi
 Tom, no I don’t have experience with SSL yet. That was next on my list 
and then got distracted. Even though I don’t use my IoT stuff outside of
 my home network, I still want the traffic encrypted. I’d love to hear 
if you figure out how to do the pre-shared keys.</p></div><div class="reply"> <a rel="nofollow" class="comment-reply-link" href="#comment-88597" onclick='return addComment.moveForm( "div-comment-88597", "88597", "respond", "5799" )' aria-label="Reply to James Lewis">Reply</a></div></article><ul class="children"><li id="comment-88685" class="comment odd alt depth-3 parent"><article id="div-comment-88685" class="comment-body"><footer class="comment-meta"><div class="comment-author vcard"> <img alt="" src="data:image/gif;base64,R0lGODdhAQABAPAAAP///wAAACwAAAAAAQABAEACAkQBADs=" data-lazy-src="https://secure.gravatar.com/avatar/3f7ad9b14f2141680df04ed48ebe57d7?s=48&amp;r=pg" data-lazy-srcset="https://secure.gravatar.com/avatar/3f7ad9b14f2141680df04ed48ebe57d7?s=96&amp;r=pg 2x" class="avatar avatar-48 photo" width="48" height="48"><noscript><img alt='' src='https://secure.gravatar.com/avatar/3f7ad9b14f2141680df04ed48ebe57d7?s=48&#038;r=pg' srcset='https://secure.gravatar.com/avatar/3f7ad9b14f2141680df04ed48ebe57d7?s=96&#038;r=pg 2x' class='avatar avatar-48 photo' height='48' width='48' /></noscript> <cite class="fn"><a href="http://www.fabforward.sg/" rel="external nofollow" class="url">Tom</a></cite> <span class="says">says:</span></div><div class="comment-metadata"> <a href="https://www.baldengineer.com/mqtt-tutorial.html#comment-88685"> <time datetime="2017-01-08T23:21:41+00:00"> January 8, 2017 at 11:21 pm </time> </a></div></footer><div class="comment-content"><p>Hi James, sorry for my late reply. I have found a great post here about the issue (<a href="https://hackaday.io/project/12482-garage-door-opener/log/43368-adding-tls" rel="nofollow">https://hackaday.io/project/12482-garage-door-opener/log/43368-adding-tls</a>)
 but did not succeed yet to implement it. For some reason I cannot 
connect to mosquitto any more once I implement the certs. Maybe you can 
have a look at it.</p></div><div class="reply"> <a rel="nofollow" class="comment-reply-link" href="#comment-88685" onclick='return addComment.moveForm( "div-comment-88685", "88685", "respond", "5799" )' aria-label="Reply to Tom">Reply</a></div></article><ul class="children"><li id="comment-88846" class="comment even depth-4"><article id="div-comment-88846" class="comment-body"><footer class="comment-meta"><div class="comment-author vcard"> <img alt="" src="data:image/gif;base64,R0lGODdhAQABAPAAAP///wAAACwAAAAAAQABAEACAkQBADs=" data-lazy-src="https://secure.gravatar.com/avatar/9a7319758029c79c11942efca42eeb38?s=48&amp;r=pg" data-lazy-srcset="https://secure.gravatar.com/avatar/9a7319758029c79c11942efca42eeb38?s=96&amp;r=pg 2x" class="avatar avatar-48 photo" width="48" height="48"><noscript><img alt='' src='https://secure.gravatar.com/avatar/9a7319758029c79c11942efca42eeb38?s=48&#038;r=pg' srcset='https://secure.gravatar.com/avatar/9a7319758029c79c11942efca42eeb38?s=96&#038;r=pg 2x' class='avatar avatar-48 photo' height='48' width='48' /></noscript> <cite class="fn">Rainer</cite> <span class="says">says:</span></div><div class="comment-metadata"> <a href="https://www.baldengineer.com/mqtt-tutorial.html#comment-88846"> <time datetime="2017-03-04T11:40:07+00:00"> March 4, 2017 at 11:40 am </time> </a></div></footer><div class="comment-content"><p>I am working on this, not finished yet<br> found the following<br> <a href="https://io.adafruit.com/blog/security/2016/07/05/adafruit-io-security-esp8266/" rel="nofollow">https://io.adafruit.com/blog/security/2016/07/05/adafruit-io-security-esp8266/</a><br> <a href="http://stackoverflow.com/questions/26657319/how-do-you-set-up-encrypted-mosquitto-broker-like-a-webpage-which-has-https" rel="nofollow">http://stackoverflow.com/questions/26657319/how-do-you-set-up-encrypted-mosquitto-broker-like-a-webpage-which-has-https</a><br> <a href="https://primalcortex.wordpress.com/2016/03/31/mqtt-mosquitto-broker-with-ssltls-transport-security/" rel="nofollow">https://primalcortex.wordpress.com/2016/03/31/mqtt-mosquitto-broker-with-ssltls-transport-security/</a><br> <a href="http://www.switchdoc.com/2016/02/tutorial-installing-and-testing-mosquitto-mqtt-on-raspberry-pi/" rel="nofollow">http://www.switchdoc.com/2016/02/tutorial-installing-and-testing-mosquitto-mqtt-on-raspberry-pi/</a></p><p>May be it helps</p></div><div class="reply"> <a rel="nofollow" class="comment-reply-link" href="#comment-88846" onclick='return addComment.moveForm( "div-comment-88846", "88846", "respond", "5799" )' aria-label="Reply to Rainer">Reply</a></div></article></li></ul></li><li id="comment-88844" class="comment odd alt depth-3"><article id="div-comment-88844" class="comment-body"><footer class="comment-meta"><div class="comment-author vcard"> <img alt="" src="data:image/gif;base64,R0lGODdhAQABAPAAAP///wAAACwAAAAAAQABAEACAkQBADs=" data-lazy-src="https://secure.gravatar.com/avatar/84d7a42cbd292af48fbc538d2b2ab3e1?s=48&amp;r=pg" data-lazy-srcset="https://secure.gravatar.com/avatar/84d7a42cbd292af48fbc538d2b2ab3e1?s=96&amp;r=pg 2x" class="avatar avatar-48 photo" width="48" height="48"><noscript><img alt='' src='https://secure.gravatar.com/avatar/84d7a42cbd292af48fbc538d2b2ab3e1?s=48&#038;r=pg' srcset='https://secure.gravatar.com/avatar/84d7a42cbd292af48fbc538d2b2ab3e1?s=96&#038;r=pg 2x' class='avatar avatar-48 photo' height='48' width='48' /></noscript> <cite class="fn">Rosen Georgiev</cite> <span class="says">says:</span></div><div class="comment-metadata"> <a href="https://www.baldengineer.com/mqtt-tutorial.html#comment-88844"> <time datetime="2017-03-04T11:33:07+00:00"> March 4, 2017 at 11:33 am </time> </a></div></footer><div class="comment-content"><p><a href="http://lukse.lt/uzrasai/2015-02-internet-of-things-messaging-mqtt-1-installing-mosquitto-server/" rel="nofollow">http://lukse.lt/uzrasai/2015-02-internet-of-things-messaging-mqtt-1-installing-mosquitto-server/</a></p><p>May be this can help. I still did not try yet, but I will.</p></div><div class="reply"> <a rel="nofollow" class="comment-reply-link" href="#comment-88844" onclick='return addComment.moveForm( "div-comment-88844", "88844", "respond", "5799" )' aria-label="Reply to Rosen Georgiev">Reply</a></div></article></li></ul></li></ul></li><li id="comment-88532" class="comment even thread-odd thread-alt depth-1 parent"><article id="div-comment-88532" class="comment-body"><footer class="comment-meta"><div class="comment-author vcard"> <img alt="" src="data:image/gif;base64,R0lGODdhAQABAPAAAP///wAAACwAAAAAAQABAEACAkQBADs=" data-lazy-src="https://secure.gravatar.com/avatar/69d12825ac5e31ec4ad297b7460a3299?s=48&amp;r=pg" data-lazy-srcset="https://secure.gravatar.com/avatar/69d12825ac5e31ec4ad297b7460a3299?s=96&amp;r=pg 2x" class="avatar avatar-48 photo" width="48" height="48"><noscript><img alt='' src='https://secure.gravatar.com/avatar/69d12825ac5e31ec4ad297b7460a3299?s=48&#038;r=pg' srcset='https://secure.gravatar.com/avatar/69d12825ac5e31ec4ad297b7460a3299?s=96&#038;r=pg 2x' class='avatar avatar-48 photo' height='48' width='48' /></noscript> <cite class="fn">Nigel Trewartha</cite> <span class="says">says:</span></div><div class="comment-metadata"> <a href="https://www.baldengineer.com/mqtt-tutorial.html#comment-88532"> <time datetime="2016-11-10T09:07:21+00:00"> November 10, 2016 at 9:07 am </time> </a></div></footer><div class="comment-content"><p>A good tutorial – well done!<br> A naive question:<br> I want to read data from each Rpi and send data to each Rpi. So I need a broker and client<br> on each RPI?<br> Something like :<br> RPI1 send2 data1    processes data1,Data2 and data3<br> RPI2 sends data 2   processes data1,Data2 and data3<br> Rpi3 send data 3     processes data1,Data2 and data3</p><p>I think this should be possible – or is there a better way?</p></div><div class="reply"> <a rel="nofollow" class="comment-reply-link" href="#comment-88532" onclick='return addComment.moveForm( "div-comment-88532", "88532", "respond", "5799" )' aria-label="Reply to Nigel Trewartha">Reply</a></div></article><ul class="children"><li id="comment-88534" class="comment byuser comment-author-baldengineer bypostauthor odd alt depth-2 parent"><article id="div-comment-88534" class="comment-body"><footer class="comment-meta"><div class="comment-author vcard"> <img alt="" src="data:image/gif;base64,R0lGODdhAQABAPAAAP///wAAACwAAAAAAQABAEACAkQBADs=" data-lazy-src="https://secure.gravatar.com/avatar/0a1bd66a4cc97cbb242fb74d7aaf33ed?s=48&amp;r=pg" data-lazy-srcset="https://secure.gravatar.com/avatar/0a1bd66a4cc97cbb242fb74d7aaf33ed?s=96&amp;r=pg 2x" class="avatar avatar-48 photo" width="48" height="48"><noscript><img alt='' src='https://secure.gravatar.com/avatar/0a1bd66a4cc97cbb242fb74d7aaf33ed?s=48&#038;r=pg' srcset='https://secure.gravatar.com/avatar/0a1bd66a4cc97cbb242fb74d7aaf33ed?s=96&#038;r=pg 2x' class='avatar avatar-48 photo' height='48' width='48' /></noscript> <cite class="fn"><a href="https://www.baldengineer.com/" rel="external nofollow" class="url">James Lewis</a></cite> <span class="says">says:</span></div><div class="comment-metadata"> <a href="https://www.baldengineer.com/mqtt-tutorial.html#comment-88534"> <time datetime="2016-11-11T01:27:26+00:00"> November 11, 2016 at 1:27 am </time> </a></div></footer><div class="comment-content"><p>One of the RPI can be both a broker and a client.</p><p>Sounds like you just need to create a topic for each node and then have the other nodes subscribe to it.</p></div><div class="reply"> <a rel="nofollow" class="comment-reply-link" href="#comment-88534" onclick='return addComment.moveForm( "div-comment-88534", "88534", "respond", "5799" )' aria-label="Reply to James Lewis">Reply</a></div></article><ul class="children"><li id="comment-88538" class="comment even depth-3"><article id="div-comment-88538" class="comment-body"><footer class="comment-meta"><div class="comment-author vcard"> <img alt="" src="data:image/gif;base64,R0lGODdhAQABAPAAAP///wAAACwAAAAAAQABAEACAkQBADs=" data-lazy-src="https://secure.gravatar.com/avatar/69d12825ac5e31ec4ad297b7460a3299?s=48&amp;r=pg" data-lazy-srcset="https://secure.gravatar.com/avatar/69d12825ac5e31ec4ad297b7460a3299?s=96&amp;r=pg 2x" class="avatar avatar-48 photo" width="48" height="48"><noscript><img alt='' src='https://secure.gravatar.com/avatar/69d12825ac5e31ec4ad297b7460a3299?s=48&#038;r=pg' srcset='https://secure.gravatar.com/avatar/69d12825ac5e31ec4ad297b7460a3299?s=96&#038;r=pg 2x' class='avatar avatar-48 photo' height='48' width='48' /></noscript> <cite class="fn">Nigel Trewartha</cite> <span class="says">says:</span></div><div class="comment-metadata"> <a href="https://www.baldengineer.com/mqtt-tutorial.html#comment-88538"> <time datetime="2016-11-12T06:44:47+00:00"> November 12, 2016 at 6:44 am </time> </a></div></footer><div class="comment-content"><p>1) I tried to install mqtt on WIn 10 and followed the instructions including copying the dll – no go!</p><p>2) I see you use mosquitto-sub – I  do not have that . An apt-get install moquitto-sub didn’t find it in the installs.</p><p>3) at the moment I am getting on my python programme:<br> File “/usr/lib/python2.7/socket.py”, line 571, in create_connection<br> raise err<br> socket.error: [Errno 111] Connection refused<br> A security problem, perhaps??</p><p> Please note that mqtt is listening on 1833 .</p><p>I would bee must grateful for any help on these points.</p></div><div class="reply"> <a rel="nofollow" class="comment-reply-link" href="#comment-88538" onclick='return addComment.moveForm( "div-comment-88538", "88538", "respond", "5799" )' aria-label="Reply to Nigel Trewartha">Reply</a></div></article></li></ul></li></ul></li><li id="comment-88456" class="comment odd alt thread-even depth-1"><article id="div-comment-88456" class="comment-body"><footer class="comment-meta"><div class="comment-author vcard"> <img alt="" src="data:image/gif;base64,R0lGODdhAQABAPAAAP///wAAACwAAAAAAQABAEACAkQBADs=" data-lazy-src="https://secure.gravatar.com/avatar/d8fc51eafb98cf4ec826ae0c5c1047bc?s=48&amp;r=pg" data-lazy-srcset="https://secure.gravatar.com/avatar/d8fc51eafb98cf4ec826ae0c5c1047bc?s=96&amp;r=pg 2x" class="avatar avatar-48 photo" width="48" height="48"><noscript><img alt='' src='https://secure.gravatar.com/avatar/d8fc51eafb98cf4ec826ae0c5c1047bc?s=48&#038;r=pg' srcset='https://secure.gravatar.com/avatar/d8fc51eafb98cf4ec826ae0c5c1047bc?s=96&#038;r=pg 2x' class='avatar avatar-48 photo' height='48' width='48' /></noscript> <cite class="fn"><a href="http://linkedin.com/in/sufiankaki" rel="external nofollow" class="url">Sufian Kaki Aslam</a></cite> <span class="says">says:</span></div><div class="comment-metadata"> <a href="https://www.baldengineer.com/mqtt-tutorial.html#comment-88456"> <time datetime="2016-10-11T12:44:28+00:00"> October 11, 2016 at 12:44 pm </time> </a></div></footer><div class="comment-content"><p>I had my MQTT broker running in RPi. Worked perfect! Thanks for this tutorial:)</p></div><div class="reply"> <a rel="nofollow" class="comment-reply-link" href="#comment-88456" onclick='return addComment.moveForm( "div-comment-88456", "88456", "respond", "5799" )' aria-label="Reply to Sufian Kaki Aslam">Reply</a></div></article></li><li id="comment-88432" class="comment even thread-odd thread-alt depth-1"><article id="div-comment-88432" class="comment-body"><footer class="comment-meta"><div class="comment-author vcard"> <img alt="" src="data:image/gif;base64,R0lGODdhAQABAPAAAP///wAAACwAAAAAAQABAEACAkQBADs=" data-lazy-src="https://secure.gravatar.com/avatar/db4dffaa0a36e5d0c2474776930c9473?s=48&amp;r=pg" data-lazy-srcset="https://secure.gravatar.com/avatar/db4dffaa0a36e5d0c2474776930c9473?s=96&amp;r=pg 2x" class="avatar avatar-48 photo" width="48" height="48"><noscript><img alt='' src='https://secure.gravatar.com/avatar/db4dffaa0a36e5d0c2474776930c9473?s=48&#038;r=pg' srcset='https://secure.gravatar.com/avatar/db4dffaa0a36e5d0c2474776930c9473?s=96&#038;r=pg 2x' class='avatar avatar-48 photo' height='48' width='48' /></noscript> <cite class="fn">Dagnall Clutterbuck</cite> <span class="says">says:</span></div><div class="comment-metadata"> <a href="https://www.baldengineer.com/mqtt-tutorial.html#comment-88432"> <time datetime="2016-09-29T04:51:12+00:00"> September 29, 2016 at 4:51 am </time> </a></div></footer><div class="comment-content"><p>Hooray for trial and error…!!<br> For me, the mqtt_server needed to be the IP address of the machine running mosquitto..<br> mqtt_server = “192.168.0.11”;<br>
 PS, also in case anyone else had the same issues.. Windows needs the ‘ 
replaced by ” in the mosquitto command line examples. (this may be a 
regional thing..)<br> I now have the LED flashing.</p><p>Thanks!</p><p>Richard</p></div><div class="reply"> <a rel="nofollow" class="comment-reply-link" href="#comment-88432" onclick='return addComment.moveForm( "div-comment-88432", "88432", "respond", "5799" )' aria-label="Reply to Dagnall Clutterbuck">Reply</a></div></article></li><li id="comment-88431" class="comment odd alt thread-even depth-1 parent"><article id="div-comment-88431" class="comment-body"><footer class="comment-meta"><div class="comment-author vcard"> <img alt="" src="data:image/gif;base64,R0lGODdhAQABAPAAAP///wAAACwAAAAAAQABAEACAkQBADs=" data-lazy-src="https://secure.gravatar.com/avatar/db4dffaa0a36e5d0c2474776930c9473?s=48&amp;r=pg" data-lazy-srcset="https://secure.gravatar.com/avatar/db4dffaa0a36e5d0c2474776930c9473?s=96&amp;r=pg 2x" class="avatar avatar-48 photo" width="48" height="48"><noscript><img alt='' src='https://secure.gravatar.com/avatar/db4dffaa0a36e5d0c2474776930c9473?s=48&#038;r=pg' srcset='https://secure.gravatar.com/avatar/db4dffaa0a36e5d0c2474776930c9473?s=96&#038;r=pg 2x' class='avatar avatar-48 photo' height='48' width='48' /></noscript> <cite class="fn">Dagnall Clutterbuck</cite> <span class="says">says:</span></div><div class="comment-metadata"> <a href="https://www.baldengineer.com/mqtt-tutorial.html#comment-88431"> <time datetime="2016-09-29T04:28:12+00:00"> September 29, 2016 at 4:28 am </time> </a></div></footer><div class="comment-content"><p>Just
 found this tutorial, and must say it is very helpful. I see some others
 have had issues with Windows and Mosquitto. I did as well , but 
realised that in the read.me it explains exactly what Dlls are required 
to be copied, and these were not present in the Open SSL install that I 
downloaded. Perhaps they have updated, but I found the Dlls in another 
download. For reference and to help others, the files to get are ” 
libeay32.dll ssleay32.dll”, as well as  Re” pthreadVC2.dll” from 
sourceware.</p><p>Now my question… I have  three mosquitto windows all 
talking nicely, using your examples, but my ESP8266 cannot see the mqqt 
server, I just get “Attempting MQTT connection…failed, rc=-2 try again 
in 5 seconds<br> ”<br> . I note that in the ESP code you have “const char* mqtt_server = “macman”; and wonder of this is my problem..<br>
 I did not see any command to Mosquitto to set “macman”, and I’m not 
sure what alternative to use.. Presumably is is something associated 
with my specific machine, but what is it?<br> I have looked, but have 
not found any easy documentation to show me how to set it.  Presumably 
its something so very simple that no one thinks it needs explaining.. .</p><p>Help would be appreciated.</p><p>Richard<br>
 PS I’m using NodeMCU . They may be very cheap, but they seem to work 
very well, and having the USB port on-board is very useful.</p></div><div class="reply"> <a rel="nofollow" class="comment-reply-link" href="#comment-88431" onclick='return addComment.moveForm( "div-comment-88431", "88431", "respond", "5799" )' aria-label="Reply to Dagnall Clutterbuck">Reply</a></div></article><ul class="children"><li id="comment-88590" class="comment even depth-2"><article id="div-comment-88590" class="comment-body"><footer class="comment-meta"><div class="comment-author vcard"> <img alt="" src="data:image/gif;base64,R0lGODdhAQABAPAAAP///wAAACwAAAAAAQABAEACAkQBADs=" data-lazy-src="https://secure.gravatar.com/avatar/d58c8dc65c5ce4e30835d2e9337a431e?s=48&amp;r=pg" data-lazy-srcset="https://secure.gravatar.com/avatar/d58c8dc65c5ce4e30835d2e9337a431e?s=96&amp;r=pg 2x" class="avatar avatar-48 photo" width="48" height="48"><noscript><img alt='' src='https://secure.gravatar.com/avatar/d58c8dc65c5ce4e30835d2e9337a431e?s=48&#038;r=pg' srcset='https://secure.gravatar.com/avatar/d58c8dc65c5ce4e30835d2e9337a431e?s=96&#038;r=pg 2x' class='avatar avatar-48 photo' height='48' width='48' /></noscript> <cite class="fn">Razurbeam</cite> <span class="says">says:</span></div><div class="comment-metadata"> <a href="https://www.baldengineer.com/mqtt-tutorial.html#comment-88590"> <time datetime="2016-12-03T20:43:25+00:00"> December 3, 2016 at 8:43 pm </time> </a></div></footer><div class="comment-content"><p>I think he put dummy values in SSID, Password, and mqtt_server.</p><p>I
 believe you need to set the mqtt_server value = to either an IP 
address/secure DDNS address of the computer or rPI hosting the mosquitto
 server (I use my internal IP addresses if using within my home server, 
i.e. “192.168.0.5” which would be the internal IP address of my desktop 
hosting the mosquitto server), or to a web-based MQTT server such as 
“http://www.cloudserver.com….whatever the rest of the address is for 
that web hoster.</p></div><div class="reply"> <a rel="nofollow" class="comment-reply-link" href="#comment-88590" onclick='return addComment.moveForm( "div-comment-88590", "88590", "respond", "5799" )' aria-label="Reply to Razurbeam">Reply</a></div></article></li></ul></li><li id="comment-88430" class="comment odd alt thread-odd thread-alt depth-1"><article id="div-comment-88430" class="comment-body"><footer class="comment-meta"><div class="comment-author vcard"> <img alt="" src="data:image/gif;base64,R0lGODdhAQABAPAAAP///wAAACwAAAAAAQABAEACAkQBADs=" data-lazy-src="https://secure.gravatar.com/avatar/047b14fe75de4228da4d2dc1317880e6?s=48&amp;r=pg" data-lazy-srcset="https://secure.gravatar.com/avatar/047b14fe75de4228da4d2dc1317880e6?s=96&amp;r=pg 2x" class="avatar avatar-48 photo" width="48" height="48"><noscript><img alt='' src='https://secure.gravatar.com/avatar/047b14fe75de4228da4d2dc1317880e6?s=48&#038;r=pg' srcset='https://secure.gravatar.com/avatar/047b14fe75de4228da4d2dc1317880e6?s=96&#038;r=pg 2x' class='avatar avatar-48 photo' height='48' width='48' /></noscript> <cite class="fn">Dag Rende</cite> <span class="says">says:</span></div><div class="comment-metadata"> <a href="https://www.baldengineer.com/mqtt-tutorial.html#comment-88430"> <time datetime="2016-09-29T02:59:46+00:00"> September 29, 2016 at 2:59 am </time> </a></div></footer><div class="comment-content"><p>Excellent article!<br> The Arduino code worked perfect on my Wemos d1 mini after removing line<br> #include<br> and changing<br> const byte ledPin = 0;<br> to<br> const byte ledPin = LED_BUILTIN;</p></div><div class="reply"> <a rel="nofollow" class="comment-reply-link" href="#comment-88430" onclick='return addComment.moveForm( "div-comment-88430", "88430", "respond", "5799" )' aria-label="Reply to Dag Rende">Reply</a></div></article></li><li id="comment-88363" class="comment even thread-even depth-1"><article id="div-comment-88363" class="comment-body"><footer class="comment-meta"><div class="comment-author vcard"> <img alt="" src="data:image/gif;base64,R0lGODdhAQABAPAAAP///wAAACwAAAAAAQABAEACAkQBADs=" data-lazy-src="https://secure.gravatar.com/avatar/c1184bc8e669efa59bce9c4611ae8e87?s=48&amp;r=pg" data-lazy-srcset="https://secure.gravatar.com/avatar/c1184bc8e669efa59bce9c4611ae8e87?s=96&amp;r=pg 2x" class="avatar avatar-48 photo" width="48" height="48"><noscript><img alt='' src='https://secure.gravatar.com/avatar/c1184bc8e669efa59bce9c4611ae8e87?s=48&#038;r=pg' srcset='https://secure.gravatar.com/avatar/c1184bc8e669efa59bce9c4611ae8e87?s=96&#038;r=pg 2x' class='avatar avatar-48 photo' height='48' width='48' /></noscript> <cite class="fn">Kaushal</cite> <span class="says">says:</span></div><div class="comment-metadata"> <a href="https://www.baldengineer.com/mqtt-tutorial.html#comment-88363"> <time datetime="2016-08-31T23:11:40+00:00"> August 31, 2016 at 11:11 pm </time> </a></div></footer><div class="comment-content"><p>For CC3200 from Texas Instruments</p></div><div class="reply"> <a rel="nofollow" class="comment-reply-link" href="#comment-88363" onclick='return addComment.moveForm( "div-comment-88363", "88363", "respond", "5799" )' aria-label="Reply to Kaushal">Reply</a></div></article></li><li id="comment-88351" class="comment odd alt thread-odd thread-alt depth-1 parent"><article id="div-comment-88351" class="comment-body"><footer class="comment-meta"><div class="comment-author vcard"> <img alt="" src="data:image/gif;base64,R0lGODdhAQABAPAAAP///wAAACwAAAAAAQABAEACAkQBADs=" data-lazy-src="https://secure.gravatar.com/avatar/347f8fb9ed74db3f0a1326c9c8b67944?s=48&amp;r=pg" data-lazy-srcset="https://secure.gravatar.com/avatar/347f8fb9ed74db3f0a1326c9c8b67944?s=96&amp;r=pg 2x" class="avatar avatar-48 photo" width="48" height="48"><noscript><img alt='' src='https://secure.gravatar.com/avatar/347f8fb9ed74db3f0a1326c9c8b67944?s=48&#038;r=pg' srcset='https://secure.gravatar.com/avatar/347f8fb9ed74db3f0a1326c9c8b67944?s=96&#038;r=pg 2x' class='avatar avatar-48 photo' height='48' width='48' /></noscript> <cite class="fn">YUVRAJ</cite> <span class="says">says:</span></div><div class="comment-metadata"> <a href="https://www.baldengineer.com/mqtt-tutorial.html#comment-88351"> <time datetime="2016-08-30T22:56:39+00:00"> August 30, 2016 at 10:56 pm </time> </a></div></footer><div class="comment-content"><p>I
 HAVE INSTALLED MQTT (PUBSUB CLIENT ) ON ESP8266 NOW WAHT NEXT I SHOULD 
DO … ALSO I NEED TO CONNECT IT TO THE DATABASE TO GET DATA IN CONTROLLER
 WHERE MQTT IS INSTALLED AND VERIFY THE DATA STORED HERE AND CARRY OUT 
THE LIGHT SWITCH ON AND OFF PROCESS. SO CAN U JUST THE WAY</p></div><div class="reply"> <a rel="nofollow" class="comment-reply-link" href="#comment-88351" onclick='return addComment.moveForm( "div-comment-88351", "88351", "respond", "5799" )' aria-label="Reply to YUVRAJ">Reply</a></div></article><ul class="children"><li id="comment-88353" class="comment byuser comment-author-baldengineer bypostauthor even depth-2"><article id="div-comment-88353" class="comment-body"><footer class="comment-meta"><div class="comment-author vcard"> <img alt="" src="data:image/gif;base64,R0lGODdhAQABAPAAAP///wAAACwAAAAAAQABAEACAkQBADs=" data-lazy-src="https://secure.gravatar.com/avatar/0a1bd66a4cc97cbb242fb74d7aaf33ed?s=48&amp;r=pg" data-lazy-srcset="https://secure.gravatar.com/avatar/0a1bd66a4cc97cbb242fb74d7aaf33ed?s=96&amp;r=pg 2x" class="avatar avatar-48 photo" width="48" height="48"><noscript><img alt='' src='https://secure.gravatar.com/avatar/0a1bd66a4cc97cbb242fb74d7aaf33ed?s=48&#038;r=pg' srcset='https://secure.gravatar.com/avatar/0a1bd66a4cc97cbb242fb74d7aaf33ed?s=96&#038;r=pg 2x' class='avatar avatar-48 photo' height='48' width='48' /></noscript> <cite class="fn"><a href="https://www.baldengineer.com/" rel="external nofollow" class="url">James Lewis</a></cite> <span class="says">says:</span></div><div class="comment-metadata"> <a href="https://www.baldengineer.com/mqtt-tutorial.html#comment-88353"> <time datetime="2016-08-31T07:59:15+00:00"> August 31, 2016 at 7:59 am </time> </a></div></footer><div class="comment-content"><p>I am sorry but I do not understand your questions or what you are trying to accomplish.</p></div><div class="reply"> <a rel="nofollow" class="comment-reply-link" href="#comment-88353" onclick='return addComment.moveForm( "div-comment-88353", "88353", "respond", "5799" )' aria-label="Reply to James Lewis">Reply</a></div></article></li></ul></li><li id="comment-88348" class="comment odd alt thread-even depth-1 parent"><article id="div-comment-88348" class="comment-body"><footer class="comment-meta"><div class="comment-author vcard"> <img alt="" src="data:image/gif;base64,R0lGODdhAQABAPAAAP///wAAACwAAAAAAQABAEACAkQBADs=" data-lazy-src="https://secure.gravatar.com/avatar/f49db523d5a548276014bb5373117927?s=48&amp;r=pg" data-lazy-srcset="https://secure.gravatar.com/avatar/f49db523d5a548276014bb5373117927?s=96&amp;r=pg 2x" class="avatar avatar-48 photo" width="48" height="48"><noscript><img alt='' src='https://secure.gravatar.com/avatar/f49db523d5a548276014bb5373117927?s=48&#038;r=pg' srcset='https://secure.gravatar.com/avatar/f49db523d5a548276014bb5373117927?s=96&#038;r=pg 2x' class='avatar avatar-48 photo' height='48' width='48' /></noscript> <cite class="fn">José David Emanoell Feitoza Braga</cite> <span class="says">says:</span></div><div class="comment-metadata"> <a href="https://www.baldengineer.com/mqtt-tutorial.html#comment-88348"> <time datetime="2016-08-30T12:00:13+00:00"> August 30, 2016 at 12:00 pm </time> </a></div></footer><div class="comment-content"><p>Hi James, great post indeed. Maybe you can help me on solving my issue:<br>
 Basically i’m controlling a robot using MQTT on a raspberry pi 
(python), then i have a arduino UNO board which receives values from my 
broker and turn on robot’s motors. Everything is working pretty well, 
but the issue comes when i lose internet connection. So basically i 
would like to know if there’s a way to set a reconnection loop in python
 (which is my publisher), in case of a network problem, which keeps 
trying to reconnect. Sorry for my bad english adn thanks in advance. 
Cheers!</p></div><div class="reply"> <a rel="nofollow" class="comment-reply-link" href="#comment-88348" onclick='return addComment.moveForm( "div-comment-88348", "88348", "respond", "5799" )' aria-label="Reply to José David Emanoell Feitoza Braga">Reply</a></div></article><ul class="children"><li id="comment-88350" class="comment byuser comment-author-baldengineer bypostauthor even depth-2"><article id="div-comment-88350" class="comment-body"><footer class="comment-meta"><div class="comment-author vcard"> <img alt="" src="data:image/gif;base64,R0lGODdhAQABAPAAAP///wAAACwAAAAAAQABAEACAkQBADs=" data-lazy-src="https://secure.gravatar.com/avatar/0a1bd66a4cc97cbb242fb74d7aaf33ed?s=48&amp;r=pg" data-lazy-srcset="https://secure.gravatar.com/avatar/0a1bd66a4cc97cbb242fb74d7aaf33ed?s=96&amp;r=pg 2x" class="avatar avatar-48 photo" width="48" height="48"><noscript><img alt='' src='https://secure.gravatar.com/avatar/0a1bd66a4cc97cbb242fb74d7aaf33ed?s=48&#038;r=pg' srcset='https://secure.gravatar.com/avatar/0a1bd66a4cc97cbb242fb74d7aaf33ed?s=96&#038;r=pg 2x' class='avatar avatar-48 photo' height='48' width='48' /></noscript> <cite class="fn"><a href="https://www.baldengineer.com/" rel="external nofollow" class="url">James Lewis</a></cite> <span class="says">says:</span></div><div class="comment-metadata"> <a href="https://www.baldengineer.com/mqtt-tutorial.html#comment-88350"> <time datetime="2016-08-30T21:55:49+00:00"> August 30, 2016 at 9:55 pm </time> </a></div></footer><div class="comment-content"><p>Sorry, I don’t know of a simple answer to this question.</p></div><div class="reply"> <a rel="nofollow" class="comment-reply-link" href="#comment-88350" onclick='return addComment.moveForm( "div-comment-88350", "88350", "respond", "5799" )' aria-label="Reply to James Lewis">Reply</a></div></article></li></ul></li><li id="comment-88335" class="comment odd alt thread-odd thread-alt depth-1"><article id="div-comment-88335" class="comment-body"><footer class="comment-meta"><div class="comment-author vcard"> <img alt="" src="data:image/gif;base64,R0lGODdhAQABAPAAAP///wAAACwAAAAAAQABAEACAkQBADs=" data-lazy-src="https://secure.gravatar.com/avatar/4ba8cb94b4dbb8b5caffa6004fcccfb2?s=48&amp;r=pg" data-lazy-srcset="https://secure.gravatar.com/avatar/4ba8cb94b4dbb8b5caffa6004fcccfb2?s=96&amp;r=pg 2x" class="avatar avatar-48 photo" width="48" height="48"><noscript><img alt='' src='https://secure.gravatar.com/avatar/4ba8cb94b4dbb8b5caffa6004fcccfb2?s=48&#038;r=pg' srcset='https://secure.gravatar.com/avatar/4ba8cb94b4dbb8b5caffa6004fcccfb2?s=96&#038;r=pg 2x' class='avatar avatar-48 photo' height='48' width='48' /></noscript> <cite class="fn">Siddhartha</cite> <span class="says">says:</span></div><div class="comment-metadata"> <a href="https://www.baldengineer.com/mqtt-tutorial.html#comment-88335"> <time datetime="2016-08-20T11:59:26+00:00"> August 20, 2016 at 11:59 am </time> </a></div></footer><div class="comment-content"><p>Hi,<br> Great post.<br> This is a request for guidance.<br>
 My ESP8266 module connects to “test.mosquitto.org” and subscribes to a 
topic say “b1”. What ever is published to “b1”, it can read it 
immediately.<br> Problem happens when my second ESP8266 module subscribes to “test.mosquitto.org” to “b1”. It continuously returns :</p><p>WiFi connected<br> IP address:<br> 192.168.0.9<br> Attempting MQTT connection…connected<br> Message arrived [b1] 0<br> Attempting MQTT connection…connected<br> Message arrived [b1] 0<br> Attempting MQTT connection…connected<br> Message arrived [b1] 0<br> Attempting MQTT connection…connected</p><p>Could you kindly suggest what might be going wrong. I look forward to your advice.</p></div><div class="reply"> <a rel="nofollow" class="comment-reply-link" href="#comment-88335" onclick='return addComment.moveForm( "div-comment-88335", "88335", "respond", "5799" )' aria-label="Reply to Siddhartha">Reply</a></div></article></li><li id="comment-88313" class="comment even thread-even depth-1"><article id="div-comment-88313" class="comment-body"><footer class="comment-meta"><div class="comment-author vcard"> <img alt="" src="data:image/gif;base64,R0lGODdhAQABAPAAAP///wAAACwAAAAAAQABAEACAkQBADs=" data-lazy-src="https://secure.gravatar.com/avatar/4a2cd48b39f3c57c6349997b6a177200?s=48&amp;r=pg" data-lazy-srcset="https://secure.gravatar.com/avatar/4a2cd48b39f3c57c6349997b6a177200?s=96&amp;r=pg 2x" class="avatar avatar-48 photo" width="48" height="48"><noscript><img alt='' src='https://secure.gravatar.com/avatar/4a2cd48b39f3c57c6349997b6a177200?s=48&#038;r=pg' srcset='https://secure.gravatar.com/avatar/4a2cd48b39f3c57c6349997b6a177200?s=96&#038;r=pg 2x' class='avatar avatar-48 photo' height='48' width='48' /></noscript> <cite class="fn">Andy</cite> <span class="says">says:</span></div><div class="comment-metadata"> <a href="https://www.baldengineer.com/mqtt-tutorial.html#comment-88313"> <time datetime="2016-08-07T19:00:48+00:00"> August 7, 2016 at 7:00 pm </time> </a></div></footer><div class="comment-content"><p>Thanks
 for the post James. I have a Arduino MKR1000 and a Raspberry Pi model B
 running a flask server. I can communicated between the Pi and Arduino 
when I run a python script (not Flask), but when I try to incorporate 
MQTT with Flask, the flask app subscribes but does not receive any data.
 I tried to import my stand-alone mqttTest.py (that works) into my flask
 app but then my flask app freezes up on load.</p><p>Do you know the proper way to implement MQTT with flask? Any help is greatly appreciated.</p></div><div class="reply"> <a rel="nofollow" class="comment-reply-link" href="#comment-88313" onclick='return addComment.moveForm( "div-comment-88313", "88313", "respond", "5799" )' aria-label="Reply to Andy">Reply</a></div></article></li><li id="comment-88306" class="comment odd alt thread-odd thread-alt depth-1 parent"><article id="div-comment-88306" class="comment-body"><footer class="comment-meta"><div class="comment-author vcard"> <img alt="" src="data:image/gif;base64,R0lGODdhAQABAPAAAP///wAAACwAAAAAAQABAEACAkQBADs=" data-lazy-src="https://secure.gravatar.com/avatar/8ccd111970118c309f89c9ef1a33cc90?s=48&amp;r=pg" data-lazy-srcset="https://secure.gravatar.com/avatar/8ccd111970118c309f89c9ef1a33cc90?s=96&amp;r=pg 2x" class="avatar avatar-48 photo" width="48" height="48"><noscript><img alt='' src='https://secure.gravatar.com/avatar/8ccd111970118c309f89c9ef1a33cc90?s=48&#038;r=pg' srcset='https://secure.gravatar.com/avatar/8ccd111970118c309f89c9ef1a33cc90?s=96&#038;r=pg 2x' class='avatar avatar-48 photo' height='48' width='48' /></noscript> <cite class="fn"><a href="https://plus.google.com/107864039402980758240" rel="external nofollow" class="url">Jigisha Araniya</a></cite> <span class="says">says:</span></div><div class="comment-metadata"> <a href="https://www.baldengineer.com/mqtt-tutorial.html#comment-88306"> <time datetime="2016-08-05T02:30:52+00:00"> August 5, 2016 at 2:30 am </time> </a></div></footer><div class="comment-content"><p>hello ,<br>
 I have run above program on Raspberry pi to connect with AWS-IOT.But I 
can not get any Status Update on AWS-IOT consolve. Thank you…</p></div><div class="reply"> <a rel="nofollow" class="comment-reply-link" href="#comment-88306" onclick='return addComment.moveForm( "div-comment-88306", "88306", "respond", "5799" )' aria-label="Reply to Jigisha Araniya">Reply</a></div></article><ul class="children"><li id="comment-88307" class="comment byuser comment-author-baldengineer bypostauthor even depth-2"><article id="div-comment-88307" class="comment-body"><footer class="comment-meta"><div class="comment-author vcard"> <img alt="" src="data:image/gif;base64,R0lGODdhAQABAPAAAP///wAAACwAAAAAAQABAEACAkQBADs=" data-lazy-src="https://secure.gravatar.com/avatar/0a1bd66a4cc97cbb242fb74d7aaf33ed?s=48&amp;r=pg" data-lazy-srcset="https://secure.gravatar.com/avatar/0a1bd66a4cc97cbb242fb74d7aaf33ed?s=96&amp;r=pg 2x" class="avatar avatar-48 photo" width="48" height="48"><noscript><img alt='' src='https://secure.gravatar.com/avatar/0a1bd66a4cc97cbb242fb74d7aaf33ed?s=48&#038;r=pg' srcset='https://secure.gravatar.com/avatar/0a1bd66a4cc97cbb242fb74d7aaf33ed?s=96&#038;r=pg 2x' class='avatar avatar-48 photo' height='48' width='48' /></noscript> <cite class="fn"><a href="https://www.baldengineer.com/" rel="external nofollow" class="url">James Lewis</a></cite> <span class="says">says:</span></div><div class="comment-metadata"> <a href="https://www.baldengineer.com/mqtt-tutorial.html#comment-88307"> <time datetime="2016-08-05T20:17:00+00:00"> August 5, 2016 at 8:17 pm </time> </a></div></footer><div class="comment-content"><p>Sorry, I haven’t done anything with Amazon’s IoT / MQTT service yet.</p></div><div class="reply"> <a rel="nofollow" class="comment-reply-link" href="#comment-88307" onclick='return addComment.moveForm( "div-comment-88307", "88307", "respond", "5799" )' aria-label="Reply to James Lewis">Reply</a></div></article></li></ul></li><li id="comment-88305" class="comment odd alt thread-even depth-1"><article id="div-comment-88305" class="comment-body"><footer class="comment-meta"><div class="comment-author vcard"> <img alt="" src="data:image/gif;base64,R0lGODdhAQABAPAAAP///wAAACwAAAAAAQABAEACAkQBADs=" data-lazy-src="https://secure.gravatar.com/avatar/8ccd111970118c309f89c9ef1a33cc90?s=48&amp;r=pg" data-lazy-srcset="https://secure.gravatar.com/avatar/8ccd111970118c309f89c9ef1a33cc90?s=96&amp;r=pg 2x" class="avatar avatar-48 photo" width="48" height="48"><noscript><img alt='' src='https://secure.gravatar.com/avatar/8ccd111970118c309f89c9ef1a33cc90?s=48&#038;r=pg' srcset='https://secure.gravatar.com/avatar/8ccd111970118c309f89c9ef1a33cc90?s=96&#038;r=pg 2x' class='avatar avatar-48 photo' height='48' width='48' /></noscript> <cite class="fn"><a href="https://plus.google.com/107864039402980758240" rel="external nofollow" class="url">Jigisha Araniya</a></cite> <span class="says">says:</span></div><div class="comment-metadata"> <a href="https://www.baldengineer.com/mqtt-tutorial.html#comment-88305"> <time datetime="2016-08-05T02:22:33+00:00"> August 5, 2016 at 2:22 am </time> </a></div></footer><div class="comment-content"><div><div id="highlighter_448288" class="syntaxhighlighter  plain"><table border="0" cellspacing="0" cellpadding="0"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div><div class="line number2 index1 alt1">2</div><div class="line number3 index2 alt2">3</div><div class="line number4 index3 alt1">4</div><div class="line number5 index4 alt2">5</div><div class="line number6 index5 alt1">6</div><div class="line number7 index6 alt2">7</div><div class="line number8 index7 alt1">8</div><div class="line number9 index8 alt2">9</div><div class="line number10 index9 alt1">10</div><div class="line number11 index10 alt2">11</div><div class="line number12 index11 alt1">12</div><div class="line number13 index12 alt2">13</div><div class="line number14 index13 alt1">14</div><div class="line number15 index14 alt2">15</div><div class="line number16 index15 alt1">16</div><div class="line number17 index16 alt2">17</div><div class="line number18 index17 alt1">18</div><div class="line number19 index18 alt2">19</div><div class="line number20 index19 alt1">20</div><div class="line number21 index20 alt2">21</div><div class="line number22 index21 alt1">22</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="plain plain">mqttc = mqtt.Client(client_id="mqtt-test")</code></div><div class="line number2 index1 alt1">&nbsp;</div><div class="line number3 index2 alt2"><code class="plain plain">mqttc.on_connect = on_connect</code></div><div class="line number4 index3 alt1"><code class="plain plain">mqttc.on_subscribe = on_subscribe</code></div><div class="line number5 index4 alt2"><code class="plain plain">mqttc.on_message = on_message</code></div><div class="line number6 index5 alt1">&nbsp;</div><div class="line number7 index6 alt2"><code class="plain plain">#Configure network encryption and authentication options. Enables SSL/TLS support.</code></div><div class="line number8 index7 alt1"><code class="plain plain">#adding client-side certificates and enabling tlsv1.2 support as required by aws-iot service</code></div><div class="line number9 index8 alt2"><code class="plain plain">mqttc.tls_set("/home/user/root-CA.crt",</code></div><div class="line number10 index9 alt1"><code class="plain spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain plain">certfile="/home/user/cc/certificate.pem.crt",</code></div><div class="line number11 index10 alt2"><code class="plain spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain plain">keyfile="/home/user/cc/private.pem.key",</code></div><div class="line number12 index11 alt1"><code class="plain spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain plain">tls_version=ssl.PROTOCOL_TLSv1_2,</code></div><div class="line number13 index12 alt2"><code class="plain spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain plain">ciphers=None)</code></div><div class="line number14 index13 alt1">&nbsp;</div><div class="line number15 index14 alt2"><code class="plain plain">#connecting to aws-account-specific-iot-endpoint</code></div><div class="line number16 index15 alt1"><code class="plain plain">mqttc.connect("https://ajnozx45566v5.iot.us-west-2.amazonaws.com", port=8883) #AWS IoT service hostname and portno</code></div><div class="line number17 index16 alt2">&nbsp;</div><div class="line number18 index17 alt1"><code class="plain plain">#the topic to publish to</code></div><div class="line number19 index18 alt2"><code class="plain plain">mqttc.subscribe("$aws/things/raspberry/shadow/update/#", qos=1) #The names of these topics start with $aws/things/thingName/shadow."</code></div><div class="line number20 index19 alt1">&nbsp;</div><div class="line number21 index20 alt2"><code class="plain plain">#automatically handles reconnecting</code></div><div class="line number22 index21 alt1"><code class="plain plain">mqttc.loop_forever()</code></div></div></td></tr></tbody></table></div></div></div><div class="reply"> <a rel="nofollow" class="comment-reply-link" href="#comment-88305" onclick='return addComment.moveForm( "div-comment-88305", "88305", "respond", "5799" )' aria-label="Reply to Jigisha Araniya">Reply</a></div></article></li><li id="comment-88304" class="comment even thread-odd thread-alt depth-1"><article id="div-comment-88304" class="comment-body"><footer class="comment-meta"><div class="comment-author vcard"> <img alt="" src="data:image/gif;base64,R0lGODdhAQABAPAAAP///wAAACwAAAAAAQABAEACAkQBADs=" data-lazy-src="https://secure.gravatar.com/avatar/b8cc60412a6a9cfb5ae49a7cb8090695?s=48&amp;r=pg" data-lazy-srcset="https://secure.gravatar.com/avatar/b8cc60412a6a9cfb5ae49a7cb8090695?s=96&amp;r=pg 2x" class="avatar avatar-48 photo" width="48" height="48"><noscript><img alt='' src='https://secure.gravatar.com/avatar/b8cc60412a6a9cfb5ae49a7cb8090695?s=48&#038;r=pg' srcset='https://secure.gravatar.com/avatar/b8cc60412a6a9cfb5ae49a7cb8090695?s=96&#038;r=pg 2x' class='avatar avatar-48 photo' height='48' width='48' /></noscript> <cite class="fn">benny0924</cite> <span class="says">says:</span></div><div class="comment-metadata"> <a href="https://www.baldengineer.com/mqtt-tutorial.html#comment-88304"> <time datetime="2016-08-05T01:25:02+00:00"> August 5, 2016 at 1:25 am </time> </a></div></footer><div class="comment-content"><p>Hi James,</p><p>I
 am new to arduino and mqtt. Want to ask about the client.loop() 
function, inside the sketch main loop(), the last command is 
client.loop(). Can I put other command after client.loop()? Will the 
execution go back to main loop() after client.loop() ? I ask this 
because I want to implement mqtt publish (client.publish) and subscribe 
in the same device.<br> I need to put client.publish() inside the main 
loop, lets say every 5 minutes it will publish message to other device, 
at the same time will also listen to subcribed topic. I just not sure 
where to put the client.publish, should i put it after client.loop() or 
before? If I put it before client.loop(), will the execute loop back to 
main loop after client.loop()?<br> Thanks.<br> Benny.</p></div><div class="reply"> <a rel="nofollow" class="comment-reply-link" href="#comment-88304" onclick='return addComment.moveForm( "div-comment-88304", "88304", "respond", "5799" )' aria-label="Reply to benny0924">Reply</a></div></article></li><li id="comment-88243" class="comment odd alt thread-even depth-1 parent"><article id="div-comment-88243" class="comment-body"><footer class="comment-meta"><div class="comment-author vcard"> <img alt="" src="data:image/gif;base64,R0lGODdhAQABAPAAAP///wAAACwAAAAAAQABAEACAkQBADs=" data-lazy-src="https://secure.gravatar.com/avatar/6d39db42849e6d0ebf27138a0f37e288?s=48&amp;r=pg" data-lazy-srcset="https://secure.gravatar.com/avatar/6d39db42849e6d0ebf27138a0f37e288?s=96&amp;r=pg 2x" class="avatar avatar-48 photo" width="48" height="48"><noscript><img alt='' src='https://secure.gravatar.com/avatar/6d39db42849e6d0ebf27138a0f37e288?s=48&#038;r=pg' srcset='https://secure.gravatar.com/avatar/6d39db42849e6d0ebf27138a0f37e288?s=96&#038;r=pg 2x' class='avatar avatar-48 photo' height='48' width='48' /></noscript> <cite class="fn"><a href="http://-/" rel="external nofollow" class="url">Dio</a></cite> <span class="says">says:</span></div><div class="comment-metadata"> <a href="https://www.baldengineer.com/mqtt-tutorial.html#comment-88243"> <time datetime="2016-07-11T21:48:19+00:00"> July 11, 2016 at 9:48 pm </time> </a></div></footer><div class="comment-content"><p>Nice tutorial!<br> anyway, i have one quick question,<br> When uploading the code, what board should i use? Generic ESP8266 Module OR Arduino UNO?<br> Because i cant use the #include  when i uploaded it to Arduino Board.<br> Thank you <img draggable="false" class="emoji" alt="🙂" src="MQTT%20Tutorial%20for%20Raspberry%20Pi,%20Arduino,%20and%20ESP8266%20-%20Bald%20Engineer_files/1f642.svg"></p></div><div class="reply"> <a rel="nofollow" class="comment-reply-link" href="#comment-88243" onclick='return addComment.moveForm( "div-comment-88243", "88243", "respond", "5799" )' aria-label="Reply to Dio">Reply</a></div></article><ul class="children"><li id="comment-88250" class="comment byuser comment-author-baldengineer bypostauthor even depth-2"><article id="div-comment-88250" class="comment-body"><footer class="comment-meta"><div class="comment-author vcard"> <img alt="" src="data:image/gif;base64,R0lGODdhAQABAPAAAP///wAAACwAAAAAAQABAEACAkQBADs=" data-lazy-src="https://secure.gravatar.com/avatar/0a1bd66a4cc97cbb242fb74d7aaf33ed?s=48&amp;r=pg" data-lazy-srcset="https://secure.gravatar.com/avatar/0a1bd66a4cc97cbb242fb74d7aaf33ed?s=96&amp;r=pg 2x" class="avatar avatar-48 photo" width="48" height="48"><noscript><img alt='' src='https://secure.gravatar.com/avatar/0a1bd66a4cc97cbb242fb74d7aaf33ed?s=48&#038;r=pg' srcset='https://secure.gravatar.com/avatar/0a1bd66a4cc97cbb242fb74d7aaf33ed?s=96&#038;r=pg 2x' class='avatar avatar-48 photo' height='48' width='48' /></noscript> <cite class="fn"><a href="https://www.baldengineer.com/" rel="external nofollow" class="url">James Lewis</a></cite> <span class="says">says:</span></div><div class="comment-metadata"> <a href="https://www.baldengineer.com/mqtt-tutorial.html#comment-88250"> <time datetime="2016-07-14T12:44:16+00:00"> July 14, 2016 at 12:44 pm </time> </a></div></footer><div class="comment-content"><p>I’m sorry I don’t understand what you mean you can’t use the #include.</p></div><div class="reply"> <a rel="nofollow" class="comment-reply-link" href="#comment-88250" onclick='return addComment.moveForm( "div-comment-88250", "88250", "respond", "5799" )' aria-label="Reply to James Lewis">Reply</a></div></article></li><li id="comment-88471" class="comment odd alt depth-2"><article id="div-comment-88471" class="comment-body"><footer class="comment-meta"><div class="comment-author vcard"> <img alt="" src="data:image/gif;base64,R0lGODdhAQABAPAAAP///wAAACwAAAAAAQABAEACAkQBADs=" data-lazy-src="https://secure.gravatar.com/avatar/e69a9d375648a428311a815e7e38c507?s=48&amp;r=pg" data-lazy-srcset="https://secure.gravatar.com/avatar/e69a9d375648a428311a815e7e38c507?s=96&amp;r=pg 2x" class="avatar avatar-48 photo" width="48" height="48"><noscript><img alt='' src='https://secure.gravatar.com/avatar/e69a9d375648a428311a815e7e38c507?s=48&#038;r=pg' srcset='https://secure.gravatar.com/avatar/e69a9d375648a428311a815e7e38c507?s=96&#038;r=pg 2x' class='avatar avatar-48 photo' height='48' width='48' /></noscript> <cite class="fn">Paul</cite> <span class="says">says:</span></div><div class="comment-metadata"> <a href="https://www.baldengineer.com/mqtt-tutorial.html#comment-88471"> <time datetime="2016-10-18T18:54:12+00:00"> October 18, 2016 at 6:54 pm </time> </a></div></footer><div class="comment-content"><p>Use Generic ESP8266 or if you have a devboard use that.  I have a NODEMCU board so I use NODEMCU 1.0 (ESP-12E Module)</p></div><div class="reply"> <a rel="nofollow" class="comment-reply-link" href="#comment-88471" onclick='return addComment.moveForm( "div-comment-88471", "88471", "respond", "5799" )' aria-label="Reply to Paul">Reply</a></div></article></li></ul></li><li id="comment-88190" class="comment even thread-odd thread-alt depth-1"><article id="div-comment-88190" class="comment-body"><footer class="comment-meta"><div class="comment-author vcard"> <img alt="" src="data:image/gif;base64,R0lGODdhAQABAPAAAP///wAAACwAAAAAAQABAEACAkQBADs=" data-lazy-src="https://secure.gravatar.com/avatar/cf60dc8275ae44e52be4e0c5c1477499?s=48&amp;r=pg" data-lazy-srcset="https://secure.gravatar.com/avatar/cf60dc8275ae44e52be4e0c5c1477499?s=96&amp;r=pg 2x" class="avatar avatar-48 photo" width="48" height="48"><noscript><img alt='' src='https://secure.gravatar.com/avatar/cf60dc8275ae44e52be4e0c5c1477499?s=48&#038;r=pg' srcset='https://secure.gravatar.com/avatar/cf60dc8275ae44e52be4e0c5c1477499?s=96&#038;r=pg 2x' class='avatar avatar-48 photo' height='48' width='48' /></noscript> <cite class="fn">Luis Germán Ruiz</cite> <span class="says">says:</span></div><div class="comment-metadata"> <a href="https://www.baldengineer.com/mqtt-tutorial.html#comment-88190"> <time datetime="2016-06-19T18:10:13+00:00"> June 19, 2016 at 6:10 pm </time> </a></div></footer><div class="comment-content"><p>I forgot to mention that the model I’m using the ESP8266 is the ESP-01, the value of ledPin I changed it to “2”.</p></div><div class="reply"> <a rel="nofollow" class="comment-reply-link" href="#comment-88190" onclick='return addComment.moveForm( "div-comment-88190", "88190", "respond", "5799" )' aria-label="Reply to Luis Germán Ruiz">Reply</a></div></article></li><li id="comment-88189" class="comment odd alt thread-even depth-1"><article id="div-comment-88189" class="comment-body"><footer class="comment-meta"><div class="comment-author vcard"> <img alt="" src="data:image/gif;base64,R0lGODdhAQABAPAAAP///wAAACwAAAAAAQABAEACAkQBADs=" data-lazy-src="https://secure.gravatar.com/avatar/cf60dc8275ae44e52be4e0c5c1477499?s=48&amp;r=pg" data-lazy-srcset="https://secure.gravatar.com/avatar/cf60dc8275ae44e52be4e0c5c1477499?s=96&amp;r=pg 2x" class="avatar avatar-48 photo" width="48" height="48"><noscript><img alt='' src='https://secure.gravatar.com/avatar/cf60dc8275ae44e52be4e0c5c1477499?s=48&#038;r=pg' srcset='https://secure.gravatar.com/avatar/cf60dc8275ae44e52be4e0c5c1477499?s=96&#038;r=pg 2x' class='avatar avatar-48 photo' height='48' width='48' /></noscript> <cite class="fn">Luis Germán Ruiz</cite> <span class="says">says:</span></div><div class="comment-metadata"> <a href="https://www.baldengineer.com/mqtt-tutorial.html#comment-88189"> <time datetime="2016-06-19T18:04:28+00:00"> June 19, 2016 at 6:04 pm </time> </a></div></footer><div class="comment-content"><p>Sorry for my English.<br> Greetings, thanks for the tutotail.<br>
 I tried using an Ubuntu 14.04 portable as broker, Raspberry Pi 2 as 
transmitter of messages and ESP8266, but never reached publication the 
laptop error: out of time, so use the Raspberry Pi 2 as a broker and the
 laptop as a publisher and all it worked great.<br> I use my Raspberry 
Pi 2 connected directly to ESP8266 through the TX and RX pins, the 
Raspberry Pi 2 has enough power to feed the ESP8266 to 3.3V, so the 
expense of buying a FTDI saving me besides that everything I program in C
 language Linux and installed the Arduino IDE version 1.6.9. in my 
Raspberry Pi, I had to make a major change with the toolchain 
esp-open-sdk for the Arduino IDE could complilar and upload the firmware
 without problems.</p></div><div class="reply"> <a rel="nofollow" class="comment-reply-link" href="#comment-88189" onclick='return addComment.moveForm( "div-comment-88189", "88189", "respond", "5799" )' aria-label="Reply to Luis Germán Ruiz">Reply</a></div></article></li><li id="comment-88162" class="comment even thread-odd thread-alt depth-1"><article id="div-comment-88162" class="comment-body"><footer class="comment-meta"><div class="comment-author vcard"> <img alt="" src="data:image/gif;base64,R0lGODdhAQABAPAAAP///wAAACwAAAAAAQABAEACAkQBADs=" data-lazy-src="https://secure.gravatar.com/avatar/20e0a0e9fd141da4981622bb9dc73078?s=48&amp;r=pg" data-lazy-srcset="https://secure.gravatar.com/avatar/20e0a0e9fd141da4981622bb9dc73078?s=96&amp;r=pg 2x" class="avatar avatar-48 photo" width="48" height="48"><noscript><img alt='' src='https://secure.gravatar.com/avatar/20e0a0e9fd141da4981622bb9dc73078?s=48&#038;r=pg' srcset='https://secure.gravatar.com/avatar/20e0a0e9fd141da4981622bb9dc73078?s=96&#038;r=pg 2x' class='avatar avatar-48 photo' height='48' width='48' /></noscript> <cite class="fn">Odilon Afonso Cenamo</cite> <span class="says">says:</span></div><div class="comment-metadata"> <a href="https://www.baldengineer.com/mqtt-tutorial.html#comment-88162"> <time datetime="2016-06-05T07:42:28+00:00"> June 5, 2016 at 7:42 am </time> </a></div></footer><div class="comment-content"><p>I
 found out where I went wrong. I can not use the IP 127.0.0.1, this is 
the IP that my station assigned to mosquitto that runs it. I therefore 
have to use the IP that the router attached to my linux – in the case 
192.168.2.111.</p><p>Now it’s working.</p><p>Still, grateful and congratulations for your article!</p></div><div class="reply"> <a rel="nofollow" class="comment-reply-link" href="#comment-88162" onclick='return addComment.moveForm( "div-comment-88162", "88162", "respond", "5799" )' aria-label="Reply to Odilon Afonso Cenamo">Reply</a></div></article></li><li id="comment-88160" class="comment odd alt thread-even depth-1 parent"><article id="div-comment-88160" class="comment-body"><footer class="comment-meta"><div class="comment-author vcard"> <img alt="" src="data:image/gif;base64,R0lGODdhAQABAPAAAP///wAAACwAAAAAAQABAEACAkQBADs=" data-lazy-src="https://secure.gravatar.com/avatar/20e0a0e9fd141da4981622bb9dc73078?s=48&amp;r=pg" data-lazy-srcset="https://secure.gravatar.com/avatar/20e0a0e9fd141da4981622bb9dc73078?s=96&amp;r=pg 2x" class="avatar avatar-48 photo" width="48" height="48"><noscript><img alt='' src='https://secure.gravatar.com/avatar/20e0a0e9fd141da4981622bb9dc73078?s=48&#038;r=pg' srcset='https://secure.gravatar.com/avatar/20e0a0e9fd141da4981622bb9dc73078?s=96&#038;r=pg 2x' class='avatar avatar-48 photo' height='48' width='48' /></noscript> <cite class="fn">Odilon Afonso Cenamo</cite> <span class="says">says:</span></div><div class="comment-metadata"> <a href="https://www.baldengineer.com/mqtt-tutorial.html#comment-88160"> <time datetime="2016-06-04T21:19:44+00:00"> June 4, 2016 at 9:19 pm </time> </a></div></footer><div class="comment-content"><p>Hi my friend,<br> Congratulations for your post. &nbsp;Maybe you can help me solve this problem.</p><p>I have a mosquitto broker on local ip 127.0.0.1 port 1883 (default)</p><p>Tested and working from a terminal window. My system is a Ubuntu 15.10.</p><p>I can’t connect from a sketch with ESP8266 to the broker, receive state -2.</p><p>The code to connection to the broker is:</p><p>#define BROKER_PORT 1883<br> #define LAT “-29.1838681”<br> #define LONG “-54.8528838”<br> #define ID_MQTT  “-29.1838681/-54.8528838”</p><p>IPAddress localMQTT(127,0,0,1);<br> …..<br> …..<br> MQTT.setServer(localMQTT, BROKER_PORT);<br> …….<br> void reconnectMQTT() {<br> while (!MQTT.connected()) {<br> if (MQTT.connect(ID_MQTT)) {<br> Serial.println(“Conectado”);<br> MQTT.subscribe(TOPICO);<br> } else {<br> Serial.print(“reconnect failed status “);<br> Serial.println(String(MQTT.state()));<br> Serial.println(“Try to reconnect again 2 sec”);<br> delay(2000);<br> }<br> }<br> }</p><p>In terminal windows I can access the broker. Publish and subscrib to topics. But from the sketch can not.</p><p>I saw you use a dns to specify the mqtt_server :</p><p>const char* mqtt_server = “macman”;</p><p>I don’t know how to do this, then I use the IP. 127.0.0.1, port 1883</p><p>But is not working….</p><p>Do you have any idea what might be happening?</p><p>Thank you and regards.</p></div><div class="reply"> <a rel="nofollow" class="comment-reply-link" href="#comment-88160" onclick='return addComment.moveForm( "div-comment-88160", "88160", "respond", "5799" )' aria-label="Reply to Odilon Afonso Cenamo">Reply</a></div></article><ul class="children"><li id="comment-88161" class="comment even depth-2 parent"><article id="div-comment-88161" class="comment-body"><footer class="comment-meta"><div class="comment-author vcard"> <img alt="" src="data:image/gif;base64,R0lGODdhAQABAPAAAP///wAAACwAAAAAAQABAEACAkQBADs=" data-lazy-src="https://secure.gravatar.com/avatar/9e43b37141a8d34b9c5a41f542fb6043?s=48&amp;r=pg" data-lazy-srcset="https://secure.gravatar.com/avatar/9e43b37141a8d34b9c5a41f542fb6043?s=96&amp;r=pg 2x" class="avatar avatar-48 photo" width="48" height="48"><noscript><img alt='' src='https://secure.gravatar.com/avatar/9e43b37141a8d34b9c5a41f542fb6043?s=48&#038;r=pg' srcset='https://secure.gravatar.com/avatar/9e43b37141a8d34b9c5a41f542fb6043?s=96&#038;r=pg 2x' class='avatar avatar-48 photo' height='48' width='48' /></noscript> <cite class="fn"><a href="http://myesp8266.blogspot.com/" rel="external nofollow" class="url">Catalin</a></cite> <span class="says">says:</span></div><div class="comment-metadata"> <a href="https://www.baldengineer.com/mqtt-tutorial.html#comment-88161"> <time datetime="2016-06-04T22:15:47+00:00"> June 4, 2016 at 10:15 pm </time> </a></div></footer><div class="comment-content"><p>Forget about the 127.0.0.1. Put the real ip address. Try with ifconfig -a</p></div><div class="reply"> <a rel="nofollow" class="comment-reply-link" href="#comment-88161" onclick='return addComment.moveForm( "div-comment-88161", "88161", "respond", "5799" )' aria-label="Reply to Catalin">Reply</a></div></article><ul class="children"><li id="comment-88163" class="comment odd alt depth-3"><article id="div-comment-88163" class="comment-body"><footer class="comment-meta"><div class="comment-author vcard"> <img alt="" src="data:image/gif;base64,R0lGODdhAQABAPAAAP///wAAACwAAAAAAQABAEACAkQBADs=" data-lazy-src="https://secure.gravatar.com/avatar/20e0a0e9fd141da4981622bb9dc73078?s=48&amp;r=pg" data-lazy-srcset="https://secure.gravatar.com/avatar/20e0a0e9fd141da4981622bb9dc73078?s=96&amp;r=pg 2x" class="avatar avatar-48 photo" width="48" height="48"><noscript><img alt='' src='https://secure.gravatar.com/avatar/20e0a0e9fd141da4981622bb9dc73078?s=48&#038;r=pg' srcset='https://secure.gravatar.com/avatar/20e0a0e9fd141da4981622bb9dc73078?s=96&#038;r=pg 2x' class='avatar avatar-48 photo' height='48' width='48' /></noscript> <cite class="fn">Odilon Afonso Cenamo</cite> <span class="says">says:</span></div><div class="comment-metadata"> <a href="https://www.baldengineer.com/mqtt-tutorial.html#comment-88163"> <time datetime="2016-06-05T09:41:46+00:00"> June 5, 2016 at 9:41 am </time> </a></div></footer><div class="comment-content"><p>Yeah ! After losing some time I remembered it.<br> Still, grateful for the help!</p></div><div class="reply"> <a rel="nofollow" class="comment-reply-link" href="#comment-88163" onclick='return addComment.moveForm( "div-comment-88163", "88163", "respond", "5799" )' aria-label="Reply to Odilon Afonso Cenamo">Reply</a></div></article></li></ul></li></ul></li><li id="comment-88141" class="comment even thread-odd thread-alt depth-1 parent"><article id="div-comment-88141" class="comment-body"><footer class="comment-meta"><div class="comment-author vcard"> <img alt="" src="data:image/gif;base64,R0lGODdhAQABAPAAAP///wAAACwAAAAAAQABAEACAkQBADs=" data-lazy-src="https://secure.gravatar.com/avatar/61143c37fb7b345fc10d5e53a109a64e?s=48&amp;r=pg" data-lazy-srcset="https://secure.gravatar.com/avatar/61143c37fb7b345fc10d5e53a109a64e?s=96&amp;r=pg 2x" class="avatar avatar-48 photo" width="48" height="48"><noscript><img alt='' src='https://secure.gravatar.com/avatar/61143c37fb7b345fc10d5e53a109a64e?s=48&#038;r=pg' srcset='https://secure.gravatar.com/avatar/61143c37fb7b345fc10d5e53a109a64e?s=96&#038;r=pg 2x' class='avatar avatar-48 photo' height='48' width='48' /></noscript> <cite class="fn">hasan</cite> <span class="says">says:</span></div><div class="comment-metadata"> <a href="https://www.baldengineer.com/mqtt-tutorial.html#comment-88141"> <time datetime="2016-05-24T20:45:41+00:00"> May 24, 2016 at 8:45 pm </time> </a></div></footer><div class="comment-content"><p>Hi<br> how can tested the mosquitto in windows , I ready installed also I check the service for mqtt is running</p><p>Thanks</p></div><div class="reply"> <a rel="nofollow" class="comment-reply-link" href="#comment-88141" onclick='return addComment.moveForm( "div-comment-88141", "88141", "respond", "5799" )' aria-label="Reply to hasan">Reply</a></div></article><ul class="children"><li id="comment-88142" class="comment byuser comment-author-baldengineer bypostauthor odd alt depth-2"><article id="div-comment-88142" class="comment-body"><footer class="comment-meta"><div class="comment-author vcard"> <img alt="" src="data:image/gif;base64,R0lGODdhAQABAPAAAP///wAAACwAAAAAAQABAEACAkQBADs=" data-lazy-src="https://secure.gravatar.com/avatar/0a1bd66a4cc97cbb242fb74d7aaf33ed?s=48&amp;r=pg" data-lazy-srcset="https://secure.gravatar.com/avatar/0a1bd66a4cc97cbb242fb74d7aaf33ed?s=96&amp;r=pg 2x" class="avatar avatar-48 photo" width="48" height="48"><noscript><img alt='' src='https://secure.gravatar.com/avatar/0a1bd66a4cc97cbb242fb74d7aaf33ed?s=48&#038;r=pg' srcset='https://secure.gravatar.com/avatar/0a1bd66a4cc97cbb242fb74d7aaf33ed?s=96&#038;r=pg 2x' class='avatar avatar-48 photo' height='48' width='48' /></noscript> <cite class="fn"><a href="https://www.baldengineer.com/" rel="external nofollow" class="url">James Lewis</a></cite> <span class="says">says:</span></div><div class="comment-metadata"> <a href="https://www.baldengineer.com/mqtt-tutorial.html#comment-88142"> <time datetime="2016-05-25T12:29:05+00:00"> May 25, 2016 at 12:29 pm </time> </a></div></footer><div class="comment-content"><p>I have no experience running mosquitto on Windows.</p></div><div class="reply"> <a rel="nofollow" class="comment-reply-link" href="#comment-88142" onclick='return addComment.moveForm( "div-comment-88142", "88142", "respond", "5799" )' aria-label="Reply to James Lewis">Reply</a></div></article></li></ul></li><li id="comment-88133" class="comment even thread-even depth-1 parent"><article id="div-comment-88133" class="comment-body"><footer class="comment-meta"><div class="comment-author vcard"> <img alt="" src="data:image/gif;base64,R0lGODdhAQABAPAAAP///wAAACwAAAAAAQABAEACAkQBADs=" data-lazy-src="https://secure.gravatar.com/avatar/806f3947d30f6ef650e1a79019128da7?s=48&amp;r=pg" data-lazy-srcset="https://secure.gravatar.com/avatar/806f3947d30f6ef650e1a79019128da7?s=96&amp;r=pg 2x" class="avatar avatar-48 photo" width="48" height="48"><noscript><img alt='' src='https://secure.gravatar.com/avatar/806f3947d30f6ef650e1a79019128da7?s=48&#038;r=pg' srcset='https://secure.gravatar.com/avatar/806f3947d30f6ef650e1a79019128da7?s=96&#038;r=pg 2x' class='avatar avatar-48 photo' height='48' width='48' /></noscript> <cite class="fn">Tyler</cite> <span class="says">says:</span></div><div class="comment-metadata"> <a href="https://www.baldengineer.com/mqtt-tutorial.html#comment-88133"> <time datetime="2016-05-22T15:35:36+00:00"> May 22, 2016 at 3:35 pm </time> </a></div></footer><div class="comment-content"><p>Hi
 James, great tutorials. I’ve learned so much from your site and videos.
 So, thank you and please keep them coming! I’m currently learning all 
of this stuff concurrently, no easy task. I have the mosquitto broker 
setup on my NAS. Eventually, I’d like to be able to send temp inputs and
 other various inputs to the MQTT broker, then populate an SQL database 
on my website on the internet. And be able to communicate the other way,
 from pushing a button on a web page, which will send to the broker and 
back down to the ESP8266. All of this with security in place. I’ve had 
some success using a json file, but security is tough to implement and 
the refresh rate is slow and clumsy. This turorial has me on my way and 
I’m guessing it will take me a few hours to start communicating between 
my broker and ESP. The challenge will then be security and reaching out 
to the internet and a hosted server. I’d love any help or thoughts you 
could lend on any of this moving forward.<br> Ideally I’d setup a web 
page on the internet which would communicate via MQTT to my in house NAS
 and allow me to control my ESPs that way.<br> Cheers and thanks again for this tutorial!</p></div><div class="reply"> <a rel="nofollow" class="comment-reply-link" href="#comment-88133" onclick='return addComment.moveForm( "div-comment-88133", "88133", "respond", "5799" )' aria-label="Reply to Tyler">Reply</a></div></article><ul class="children"><li id="comment-88134" class="comment byuser comment-author-baldengineer bypostauthor odd alt depth-2 parent"><article id="div-comment-88134" class="comment-body"><footer class="comment-meta"><div class="comment-author vcard"> <img alt="" src="data:image/gif;base64,R0lGODdhAQABAPAAAP///wAAACwAAAAAAQABAEACAkQBADs=" data-lazy-src="https://secure.gravatar.com/avatar/0a1bd66a4cc97cbb242fb74d7aaf33ed?s=48&amp;r=pg" data-lazy-srcset="https://secure.gravatar.com/avatar/0a1bd66a4cc97cbb242fb74d7aaf33ed?s=96&amp;r=pg 2x" class="avatar avatar-48 photo" width="48" height="48"><noscript><img alt='' src='https://secure.gravatar.com/avatar/0a1bd66a4cc97cbb242fb74d7aaf33ed?s=48&#038;r=pg' srcset='https://secure.gravatar.com/avatar/0a1bd66a4cc97cbb242fb74d7aaf33ed?s=96&#038;r=pg 2x' class='avatar avatar-48 photo' height='48' width='48' /></noscript> <cite class="fn"><a href="https://www.baldengineer.com/" rel="external nofollow" class="url">James Lewis</a></cite> <span class="says">says:</span></div><div class="comment-metadata"> <a href="https://www.baldengineer.com/mqtt-tutorial.html#comment-88134"> <time datetime="2016-05-23T10:33:20+00:00"> May 23, 2016 at 10:33 am </time> </a></div></footer><div class="comment-content"><p>Security
 is something I plan to look at soon. When I have devices communicating 
on my own network, I’m less concerned about security. If I were to 
communicate with an outside server, I would probably look at a RESTful 
API for MQTT Broker to Web Server communication. For example, I would 
have a script subscribed to a MQTT feed and when messages are received, 
post a REST call to my web server. That chain I would encrypt with SSL 
using self-signed keys. That way I’m not dealing with “authentication” 
but have a secured connection.</p></div><div class="reply"> <a rel="nofollow" class="comment-reply-link" href="#comment-88134" onclick='return addComment.moveForm( "div-comment-88134", "88134", "respond", "5799" )' aria-label="Reply to James Lewis">Reply</a></div></article><ul class="children"><li id="comment-88681" class="comment even depth-3"><article id="div-comment-88681" class="comment-body"><footer class="comment-meta"><div class="comment-author vcard"> <img alt="" src="data:image/gif;base64,R0lGODdhAQABAPAAAP///wAAACwAAAAAAQABAEACAkQBADs=" data-lazy-src="https://secure.gravatar.com/avatar/426c94154a172e3f69be99d5f1a7e3a3?s=48&amp;r=pg" data-lazy-srcset="https://secure.gravatar.com/avatar/426c94154a172e3f69be99d5f1a7e3a3?s=96&amp;r=pg 2x" class="avatar avatar-48 photo" width="48" height="48"><noscript><img alt='' src='https://secure.gravatar.com/avatar/426c94154a172e3f69be99d5f1a7e3a3?s=48&#038;r=pg' srcset='https://secure.gravatar.com/avatar/426c94154a172e3f69be99d5f1a7e3a3?s=96&#038;r=pg 2x' class='avatar avatar-48 photo' height='48' width='48' /></noscript> <cite class="fn">Michael</cite> <span class="says">says:</span></div><div class="comment-metadata"> <a href="https://www.baldengineer.com/mqtt-tutorial.html#comment-88681"> <time datetime="2017-01-06T02:56:53+00:00"> January 6, 2017 at 2:56 am </time> </a></div></footer><div class="comment-content"><p>I
 have used the Blynk app on my smart phone.  It requires a configured 
sketch on a wifi equipped arduino ( used a sparkfun ESP8266 Thing). You 
can build a really nice Human-Machine-interfface on the Blynk app. I 
could control microprocessor driven stuff at home from anywhere i could 
get celll service for 3g connectivity.<br> Blynk supplies the code for the sketch btw.</p></div><div class="reply"> <a rel="nofollow" class="comment-reply-link" href="#comment-88681" onclick='return addComment.moveForm( "div-comment-88681", "88681", "respond", "5799" )' aria-label="Reply to Michael">Reply</a></div></article></li></ul></li></ul></li><li id="comment-88118" class="comment odd alt thread-odd thread-alt depth-1 parent"><article id="div-comment-88118" class="comment-body"><footer class="comment-meta"><div class="comment-author vcard"> <img alt="" src="data:image/gif;base64,R0lGODdhAQABAPAAAP///wAAACwAAAAAAQABAEACAkQBADs=" data-lazy-src="https://secure.gravatar.com/avatar/b3b46c65ed65013013493c88df6fe4e4?s=48&amp;r=pg" data-lazy-srcset="https://secure.gravatar.com/avatar/b3b46c65ed65013013493c88df6fe4e4?s=96&amp;r=pg 2x" class="avatar avatar-48 photo" width="48" height="48"><noscript><img alt='' src='https://secure.gravatar.com/avatar/b3b46c65ed65013013493c88df6fe4e4?s=48&#038;r=pg' srcset='https://secure.gravatar.com/avatar/b3b46c65ed65013013493c88df6fe4e4?s=96&#038;r=pg 2x' class='avatar avatar-48 photo' height='48' width='48' /></noscript> <cite class="fn">Stephanus Adisuprijanto</cite> <span class="says">says:</span></div><div class="comment-metadata"> <a href="https://www.baldengineer.com/mqtt-tutorial.html#comment-88118"> <time datetime="2016-05-16T01:24:04+00:00"> May 16, 2016 at 1:24 am </time> </a></div></footer><div class="comment-content"><p>James,<br> Where did you get the ESP8266WiFi.h file? Is it from the esp8266.com community library?</p></div><div class="reply"> <a rel="nofollow" class="comment-reply-link" href="#comment-88118" onclick='return addComment.moveForm( "div-comment-88118", "88118", "respond", "5799" )' aria-label="Reply to Stephanus Adisuprijanto">Reply</a></div></article><ul class="children"><li id="comment-88119" class="comment byuser comment-author-baldengineer bypostauthor even depth-2"><article id="div-comment-88119" class="comment-body"><footer class="comment-meta"><div class="comment-author vcard"> <img alt="" src="data:image/gif;base64,R0lGODdhAQABAPAAAP///wAAACwAAAAAAQABAEACAkQBADs=" data-lazy-src="https://secure.gravatar.com/avatar/0a1bd66a4cc97cbb242fb74d7aaf33ed?s=48&amp;r=pg" data-lazy-srcset="https://secure.gravatar.com/avatar/0a1bd66a4cc97cbb242fb74d7aaf33ed?s=96&amp;r=pg 2x" class="avatar avatar-48 photo" width="48" height="48"><noscript><img alt='' src='https://secure.gravatar.com/avatar/0a1bd66a4cc97cbb242fb74d7aaf33ed?s=48&#038;r=pg' srcset='https://secure.gravatar.com/avatar/0a1bd66a4cc97cbb242fb74d7aaf33ed?s=96&#038;r=pg 2x' class='avatar avatar-48 photo' height='48' width='48' /></noscript> <cite class="fn"><a href="https://www.baldengineer.com/" rel="external nofollow" class="url">James Lewis</a></cite> <span class="says">says:</span></div><div class="comment-metadata"> <a href="https://www.baldengineer.com/mqtt-tutorial.html#comment-88119"> <time datetime="2016-05-16T05:28:04+00:00"> May 16, 2016 at 5:28 am </time> </a></div></footer><div class="comment-content"><p>Came with the ESP8266 package from the board manager.</p></div><div class="reply"> <a rel="nofollow" class="comment-reply-link" href="#comment-88119" onclick='return addComment.moveForm( "div-comment-88119", "88119", "respond", "5799" )' aria-label="Reply to James Lewis">Reply</a></div></article></li></ul></li><li id="comment-88105" class="comment odd alt thread-even depth-1"><article id="div-comment-88105" class="comment-body"><footer class="comment-meta"><div class="comment-author vcard"> <img alt="" src="data:image/gif;base64,R0lGODdhAQABAPAAAP///wAAACwAAAAAAQABAEACAkQBADs=" data-lazy-src="https://secure.gravatar.com/avatar/86ab824f600c372919c820cec2ff04dd?s=48&amp;r=pg" data-lazy-srcset="https://secure.gravatar.com/avatar/86ab824f600c372919c820cec2ff04dd?s=96&amp;r=pg 2x" class="avatar avatar-48 photo" width="48" height="48"><noscript><img alt='' src='https://secure.gravatar.com/avatar/86ab824f600c372919c820cec2ff04dd?s=48&#038;r=pg' srcset='https://secure.gravatar.com/avatar/86ab824f600c372919c820cec2ff04dd?s=96&#038;r=pg 2x' class='avatar avatar-48 photo' height='48' width='48' /></noscript> <cite class="fn">Rob</cite> <span class="says">says:</span></div><div class="comment-metadata"> <a href="https://www.baldengineer.com/mqtt-tutorial.html#comment-88105"> <time datetime="2016-05-09T19:12:14+00:00"> May 9, 2016 at 7:12 pm </time> </a></div></footer><div class="comment-content"><p>Thanks
 for the tutorial. Clean and to the point. I adjusted the code for an 
Arduino + ethernet shield. Works great, and I can now build on these 
basic principles.</p></div><div class="reply"> <a rel="nofollow" class="comment-reply-link" href="#comment-88105" onclick='return addComment.moveForm( "div-comment-88105", "88105", "respond", "5799" )' aria-label="Reply to Rob">Reply</a></div></article></li><li id="comment-88078" class="comment even thread-odd thread-alt depth-1 parent"><article id="div-comment-88078" class="comment-body"><footer class="comment-meta"><div class="comment-author vcard"> <img alt="" src="data:image/gif;base64,R0lGODdhAQABAPAAAP///wAAACwAAAAAAQABAEACAkQBADs=" data-lazy-src="https://secure.gravatar.com/avatar/8d5630babef8f8c8789eab4f4de0e76f?s=48&amp;r=pg" data-lazy-srcset="https://secure.gravatar.com/avatar/8d5630babef8f8c8789eab4f4de0e76f?s=96&amp;r=pg 2x" class="avatar avatar-48 photo" width="48" height="48"><noscript><img alt='' src='https://secure.gravatar.com/avatar/8d5630babef8f8c8789eab4f4de0e76f?s=48&#038;r=pg' srcset='https://secure.gravatar.com/avatar/8d5630babef8f8c8789eab4f4de0e76f?s=96&#038;r=pg 2x' class='avatar avatar-48 photo' height='48' width='48' /></noscript> <cite class="fn">Stefan Sjöström</cite> <span class="says">says:</span></div><div class="comment-metadata"> <a href="https://www.baldengineer.com/mqtt-tutorial.html#comment-88078"> <time datetime="2016-04-26T02:30:55+00:00"> April 26, 2016 at 2:30 am </time> </a></div></footer><div class="comment-content"><p>Unable
 to install Mosquitto on Win 10. After installed libeay32.dll and 
ssleay.dll that was missing I got next issue: Can’t find number 175 in 
DLL-file \\mosquitto.exe.<br> Installed:  “binary installers on mosquitto.org”</p><p>/Stefan</p></div><div class="reply"> <a rel="nofollow" class="comment-reply-link" href="#comment-88078" onclick='return addComment.moveForm( "div-comment-88078", "88078", "respond", "5799" )' aria-label="Reply to Stefan Sjöström">Reply</a></div></article><ul class="children"><li id="comment-88082" class="comment byuser comment-author-baldengineer bypostauthor odd alt depth-2"><article id="div-comment-88082" class="comment-body"><footer class="comment-meta"><div class="comment-author vcard"> <img alt="" src="data:image/gif;base64,R0lGODdhAQABAPAAAP///wAAACwAAAAAAQABAEACAkQBADs=" data-lazy-src="https://secure.gravatar.com/avatar/0a1bd66a4cc97cbb242fb74d7aaf33ed?s=48&amp;r=pg" data-lazy-srcset="https://secure.gravatar.com/avatar/0a1bd66a4cc97cbb242fb74d7aaf33ed?s=96&amp;r=pg 2x" class="avatar avatar-48 photo" width="48" height="48"><noscript><img alt='' src='https://secure.gravatar.com/avatar/0a1bd66a4cc97cbb242fb74d7aaf33ed?s=48&#038;r=pg' srcset='https://secure.gravatar.com/avatar/0a1bd66a4cc97cbb242fb74d7aaf33ed?s=96&#038;r=pg 2x' class='avatar avatar-48 photo' height='48' width='48' /></noscript> <cite class="fn"><a href="https://www.baldengineer.com/" rel="external nofollow" class="url">James Lewis</a></cite> <span class="says">says:</span></div><div class="comment-metadata"> <a href="https://www.baldengineer.com/mqtt-tutorial.html#comment-88082"> <time datetime="2016-04-26T18:47:53+00:00"> April 26, 2016 at 6:47 pm </time> </a></div></footer><div class="comment-content"><p>Sorry, but I have no experience with mosquitto on Windows. You might want to try the mosquitto mailing list:<br> <a href="https://dev.eclipse.org/mailman/listinfo/mosquitto-dev" rel="nofollow">https://dev.eclipse.org/mailman/listinfo/mosquitto-dev</a></p></div><div class="reply"> <a rel="nofollow" class="comment-reply-link" href="#comment-88082" onclick='return addComment.moveForm( "div-comment-88082", "88082", "respond", "5799" )' aria-label="Reply to James Lewis">Reply</a></div></article></li></ul></li><li id="comment-88053" class="comment even thread-even depth-1 parent"><article id="div-comment-88053" class="comment-body"><footer class="comment-meta"><div class="comment-author vcard"> <img alt="" src="data:image/gif;base64,R0lGODdhAQABAPAAAP///wAAACwAAAAAAQABAEACAkQBADs=" data-lazy-src="https://graph.facebook.com/v2.2/698362707/picture?type=large&amp;_md5=b6c7ad6986b5fe7cfce163bbf1b4711a" data-lazy-srcset="https://secure.gravatar.com/avatar/846de5fa03a9e727a4472c753c95ac54?s=96&amp;r=pg 2x" class="avatar avatar-48 photo" width="48" height="48"><noscript><img alt='' src='https://graph.facebook.com/v2.2/698362707/picture?type=large&#038;_md5=b6c7ad6986b5fe7cfce163bbf1b4711a' srcset='https://secure.gravatar.com/avatar/846de5fa03a9e727a4472c753c95ac54?s=96&#038;r=pg 2x' class='avatar avatar-48 photo' height='48' width='48' /></noscript> <cite class="fn"><a href="https://www.facebook.com/app_scoped_user_id/698362707/" rel="external nofollow" class="url">Kevin Rutledge</a></cite> <span class="says">says:</span></div><div class="comment-metadata"> <a href="https://www.baldengineer.com/mqtt-tutorial.html#comment-88053"> <time datetime="2016-04-10T16:19:07+00:00"> April 10, 2016 at 4:19 pm </time> </a></div></footer><div class="comment-content"><p>Is
 there a way to use the arduino connected to the pi through serial, to 
send the messages through.  I was thinking of building sensors using the
 Adafruit Feather 32u4 RFM95W LoRa Radio – 900MHz and then using another
 or an uno with the radio breakout as the gateway to connect to the pi. 
 I’m hoping to avoid wifi for the network of sensors/nodes, and if I can
 avoid buying an ethernet breakout board or shield and save a little 
money, that would be good.</p></div><div class="reply"> <a rel="nofollow" class="comment-reply-link" href="#comment-88053" onclick='return addComment.moveForm( "div-comment-88053", "88053", "respond", "5799" )' aria-label="Reply to Kevin Rutledge">Reply</a></div></article><ul class="children"><li id="comment-88054" class="comment byuser comment-author-baldengineer bypostauthor odd alt depth-2"><article id="div-comment-88054" class="comment-body"><footer class="comment-meta"><div class="comment-author vcard"> <img alt="" src="data:image/gif;base64,R0lGODdhAQABAPAAAP///wAAACwAAAAAAQABAEACAkQBADs=" data-lazy-src="https://secure.gravatar.com/avatar/0a1bd66a4cc97cbb242fb74d7aaf33ed?s=48&amp;r=pg" data-lazy-srcset="https://secure.gravatar.com/avatar/0a1bd66a4cc97cbb242fb74d7aaf33ed?s=96&amp;r=pg 2x" class="avatar avatar-48 photo" width="48" height="48"><noscript><img alt='' src='https://secure.gravatar.com/avatar/0a1bd66a4cc97cbb242fb74d7aaf33ed?s=48&#038;r=pg' srcset='https://secure.gravatar.com/avatar/0a1bd66a4cc97cbb242fb74d7aaf33ed?s=96&#038;r=pg 2x' class='avatar avatar-48 photo' height='48' width='48' /></noscript> <cite class="fn"><a href="https://www.baldengineer.com/" rel="external nofollow" class="url">James Lewis</a></cite> <span class="says">says:</span></div><div class="comment-metadata"> <a href="https://www.baldengineer.com/mqtt-tutorial.html#comment-88054"> <time datetime="2016-04-10T22:07:58+00:00"> April 10, 2016 at 10:07 pm </time> </a></div></footer><div class="comment-content"><p>Yes, the Pi is a small computer running Linux. The Pi can communicate over usb-serial with an Arduino just like your PC can.</p></div><div class="reply"> <a rel="nofollow" class="comment-reply-link" href="#comment-88054" onclick='return addComment.moveForm( "div-comment-88054", "88054", "respond", "5799" )' aria-label="Reply to James Lewis">Reply</a></div></article></li></ul></li><li id="comment-88023" class="comment even thread-odd thread-alt depth-1 parent"><article id="div-comment-88023" class="comment-body"><footer class="comment-meta"><div class="comment-author vcard"> <img alt="" src="data:image/gif;base64,R0lGODdhAQABAPAAAP///wAAACwAAAAAAQABAEACAkQBADs=" data-lazy-src="https://secure.gravatar.com/avatar/cb6f31cb58ec1bf18c47b89258318d6b?s=48&amp;r=pg" data-lazy-srcset="https://secure.gravatar.com/avatar/cb6f31cb58ec1bf18c47b89258318d6b?s=96&amp;r=pg 2x" class="avatar avatar-48 photo" width="48" height="48"><noscript><img alt='' src='https://secure.gravatar.com/avatar/cb6f31cb58ec1bf18c47b89258318d6b?s=48&#038;r=pg' srcset='https://secure.gravatar.com/avatar/cb6f31cb58ec1bf18c47b89258318d6b?s=96&#038;r=pg 2x' class='avatar avatar-48 photo' height='48' width='48' /></noscript> <cite class="fn">SARANYA B</cite> <span class="says">says:</span></div><div class="comment-metadata"> <a href="https://www.baldengineer.com/mqtt-tutorial.html#comment-88023"> <time datetime="2016-03-21T04:37:43+00:00"> March 21, 2016 at 4:37 am </time> </a></div></footer><div class="comment-content"><p>while running mosquitto -v in comment prompt I get error: no error. how to fix it?</p></div><div class="reply"> <a rel="nofollow" class="comment-reply-link" href="#comment-88023" onclick='return addComment.moveForm( "div-comment-88023", "88023", "respond", "5799" )' aria-label="Reply to SARANYA B">Reply</a></div></article><ul class="children"><li id="comment-88024" class="comment byuser comment-author-baldengineer bypostauthor odd alt depth-2 parent"><article id="div-comment-88024" class="comment-body"><footer class="comment-meta"><div class="comment-author vcard"> <img alt="" src="data:image/gif;base64,R0lGODdhAQABAPAAAP///wAAACwAAAAAAQABAEACAkQBADs=" data-lazy-src="https://secure.gravatar.com/avatar/0a1bd66a4cc97cbb242fb74d7aaf33ed?s=48&amp;r=pg" data-lazy-srcset="https://secure.gravatar.com/avatar/0a1bd66a4cc97cbb242fb74d7aaf33ed?s=96&amp;r=pg 2x" class="avatar avatar-48 photo" width="48" height="48"><noscript><img alt='' src='https://secure.gravatar.com/avatar/0a1bd66a4cc97cbb242fb74d7aaf33ed?s=48&#038;r=pg' srcset='https://secure.gravatar.com/avatar/0a1bd66a4cc97cbb242fb74d7aaf33ed?s=96&#038;r=pg 2x' class='avatar avatar-48 photo' height='48' width='48' /></noscript> <cite class="fn"><a href="https://www.baldengineer.com/" rel="external nofollow" class="url">James Lewis</a></cite> <span class="says">says:</span></div><div class="comment-metadata"> <a href="https://www.baldengineer.com/mqtt-tutorial.html#comment-88024"> <time datetime="2016-03-21T18:13:19+00:00"> March 21, 2016 at 6:13 pm </time> </a></div></footer><div class="comment-content"><p>If on Linux, you may need to run with sudo since it defaults to such a low port number.</p></div><div class="reply"> <a rel="nofollow" class="comment-reply-link" href="#comment-88024" onclick='return addComment.moveForm( "div-comment-88024", "88024", "respond", "5799" )' aria-label="Reply to James Lewis">Reply</a></div></article><ul class="children"><li id="comment-88148" class="comment even depth-3 parent"><article id="div-comment-88148" class="comment-body"><footer class="comment-meta"><div class="comment-author vcard"> <img alt="" src="data:image/gif;base64,R0lGODdhAQABAPAAAP///wAAACwAAAAAAQABAEACAkQBADs=" data-lazy-src="https://secure.gravatar.com/avatar/a32af0d906b4be052886d81748a6fac7?s=48&amp;r=pg" data-lazy-srcset="https://secure.gravatar.com/avatar/a32af0d906b4be052886d81748a6fac7?s=96&amp;r=pg 2x" class="avatar avatar-48 photo" width="48" height="48"><noscript><img alt='' src='https://secure.gravatar.com/avatar/a32af0d906b4be052886d81748a6fac7?s=48&#038;r=pg' srcset='https://secure.gravatar.com/avatar/a32af0d906b4be052886d81748a6fac7?s=96&#038;r=pg 2x' class='avatar avatar-48 photo' height='48' width='48' /></noscript> <cite class="fn">Deskwizard</cite> <span class="says">says:</span></div><div class="comment-metadata"> <a href="https://www.baldengineer.com/mqtt-tutorial.html#comment-88148"> <time datetime="2016-05-27T05:06:20+00:00"> May 27, 2016 at 5:06 am </time> </a></div></footer><div class="comment-content"><p>Also,
 mosquitto is run as service by default on Ubuntu 16.04(and maybe others
 as well). You will need to stop the service before stating mosquitto in
 verbose mode.</p></div><div class="reply"> <a rel="nofollow" class="comment-reply-link" href="#comment-88148" onclick='return addComment.moveForm( "div-comment-88148", "88148", "respond", "5799" )' aria-label="Reply to Deskwizard">Reply</a></div></article><ul class="children"><li id="comment-88150" class="comment byuser comment-author-baldengineer bypostauthor odd alt depth-4"><article id="div-comment-88150" class="comment-body"><footer class="comment-meta"><div class="comment-author vcard"> <img alt="" src="data:image/gif;base64,R0lGODdhAQABAPAAAP///wAAACwAAAAAAQABAEACAkQBADs=" data-lazy-src="https://secure.gravatar.com/avatar/0a1bd66a4cc97cbb242fb74d7aaf33ed?s=48&amp;r=pg" data-lazy-srcset="https://secure.gravatar.com/avatar/0a1bd66a4cc97cbb242fb74d7aaf33ed?s=96&amp;r=pg 2x" class="avatar avatar-48 photo" width="48" height="48"><noscript><img alt='' src='https://secure.gravatar.com/avatar/0a1bd66a4cc97cbb242fb74d7aaf33ed?s=48&#038;r=pg' srcset='https://secure.gravatar.com/avatar/0a1bd66a4cc97cbb242fb74d7aaf33ed?s=96&#038;r=pg 2x' class='avatar avatar-48 photo' height='48' width='48' /></noscript> <cite class="fn"><a href="https://www.baldengineer.com/" rel="external nofollow" class="url">James Lewis</a></cite> <span class="says">says:</span></div><div class="comment-metadata"> <a href="https://www.baldengineer.com/mqtt-tutorial.html#comment-88150"> <time datetime="2016-05-29T09:43:44+00:00"> May 29, 2016 at 9:43 am </time> </a></div></footer><div class="comment-content"><p>What’s the command you would use to turn off/restart a service in Ubutunu ?</p></div><div class="reply"> <a rel="nofollow" class="comment-reply-link" href="#comment-88150" onclick='return addComment.moveForm( "div-comment-88150", "88150", "respond", "5799" )' aria-label="Reply to James Lewis">Reply</a></div></article></li></ul></li></ul></li></ul></li><li id="comment-87955" class="comment even thread-even depth-1 parent"><article id="div-comment-87955" class="comment-body"><footer class="comment-meta"><div class="comment-author vcard"> <img alt="" src="data:image/gif;base64,R0lGODdhAQABAPAAAP///wAAACwAAAAAAQABAEACAkQBADs=" data-lazy-src="https://secure.gravatar.com/avatar/9e43b37141a8d34b9c5a41f542fb6043?s=48&amp;r=pg" data-lazy-srcset="https://secure.gravatar.com/avatar/9e43b37141a8d34b9c5a41f542fb6043?s=96&amp;r=pg 2x" class="avatar avatar-48 photo" width="48" height="48"><noscript><img alt='' src='https://secure.gravatar.com/avatar/9e43b37141a8d34b9c5a41f542fb6043?s=48&#038;r=pg' srcset='https://secure.gravatar.com/avatar/9e43b37141a8d34b9c5a41f542fb6043?s=96&#038;r=pg 2x' class='avatar avatar-48 photo' height='48' width='48' /></noscript> <cite class="fn"><a href="http://myesp8266.blogspot.com/" rel="external nofollow" class="url">Catalin</a></cite> <span class="says">says:</span></div><div class="comment-metadata"> <a href="https://www.baldengineer.com/mqtt-tutorial.html#comment-87955"> <time datetime="2016-02-24T10:42:09+00:00"> February 24, 2016 at 10:42 am </time> </a></div></footer><div class="comment-content"><p>I am running MQTT Broker on a ESP8266 or on my ESP32. It is cheaper then a raspberry pi. See it in action on <a href="http://myesp8266.blogspot.ro/2016/02/mqtt-broker-on-esp8266.html" rel="nofollow">http://myesp8266.blogspot.ro/2016/02/mqtt-broker-on-esp8266.html</a>.</p></div><div class="reply"> <a rel="nofollow" class="comment-reply-link" href="#comment-87955" onclick='return addComment.moveForm( "div-comment-87955", "87955", "respond", "5799" )' aria-label="Reply to Catalin">Reply</a></div></article><ul class="children"><li id="comment-87956" class="comment byuser comment-author-baldengineer bypostauthor odd alt depth-2"><article id="div-comment-87956" class="comment-body"><footer class="comment-meta"><div class="comment-author vcard"> <img alt="" src="data:image/gif;base64,R0lGODdhAQABAPAAAP///wAAACwAAAAAAQABAEACAkQBADs=" data-lazy-src="https://secure.gravatar.com/avatar/0a1bd66a4cc97cbb242fb74d7aaf33ed?s=48&amp;r=pg" data-lazy-srcset="https://secure.gravatar.com/avatar/0a1bd66a4cc97cbb242fb74d7aaf33ed?s=96&amp;r=pg 2x" class="avatar avatar-48 photo" width="48" height="48"><noscript><img alt='' src='https://secure.gravatar.com/avatar/0a1bd66a4cc97cbb242fb74d7aaf33ed?s=48&#038;r=pg' srcset='https://secure.gravatar.com/avatar/0a1bd66a4cc97cbb242fb74d7aaf33ed?s=96&#038;r=pg 2x' class='avatar avatar-48 photo' height='48' width='48' /></noscript> <cite class="fn"><a href="https://www.baldengineer.com/" rel="external nofollow" class="url">James Lewis</a></cite> <span class="says">says:</span></div><div class="comment-metadata"> <a href="https://www.baldengineer.com/mqtt-tutorial.html#comment-87956"> <time datetime="2016-02-24T10:55:14+00:00"> February 24, 2016 at 10:55 am </time> </a></div></footer><div class="comment-content"><p>Cool! I’ll keep an eye on your progress.</p></div><div class="reply"> <a rel="nofollow" class="comment-reply-link" href="#comment-87956" onclick='return addComment.moveForm( "div-comment-87956", "87956", "respond", "5799" )' aria-label="Reply to James Lewis">Reply</a></div></article></li></ul></li></ol></div></div></div><div id="secondary" class="sidebar widget-area" role="complementary"><aside id="media_image-2" class="widget widget_media_image"><h3 class="widget-title">Support James</h3><div style="width: 330px" class="wp-caption alignnone"><a href="https://patreon.com/baldengineer"><img src="MQTT%20Tutorial%20for%20Raspberry%20Pi,%20Arduino,%20and%20ESP8266%20-%20Bald%20Engineer_files/Patreon-Logo.png" class="image wp-image-7480 attachment-full size-full lazyloading" alt="" style="max-width: 100%; height: auto;" srcset="https://www.baldengineer.com/wp-content/uploads/2018/07/Patreon-Logo.png 320w, https://www.baldengineer.com/wp-content/uploads/2018/07/Patreon-Logo-150x150.png 150w, https://www.baldengineer.com/wp-content/uploads/2018/07/Patreon-Logo-300x300.png 300w, https://www.baldengineer.com/wp-content/uploads/2018/07/Patreon-Logo-35x35.png 35w, https://www.baldengineer.com/wp-content/uploads/2018/07/Patreon-Logo-82x82.png 82w" sizes="(max-width: 320px) 100vw, 320px" data-was-processed="true" width="320" height="320"></a><p class="wp-caption-text">On Patreon</p></div></aside><aside id="getnoticed_popularposts-2" class="widget widget_getnoticed_popularposts"><h3 class="widget-title">Most Popular Posts</h3><div class="widget-content"><ul><li><img src="MQTT%20Tutorial%20for%20Raspberry%20Pi,%20Arduino,%20and%20ESP8266%20-%20Bald%20Engineer_files/mqtt-tutorial-banner-35x35.jpg" data-lazy-src="https://www.baldengineer.com/wp-content/uploads/2016/02/mqtt-tutorial-banner-35x35.jpg" class="attachment-35x35 size-35x35 wp-post-image lazyloaded" alt="mqtt tutorial" data-lazy-srcset="https://www.baldengineer.com/wp-content/uploads/2016/02/mqtt-tutorial-banner-35x35.jpg 35w, https://www.baldengineer.com/wp-content/uploads/2016/02/mqtt-tutorial-banner-150x150.jpg 150w" data-lazy-sizes="(max-width: 35px) 100vw, 35px" sizes="(max-width: 35px) 100vw, 35px" srcset="https://www.baldengineer.com/wp-content/uploads/2016/02/mqtt-tutorial-banner-35x35.jpg 35w, https://www.baldengineer.com/wp-content/uploads/2016/02/mqtt-tutorial-banner-150x150.jpg 150w" data-was-processed="true" width="35" height="35"><noscript><img width="35" height="35" src="https://www.baldengineer.com/wp-content/uploads/2016/02/mqtt-tutorial-banner-35x35.jpg" class="attachment-35x35 size-35x35 wp-post-image" alt="mqtt tutorial" srcset="https://www.baldengineer.com/wp-content/uploads/2016/02/mqtt-tutorial-banner-35x35.jpg 35w, https://www.baldengineer.com/wp-content/uploads/2016/02/mqtt-tutorial-banner-150x150.jpg 150w" sizes="(max-width: 35px) 100vw, 35px" /></noscript><a href="https://www.baldengineer.com/mqtt-tutorial.html" title="MQTT Tutorial for Raspberry Pi, Arduino, and ESP8266">MQTT Tutorial for Raspberry Pi, Arduino, and ESP8266</a></li><li><img src="MQTT%20Tutorial%20for%20Raspberry%20Pi,%20Arduino,%20and%20ESP8266%20-%20Bald%20Engineer_files/eca9168a883497e1bb33bd3a47ba1baa-300x197-35x35.png" data-lazy-src="https://www.baldengineer.com/wp-content/uploads/2011/01/eca9168a883497e1bb33bd3a47ba1baa-300x197-35x35.png" class="attachment-35x35 size-35x35 wp-post-image lazyloaded" alt="" data-lazy-srcset="https://www.baldengineer.com/wp-content/uploads/2011/01/eca9168a883497e1bb33bd3a47ba1baa-300x197-35x35.png 35w, https://www.baldengineer.com/wp-content/uploads/2011/01/eca9168a883497e1bb33bd3a47ba1baa-300x197-150x150.png 150w" data-lazy-sizes="(max-width: 35px) 100vw, 35px" sizes="(max-width: 35px) 100vw, 35px" srcset="https://www.baldengineer.com/wp-content/uploads/2011/01/eca9168a883497e1bb33bd3a47ba1baa-300x197-35x35.png 35w, https://www.baldengineer.com/wp-content/uploads/2011/01/eca9168a883497e1bb33bd3a47ba1baa-300x197-150x150.png 150w" data-was-processed="true" width="35" height="35"><noscript><img width="35" height="35" src="https://www.baldengineer.com/wp-content/uploads/2011/01/eca9168a883497e1bb33bd3a47ba1baa-300x197-35x35.png" class="attachment-35x35 size-35x35 wp-post-image" alt="" srcset="https://www.baldengineer.com/wp-content/uploads/2011/01/eca9168a883497e1bb33bd3a47ba1baa-300x197-35x35.png 35w, https://www.baldengineer.com/wp-content/uploads/2011/01/eca9168a883497e1bb33bd3a47ba1baa-300x197-150x150.png 150w" sizes="(max-width: 35px) 100vw, 35px" /></noscript><a href="https://www.baldengineer.com/millis-tutorial.html" title="millis() Tutorial: Arduino Multitasking">millis() Tutorial: Arduino Multitasking</a></li><li><img src="MQTT%20Tutorial%20for%20Raspberry%20Pi,%20Arduino,%20and%20ESP8266%20-%20Bald%20Engineer_files/youtube-_zYF9EcAwRg-35x35.jpg" data-lazy-src="https://www.baldengineer.com/wp-content/uploads/2012/01/youtube-_zYF9EcAwRg-35x35.jpg" class="attachment-35x35 size-35x35 wp-post-image lazyloaded" alt="" data-lazy-srcset="https://www.baldengineer.com/wp-content/uploads/2012/01/youtube-_zYF9EcAwRg-35x35.jpg 35w, https://www.baldengineer.com/wp-content/uploads/2012/01/youtube-_zYF9EcAwRg-150x150.jpg 150w" data-lazy-sizes="(max-width: 35px) 100vw, 35px" sizes="(max-width: 35px) 100vw, 35px" srcset="https://www.baldengineer.com/wp-content/uploads/2012/01/youtube-_zYF9EcAwRg-35x35.jpg 35w, https://www.baldengineer.com/wp-content/uploads/2012/01/youtube-_zYF9EcAwRg-150x150.jpg 150w" data-was-processed="true" width="35" height="35"><noscript><img width="35" height="35" src="https://www.baldengineer.com/wp-content/uploads/2012/01/youtube-_zYF9EcAwRg-35x35.jpg" class="attachment-35x35 size-35x35 wp-post-image" alt="" srcset="https://www.baldengineer.com/wp-content/uploads/2012/01/youtube-_zYF9EcAwRg-35x35.jpg 35w, https://www.baldengineer.com/wp-content/uploads/2012/01/youtube-_zYF9EcAwRg-150x150.jpg 150w" sizes="(max-width: 35px) 100vw, 35px" /></noscript><a href="https://www.baldengineer.com/msgeq7-simple-spectrum-analyzer.html" title="MSGEQ7 Simple Spectrum Analyzer">MSGEQ7 Simple Spectrum Analyzer</a></li><li><img src="MQTT%20Tutorial%20for%20Raspberry%20Pi,%20Arduino,%20and%20ESP8266%20-%20Bald%20Engineer_files/stopwatch_000018042439-35x35.jpg" data-lazy-src="https://www.baldengineer.com/wp-content/uploads/2012/07/stopwatch_000018042439-35x35.jpg" class="attachment-35x35 size-35x35 wp-post-image lazyloaded" alt="" data-lazy-srcset="https://www.baldengineer.com/wp-content/uploads/2012/07/stopwatch_000018042439-35x35.jpg 35w, https://www.baldengineer.com/wp-content/uploads/2012/07/stopwatch_000018042439-150x150.jpg 150w, https://www.baldengineer.com/wp-content/uploads/2012/07/stopwatch_000018042439-300x300.jpg 300w, https://www.baldengineer.com/wp-content/uploads/2012/07/stopwatch_000018042439-82x82.jpg 82w, https://www.baldengineer.com/wp-content/uploads/2012/07/stopwatch_000018042439.jpg 347w" data-lazy-sizes="(max-width: 35px) 100vw, 35px" sizes="(max-width: 35px) 100vw, 35px" srcset="https://www.baldengineer.com/wp-content/uploads/2012/07/stopwatch_000018042439-35x35.jpg 35w, https://www.baldengineer.com/wp-content/uploads/2012/07/stopwatch_000018042439-150x150.jpg 150w, https://www.baldengineer.com/wp-content/uploads/2012/07/stopwatch_000018042439-300x300.jpg 300w, https://www.baldengineer.com/wp-content/uploads/2012/07/stopwatch_000018042439-82x82.jpg 82w, https://www.baldengineer.com/wp-content/uploads/2012/07/stopwatch_000018042439.jpg 347w" data-was-processed="true" width="35" height="35"><noscript><img width="35" height="35" src="https://www.baldengineer.com/wp-content/uploads/2012/07/stopwatch_000018042439-35x35.jpg" class="attachment-35x35 size-35x35 wp-post-image" alt="" srcset="https://www.baldengineer.com/wp-content/uploads/2012/07/stopwatch_000018042439-35x35.jpg 35w, https://www.baldengineer.com/wp-content/uploads/2012/07/stopwatch_000018042439-150x150.jpg 150w, https://www.baldengineer.com/wp-content/uploads/2012/07/stopwatch_000018042439-300x300.jpg 300w, https://www.baldengineer.com/wp-content/uploads/2012/07/stopwatch_000018042439-82x82.jpg 82w, https://www.baldengineer.com/wp-content/uploads/2012/07/stopwatch_000018042439.jpg 347w" sizes="(max-width: 35px) 100vw, 35px" /></noscript><a href="https://www.baldengineer.com/arduino-how-do-you-reset-millis.html" title="Arduino:  How do you reset millis() ?">Arduino:  How do you reset millis() ?</a></li><li><img src="MQTT%20Tutorial%20for%20Raspberry%20Pi,%20Arduino,%20and%20ESP8266%20-%20Bald%20Engineer_files/arduino_myths_banner-35x35.png" data-lazy-src="https://www.baldengineer.com/wp-content/uploads/2012/09/arduino_myths_banner-35x35.png" class="attachment-35x35 size-35x35 wp-post-image lazyloaded" alt="" data-lazy-srcset="https://www.baldengineer.com/wp-content/uploads/2012/09/arduino_myths_banner-35x35.png 35w, https://www.baldengineer.com/wp-content/uploads/2012/09/arduino_myths_banner-150x150.png 150w" data-lazy-sizes="(max-width: 35px) 100vw, 35px" sizes="(max-width: 35px) 100vw, 35px" srcset="https://www.baldengineer.com/wp-content/uploads/2012/09/arduino_myths_banner-35x35.png 35w, https://www.baldengineer.com/wp-content/uploads/2012/09/arduino_myths_banner-150x150.png 150w" data-was-processed="true" width="35" height="35"><noscript><img width="35" height="35" src="https://www.baldengineer.com/wp-content/uploads/2012/09/arduino_myths_banner-35x35.png" class="attachment-35x35 size-35x35 wp-post-image" alt="" srcset="https://www.baldengineer.com/wp-content/uploads/2012/09/arduino_myths_banner-35x35.png 35w, https://www.baldengineer.com/wp-content/uploads/2012/09/arduino_myths_banner-150x150.png 150w" sizes="(max-width: 35px) 100vw, 35px" /></noscript><a href="https://www.baldengineer.com/5-arduino-myths.html" title="5 Myths Everyone Believes about Arduino (that aren't true)">5 Myths Everyone Believes about Arduino (that aren't true)</a></li><li><a href="https://www.baldengineer.com/arduino-millis-examples.html" title="Arduino Millis() Examples">Arduino Millis() Examples</a></li><li><img src="MQTT%20Tutorial%20for%20Raspberry%20Pi,%20Arduino,%20and%20ESP8266%20-%20Bald%20Engineer_files/mailbag-pchannel-mosfet-with-positive-voltage-banner-copy-35.png" data-lazy-src="https://www.baldengineer.com/wp-content/uploads/2015/07/mailbag-pchannel-mosfet-with-positive-voltage-banner-copy-35x35.png" class="attachment-35x35 size-35x35 wp-post-image lazyloaded" alt="Positive Voltages with a P-Channel MOSFET Tutorial" data-lazy-srcset="https://www.baldengineer.com/wp-content/uploads/2015/07/mailbag-pchannel-mosfet-with-positive-voltage-banner-copy-35x35.png 35w, https://www.baldengineer.com/wp-content/uploads/2015/07/mailbag-pchannel-mosfet-with-positive-voltage-banner-copy-150x150.png 150w" data-lazy-sizes="(max-width: 35px) 100vw, 35px" sizes="(max-width: 35px) 100vw, 35px" srcset="https://www.baldengineer.com/wp-content/uploads/2015/07/mailbag-pchannel-mosfet-with-positive-voltage-banner-copy-35x35.png 35w, https://www.baldengineer.com/wp-content/uploads/2015/07/mailbag-pchannel-mosfet-with-positive-voltage-banner-copy-150x150.png 150w" data-was-processed="true" width="35" height="35"><noscript><img width="35" height="35" src="https://www.baldengineer.com/wp-content/uploads/2015/07/mailbag-pchannel-mosfet-with-positive-voltage-banner-copy-35x35.png" class="attachment-35x35 size-35x35 wp-post-image" alt="Positive Voltages with a P-Channel MOSFET Tutorial" srcset="https://www.baldengineer.com/wp-content/uploads/2015/07/mailbag-pchannel-mosfet-with-positive-voltage-banner-copy-35x35.png 35w, https://www.baldengineer.com/wp-content/uploads/2015/07/mailbag-pchannel-mosfet-with-positive-voltage-banner-copy-150x150.png 150w" sizes="(max-width: 35px) 100vw, 35px" /></noscript><a href="https://www.baldengineer.com/p-channel-mosfet-tutorial-with-only-positive-voltages.html" title="P-Channel MOSFET Tutorial with only Positive Voltages">P-Channel MOSFET Tutorial with only Positive Voltages</a></li><li><img src="MQTT%20Tutorial%20for%20Raspberry%20Pi,%20Arduino,%20and%20ESP8266%20-%20Bald%20Engineer_files/4-transistor-banner-35x35.png" data-lazy-src="https://www.baldengineer.com/wp-content/uploads/2012/09/4-transistor-banner-35x35.png" class="attachment-35x35 size-35x35 wp-post-image lazyloaded" alt="" data-lazy-srcset="https://www.baldengineer.com/wp-content/uploads/2012/09/4-transistor-banner-35x35.png 35w, https://www.baldengineer.com/wp-content/uploads/2012/09/4-transistor-banner-150x150.png 150w" data-lazy-sizes="(max-width: 35px) 100vw, 35px" sizes="(max-width: 35px) 100vw, 35px" srcset="https://www.baldengineer.com/wp-content/uploads/2012/09/4-transistor-banner-35x35.png 35w, https://www.baldengineer.com/wp-content/uploads/2012/09/4-transistor-banner-150x150.png 150w" data-was-processed="true" width="35" height="35"><noscript><img width="35" height="35" src="https://www.baldengineer.com/wp-content/uploads/2012/09/4-transistor-banner-35x35.png" class="attachment-35x35 size-35x35 wp-post-image" alt="" srcset="https://www.baldengineer.com/wp-content/uploads/2012/09/4-transistor-banner-35x35.png 35w, https://www.baldengineer.com/wp-content/uploads/2012/09/4-transistor-banner-150x150.png 150w" sizes="(max-width: 35px) 100vw, 35px" /></noscript><a href="https://www.baldengineer.com/the-best-4-transistors-to-keep-in-your-parts-kit.html" title="The best 4 transistors to keep in your parts kit">The best 4 transistors to keep in your parts kit</a></li><li><img src="MQTT%20Tutorial%20for%20Raspberry%20Pi,%20Arduino,%20and%20ESP8266%20-%20Bald%20Engineer_files/raspberry-pi-gui-tutorial-hero-v3-35x35.jpg" data-lazy-src="https://www.baldengineer.com/wp-content/uploads/2016/02/raspberry-pi-gui-tutorial-hero-v3-35x35.jpg" class="attachment-35x35 size-35x35 wp-post-image lazyloaded" alt="Raspberry Pi GUI Tutorial" data-lazy-srcset="https://www.baldengineer.com/wp-content/uploads/2016/02/raspberry-pi-gui-tutorial-hero-v3-35x35.jpg 35w, https://www.baldengineer.com/wp-content/uploads/2016/02/raspberry-pi-gui-tutorial-hero-v3-150x150.jpg 150w" data-lazy-sizes="(max-width: 35px) 100vw, 35px" sizes="(max-width: 35px) 100vw, 35px" srcset="https://www.baldengineer.com/wp-content/uploads/2016/02/raspberry-pi-gui-tutorial-hero-v3-35x35.jpg 35w, https://www.baldengineer.com/wp-content/uploads/2016/02/raspberry-pi-gui-tutorial-hero-v3-150x150.jpg 150w" data-was-processed="true" width="35" height="35"><noscript><img width="35" height="35" src="https://www.baldengineer.com/wp-content/uploads/2016/02/raspberry-pi-gui-tutorial-hero-v3-35x35.jpg" class="attachment-35x35 size-35x35 wp-post-image" alt="Raspberry Pi GUI Tutorial" srcset="https://www.baldengineer.com/wp-content/uploads/2016/02/raspberry-pi-gui-tutorial-hero-v3-35x35.jpg 35w, https://www.baldengineer.com/wp-content/uploads/2016/02/raspberry-pi-gui-tutorial-hero-v3-150x150.jpg 150w" sizes="(max-width: 35px) 100vw, 35px" /></noscript><a href="https://www.baldengineer.com/raspberry-pi-gui-tutorial.html" title="Raspberry Pi GUI Tutorial">Raspberry Pi GUI Tutorial</a></li><li><img src="MQTT%20Tutorial%20for%20Raspberry%20Pi,%20Arduino,%20and%20ESP8266%20-%20Bald%20Engineer_files/Serial-Monitor-123-35x35.png" data-lazy-src="https://www.baldengineer.com/wp-content/uploads/2012/07/Serial-Monitor-123-35x35.png" class="attachment-35x35 size-35x35 wp-post-image lazyloaded" alt="Arduino's Basic Serial Monitor" data-lazy-srcset="https://www.baldengineer.com/wp-content/uploads/2012/07/Serial-Monitor-123-35x35.png 35w, https://www.baldengineer.com/wp-content/uploads/2012/07/Serial-Monitor-123-150x150.png 150w" data-lazy-sizes="(max-width: 35px) 100vw, 35px" sizes="(max-width: 35px) 100vw, 35px" srcset="https://www.baldengineer.com/wp-content/uploads/2012/07/Serial-Monitor-123-35x35.png 35w, https://www.baldengineer.com/wp-content/uploads/2012/07/Serial-Monitor-123-150x150.png 150w" data-was-processed="true" width="35" height="35"><noscript><img width="35" height="35" src="https://www.baldengineer.com/wp-content/uploads/2012/07/Serial-Monitor-123-35x35.png" class="attachment-35x35 size-35x35 wp-post-image" alt="Arduino&#039;s Basic Serial Monitor" srcset="https://www.baldengineer.com/wp-content/uploads/2012/07/Serial-Monitor-123-35x35.png 35w, https://www.baldengineer.com/wp-content/uploads/2012/07/Serial-Monitor-123-150x150.png 150w" sizes="(max-width: 35px) 100vw, 35px" /></noscript><a href="https://www.baldengineer.com/arduino-multi-digit-integers.html" title="Arduino:  Sending and Receiving Multi-Digit Integers">Arduino:  Sending and Receiving Multi-Digit Integers</a></li></ul></div></aside><div id="widget_getnoticed_subscribe_placeholder"></div><aside id="widget_getnoticed_subscribe-3" class="widget widget_getnoticed_subscribe simplewidget title-ribbon hasimage has4 widget_flat"><h3 class="widget-title"><span class="title" style="background-color:#a4c2dc;color:#FFFFFF">Free eBook: On my Bench</span><i class="bannerL" style="border-bottom-color:#93b2c4;border-top-color:#93b2c4"></i><i class="bannerR" style="border-bottom-color:#93b2c4;border-top-color:#93b2c4"></i></h3><div class="content" style="background-color:#1e415b;color:#ffffff"><style type="text/css">#widget_getnoticed_subscribe-3 .submit,#widget_getnoticed_subscribe-3 input[type="submit"],#widget_getnoticed_subscribe-3 input[type="button"]{background:#f68b1e;color:#fff}#widget_getnoticed_subscribe-3 .submit:hover,#widget_getnoticed_subscribe-3 input[type="submit"]:hover,#widget_getnoticed_subscribe-3 input[type="button"]:hover{background:#c1670d;color:#d8d8d8}</style><img src="MQTT%20Tutorial%20for%20Raspberry%20Pi,%20Arduino,%20and%20ESP8266%20-%20Bald%20Engineer_files/Inside2015-e1435530257286.png" alt="" class="lazyloading" data-was-processed="true"><div class="formwrap"><p>Get a FREE copy of my "On my bench" eBook when you sign-up to receive my weekly posts via email.</p><p class="extra">(Your e-mail address will not be shared with anyone else.)</p><div id="mc_embed_signup"><form action="//baldengineer.us3.list-manage.com/subscribe/post?u=1cf10832ce7eaaad9612a27fd&amp;id=ab8fc179c9" method="post" id="mc-embedded-subscribe-form" name="mc-embedded-subscribe-form" class="validate" target="_blank" novalidate=""><div id="mc_embed_signup_scroll"><div class="mc-field-group"> <label for="mce-EMAIL">Email Address <span class="asterisk">*</span> </label> <input name="EMAIL" class="required email" id="mce-EMAIL" type="email"></div><div class="mc-field-group"> <label for="mce-FNAME">First Name </label> <input name="FNAME" class="" id="mce-FNAME" type="text"></div><div class="mc-field-group"> <label for="mce-LNAME">Last Name </label> <input name="LNAME" class="" id="mce-LNAME" type="text"></div><div class="indicates-required"><span class="asterisk">*</span> indicates required</div><div id="mce-responses" class="clear"><div class="response" id="mce-error-response" style="display:none"></div><div class="response" id="mce-success-response" style="display:none"></div></div><div style="position: absolute; left: -5000px;"><input name="b_1cf10832ce7eaaad9612a27fd_ab8fc179c9" tabindex="-1" type="text"></div><div class="clear"><input value="Subscribe" name="subscribe" id="mc-embedded-subscribe" class="button" type="submit"></div></div></form></div></div></div></aside><aside id="getnoticed_sociallist-2" class="widget widget_getnoticed_sociallist"><h3 class="widget-title">Follow James</h3><div class="widget_sociallist"><ul><li><a class="twitter" href="http://twitter.com/baldengineer" onclick="_gaq.push(['_trackPageview', '/outbound/twitter/sociallist/']);" target="_blank"><i></i>Follow me on Twitter</a></li><li><a class="facebook" href="http://www.facebook.com/baldengineer" onclick="_gaq.push(['_trackPageview', '/outbound/facebook/sociallist/']);" target="_blank"><i></i>Like me on Facebook</a></li><li><a class="linkedin" href="http://www.linkedin.com/in/jamesclewis" onclick="_gaq.push(['_trackPageview', '/outbound/linkedin/sociallist/']);" target="_blank"><i></i>Connect with me on LinkedIn</a></li><li><a class="googleplus" href="http://plus.google.com/+JamesLewis_the_baldengineer/" onclick="_gaq.push(['_trackPageview', '/outbound/googleplus/sociallist/']);" rel="publisher" target="_blank"><i></i>Add me on Google+</a></li><li><a class="instagram" href="http://instagram.com/baldengineer" onclick="_gaq.push(['_trackPageview', '/outbound/instagram/sociallist/']);" target="_blank"><i></i>Follow me on Instagram</a></li><li><a class="youtube" href="http://www.youtube.com/AddOhms" onclick="_gaq.push(['_trackPageview', '/outbound/youtube/sociallist/']);" target="_blank"><i></i>Check out my YouTube channel</a></li><li><a class="rssfeed" href="https://www.baldengineer.com/feed" onclick="_gaq.push(['_trackPageview', '/outbound/rssfeed/sociallist/']);" target="_blank"><i></i>Subscribe to my RSS Feed</a></li></ul></div></aside><aside id="getnoticed_popularposts-3" class="widget widget_getnoticed_popularposts"><h3 class="widget-title">Most Recent Posts</h3><div class="widget-content"><ul><li><img src="MQTT%20Tutorial%20for%20Raspberry%20Pi,%20Arduino,%20and%20ESP8266%20-%20Bald%20Engineer_files/Penguin-Bot-Header-1960px-35x35.jpg" data-lazy-src="https://www.baldengineer.com/wp-content/uploads/2018/09/Penguin-Bot-Header-1960px-35x35.jpg" class="attachment-35x35 size-35x35 wp-post-image lazyloaded" alt="Penguin Bot Black Red and Clear" data-lazy-srcset="https://www.baldengineer.com/wp-content/uploads/2018/09/Penguin-Bot-Header-1960px-35x35.jpg 35w, https://www.baldengineer.com/wp-content/uploads/2018/09/Penguin-Bot-Header-1960px-150x150.jpg 150w" data-lazy-sizes="(max-width: 35px) 100vw, 35px" sizes="(max-width: 35px) 100vw, 35px" srcset="https://www.baldengineer.com/wp-content/uploads/2018/09/Penguin-Bot-Header-1960px-35x35.jpg 35w, https://www.baldengineer.com/wp-content/uploads/2018/09/Penguin-Bot-Header-1960px-150x150.jpg 150w" data-was-processed="true" width="35" height="35"><noscript><img width="35" height="35" src="https://www.baldengineer.com/wp-content/uploads/2018/09/Penguin-Bot-Header-1960px-35x35.jpg" class="attachment-35x35 size-35x35 wp-post-image" alt="Penguin Bot Black Red and Clear" srcset="https://www.baldengineer.com/wp-content/uploads/2018/09/Penguin-Bot-Header-1960px-35x35.jpg 35w, https://www.baldengineer.com/wp-content/uploads/2018/09/Penguin-Bot-Header-1960px-150x150.jpg 150w" sizes="(max-width: 35px) 100vw, 35px" /></noscript><a href="https://www.baldengineer.com/penguin-bot-from-elegoo-hands-on-review-of-the-kit-build.html" title="Penguin Bot from elegoo hands-on review of the kit build">Penguin Bot from elegoo hands-on review of the kit build</a></li><li><img src="MQTT%20Tutorial%20for%20Raspberry%20Pi,%20Arduino,%20and%20ESP8266%20-%20Bald%20Engineer_files/Arduino-MKR-Vidor-4000-Blue-Background-1960-35x35.jpg" data-lazy-src="https://www.baldengineer.com/wp-content/uploads/2018/08/Arduino-MKR-Vidor-4000-Blue-Background-1960-35x35.jpg" class="attachment-35x35 size-35x35 wp-post-image lazyloaded" alt="Arduino MKR Vidor 4000 - Blue" data-lazy-srcset="https://www.baldengineer.com/wp-content/uploads/2018/08/Arduino-MKR-Vidor-4000-Blue-Background-1960-35x35.jpg 35w, https://www.baldengineer.com/wp-content/uploads/2018/08/Arduino-MKR-Vidor-4000-Blue-Background-1960-150x150.jpg 150w" data-lazy-sizes="(max-width: 35px) 100vw, 35px" sizes="(max-width: 35px) 100vw, 35px" srcset="https://www.baldengineer.com/wp-content/uploads/2018/08/Arduino-MKR-Vidor-4000-Blue-Background-1960-35x35.jpg 35w, https://www.baldengineer.com/wp-content/uploads/2018/08/Arduino-MKR-Vidor-4000-Blue-Background-1960-150x150.jpg 150w" data-was-processed="true" width="35" height="35"><noscript><img width="35" height="35" src="https://www.baldengineer.com/wp-content/uploads/2018/08/Arduino-MKR-Vidor-4000-Blue-Background-1960-35x35.jpg" class="attachment-35x35 size-35x35 wp-post-image" alt="Arduino MKR Vidor 4000 - Blue" srcset="https://www.baldengineer.com/wp-content/uploads/2018/08/Arduino-MKR-Vidor-4000-Blue-Background-1960-35x35.jpg 35w, https://www.baldengineer.com/wp-content/uploads/2018/08/Arduino-MKR-Vidor-4000-Blue-Background-1960-150x150.jpg 150w" sizes="(max-width: 35px) 100vw, 35px" /></noscript><a href="https://www.baldengineer.com/arduino-mkr-vidor-4000-hands-on.html" title="Arduino MKR Vidor 4000 Hands-On">Arduino MKR Vidor 4000 Hands-On</a></li><li><img src="MQTT%20Tutorial%20for%20Raspberry%20Pi,%20Arduino,%20and%20ESP8266%20-%20Bald%20Engineer_files/Arduino-Math-Chalkboard-1960px-v2-35x35.jpg" data-lazy-src="https://www.baldengineer.com/wp-content/uploads/2018/07/Arduino-Math-Chalkboard-1960px-v2-35x35.jpg" class="attachment-35x35 size-35x35 wp-post-image lazyloaded" alt="Arduino Math" data-lazy-srcset="https://www.baldengineer.com/wp-content/uploads/2018/07/Arduino-Math-Chalkboard-1960px-v2-35x35.jpg 35w, https://www.baldengineer.com/wp-content/uploads/2018/07/Arduino-Math-Chalkboard-1960px-v2-150x150.jpg 150w" data-lazy-sizes="(max-width: 35px) 100vw, 35px" sizes="(max-width: 35px) 100vw, 35px" srcset="https://www.baldengineer.com/wp-content/uploads/2018/07/Arduino-Math-Chalkboard-1960px-v2-35x35.jpg 35w, https://www.baldengineer.com/wp-content/uploads/2018/07/Arduino-Math-Chalkboard-1960px-v2-150x150.jpg 150w" data-was-processed="true" width="35" height="35"><noscript><img width="35" height="35" src="https://www.baldengineer.com/wp-content/uploads/2018/07/Arduino-Math-Chalkboard-1960px-v2-35x35.jpg" class="attachment-35x35 size-35x35 wp-post-image" alt="Arduino Math" srcset="https://www.baldengineer.com/wp-content/uploads/2018/07/Arduino-Math-Chalkboard-1960px-v2-35x35.jpg 35w, https://www.baldengineer.com/wp-content/uploads/2018/07/Arduino-Math-Chalkboard-1960px-v2-150x150.jpg 150w" sizes="(max-width: 35px) 100vw, 35px" /></noscript><a href="https://www.baldengineer.com/arduino-math-fixes.html" title="Five Arduino math fixes for when it is wrong">Five Arduino math fixes for when it is wrong</a></li><li><img src="MQTT%20Tutorial%20for%20Raspberry%20Pi,%20Arduino,%20and%20ESP8266%20-%20Bald%20Engineer_files/Arduino-EEPROM-Hero-1600px-35x35.jpg" data-lazy-src="https://www.baldengineer.com/wp-content/uploads/2018/06/Arduino-EEPROM-Hero-1600px-35x35.jpg" class="attachment-35x35 size-35x35 wp-post-image lazyloaded" alt="Arduino EEPROM Hero 1600px" data-lazy-srcset="https://www.baldengineer.com/wp-content/uploads/2018/06/Arduino-EEPROM-Hero-1600px-35x35.jpg 35w, https://www.baldengineer.com/wp-content/uploads/2018/06/Arduino-EEPROM-Hero-1600px-150x150.jpg 150w" data-lazy-sizes="(max-width: 35px) 100vw, 35px" sizes="(max-width: 35px) 100vw, 35px" srcset="https://www.baldengineer.com/wp-content/uploads/2018/06/Arduino-EEPROM-Hero-1600px-35x35.jpg 35w, https://www.baldengineer.com/wp-content/uploads/2018/06/Arduino-EEPROM-Hero-1600px-150x150.jpg 150w" data-was-processed="true" width="35" height="35"><noscript><img width="35" height="35" src="https://www.baldengineer.com/wp-content/uploads/2018/06/Arduino-EEPROM-Hero-1600px-35x35.jpg" class="attachment-35x35 size-35x35 wp-post-image" alt="Arduino EEPROM Hero 1600px" srcset="https://www.baldengineer.com/wp-content/uploads/2018/06/Arduino-EEPROM-Hero-1600px-35x35.jpg 35w, https://www.baldengineer.com/wp-content/uploads/2018/06/Arduino-EEPROM-Hero-1600px-150x150.jpg 150w" sizes="(max-width: 35px) 100vw, 35px" /></noscript><a href="https://www.baldengineer.com/arduino-eeprom-stores-any-datatype.html" title="Arduino EEPROM stores any datatype">Arduino EEPROM stores any datatype</a></li><li><img src="MQTT%20Tutorial%20for%20Raspberry%20Pi,%20Arduino,%20and%20ESP8266%20-%20Bald%20Engineer_files/Oscilloscope-Measurements-with-RTM3004-Alternative-35x35.jpg" data-lazy-src="https://www.baldengineer.com/wp-content/uploads/2018/06/Oscilloscope-Measurements-with-RTM3004-Alternative-35x35.jpg" class="attachment-35x35 size-35x35 wp-post-image lazyloaded" alt="Oscilloscope Measurements with RTM3004 Alternative" data-lazy-srcset="https://www.baldengineer.com/wp-content/uploads/2018/06/Oscilloscope-Measurements-with-RTM3004-Alternative-35x35.jpg 35w, https://www.baldengineer.com/wp-content/uploads/2018/06/Oscilloscope-Measurements-with-RTM3004-Alternative-150x150.jpg 150w" data-lazy-sizes="(max-width: 35px) 100vw, 35px" sizes="(max-width: 35px) 100vw, 35px" srcset="https://www.baldengineer.com/wp-content/uploads/2018/06/Oscilloscope-Measurements-with-RTM3004-Alternative-35x35.jpg 35w, https://www.baldengineer.com/wp-content/uploads/2018/06/Oscilloscope-Measurements-with-RTM3004-Alternative-150x150.jpg 150w" data-was-processed="true" width="35" height="35"><noscript><img width="35" height="35" src="https://www.baldengineer.com/wp-content/uploads/2018/06/Oscilloscope-Measurements-with-RTM3004-Alternative-35x35.jpg" class="attachment-35x35 size-35x35 wp-post-image" alt="Oscilloscope Measurements with RTM3004 Alternative" srcset="https://www.baldengineer.com/wp-content/uploads/2018/06/Oscilloscope-Measurements-with-RTM3004-Alternative-35x35.jpg 35w, https://www.baldengineer.com/wp-content/uploads/2018/06/Oscilloscope-Measurements-with-RTM3004-Alternative-150x150.jpg 150w" sizes="(max-width: 35px) 100vw, 35px" /></noscript><a href="https://www.baldengineer.com/six-oscilloscope-measurements-using-arduino.html" title="Learn Six Oscilloscope Measurements with an Arduino DUT">Learn Six Oscilloscope Measurements with an Arduino DUT</a></li></ul></div></aside><aside id="getnoticed_advancedtext-15" class="widget widget_getnoticed_advancedtext"><div class="textwidget"><div class="abaldee-single abaldee-22"><script type="text/javascript">amzn_assoc_placement = "adunit0";
amzn_assoc_search_bar = "false";
amzn_assoc_tracking_id = "baldengineer-20";
amzn_assoc_ad_mode = "manual";
amzn_assoc_ad_type = "smart";
amzn_assoc_marketplace = "amazon";
amzn_assoc_region = "US";
amzn_assoc_title = "My Amazon Picks";
amzn_assoc_linkid = "c8a81c952ed147d60670c52fd135806b";
amzn_assoc_asins = "B00R3QWEAS,B01NCRYHDL,B074XMF9W7,B07BC7BMHY,B073JYVKNX,B000OCFFMW";</script> <script src="MQTT%20Tutorial%20for%20Raspberry%20Pi,%20Arduino,%20and%20ESP8266%20-%20Bald%20Engineer_files/onejs.js"></script></div></div></aside><aside id="getnoticed_advancedtext-6" class="widget widget_getnoticed_advancedtext simplewidget autocenterwidget"><div class="textwidget"><div class="abaldee-single abaldee-21"><script async="" src="MQTT%20Tutorial%20for%20Raspberry%20Pi,%20Arduino,%20and%20ESP8266%20-%20Bald%20Engineer_files/adsbygoogle.js"></script>  <ins class="adsbygoogle" style="display:inline-block;width:300px;height:250px" data-ad-client="ca-pub-3593131912552991" data-ad-slot="6377077856"></ins> <script>(adsbygoogle = window.adsbygoogle || []).push({});</script></div></div></aside></div></div></div><div id="footer" class="site-footer"><div class="innerwrap"><div id="first" class="widget-area" role="complementary"><aside id="getnoticed_advancedtext-3" class="widget widget_getnoticed_advancedtext"><h3 class="widget-title">About Me</h3><div class="textwidget"><img src="data:image/gif;base64,R0lGODdhAQABAPAAAP///wAAACwAAAAAAQABAEACAkQBADs=" data-lazy-src="/wp-content/uploads/2014/12/James-on-White-Looking-Up-Headshot-87.jpg" style="float: left; margin: 10px;"><noscript><img src="/wp-content/uploads/2014/12/James-on-White-Looking-Up-Headshot-87.jpg" style="float: left; margin: 10px;"></noscript><p during="" the="" day="" i="" am="" capacitor="" expert.="" at="" night,="" an="" engineered="" who="" loves="" to="" make="" things="" beep,="" blink,="" and="" fly.=""></p><p>My passion for teaching non-engineers has led to the <a href="https://www.baldengineer.com/">Baldengineer Blog</a> and my video tutorials <a href="http://www.addohms.com/">AddOhms</a>.</p><p>With
 15 years of experience in electronics, marketing, sales, and teaching I
 boil seemingly difficult concepts down to the core, so that anyone can 
learn what they need to finish that next great project.</p>  <script type="text/javascript" async="">;(function(o,l,a,r,k,y){if(o.olark)return;
r="script";y=l.createElement(r);r=l.getElementsByTagName(r)[0];
y.async=1;y.src="//"+a;r.parentNode.insertBefore(y,r);
y=o.olark=function(){k.s.push(arguments);k.t.push(+new Date)};
y.extend=function(i,j){y("extend",i,j)};
y.identify=function(i){y("identify",k.i=i)};
y.configure=function(i,j){y("configure",i,j);k.c[i]=j};
k=y._={s:[],t:[+new Date],c:{},l:a};
})(window,document,"static.olark.com/jsclient/loader.js");
/* Add configuration calls below this comment */
olark.identify('3457-836-10-8592');</script> </div><div class="widget-more"><a href="https://www.baldengineer.com/about">Learn More About Me</a></div></aside></div><div id="second" class="widget-area" role="complementary"><aside id="widget_getnoticed_subscribe-6" class="widget widget_getnoticed_subscribe simplewidget title-ribbon has4 widget_flat"><h3 class="widget-title"><span class="title" style="background-color:#a4c2dc;color:#FFFFFF">Join Newsletter</span><i class="bannerL" style="border-bottom-color:#93b2c4;border-top-color:#93b2c4"></i><i class="bannerR" style="border-bottom-color:#93b2c4;border-top-color:#93b2c4"></i></h3><div class="content" style="background-color:#1e415b;color:#ffffff"><style type="text/css">#widget_getnoticed_subscribe-6 .submit,#widget_getnoticed_subscribe-6 input[type="submit"],#widget_getnoticed_subscribe-6 input[type="button"]{background:#f68b1e;color:#fff}#widget_getnoticed_subscribe-6 .submit:hover,#widget_getnoticed_subscribe-6 input[type="submit"]:hover,#widget_getnoticed_subscribe-6 input[type="button"]:hover{background:#c1670d;color:#d8d8d8}</style><div class="formwrap"><p>Sign up to receive my blog posts via e-mail and get a FREE copy of my e-book on the tools I use.</p><p class="extra">(Your email won't be shared with anyone else.)</p><div id="mc_embed_signup"><form action="//baldengineer.us3.list-manage.com/subscribe/post?u=1cf10832ce7eaaad9612a27fd&amp;id=ab8fc179c9" method="post" id="mc-embedded-subscribe-form" name="mc-embedded-subscribe-form" class="validate" target="_blank" novalidate=""><div id="mc_embed_signup_scroll"><div class="indicates-required"><span class="asterisk">*</span> indicates required</div><div class="mc-field-group"> <label for="mce-EMAIL">Email Address <span class="asterisk">*</span> </label> <input name="EMAIL" class="required email" id="mce-EMAIL" type="email"></div><div class="mc-field-group"> <label for="mce-FNAME">First Name </label> <input name="FNAME" class="" id="mce-FNAME" type="text"></div><p><a href="http://us3.campaign-archive2.com/home/?u=1cf10832ce7eaaad9612a27fd&amp;id=ab8fc179c9" title="View previous emails">View previous emails.</a></p><div id="mce-responses" class="clear"><div class="response" id="mce-error-response" style="display:none"></div><div class="response" id="mce-success-response" style="display:none"></div></div><div style="position: absolute; left: -5000px;"><input name="b_1cf10832ce7eaaad9612a27fd_ab8fc179c9" tabindex="-1" type="text"></div><div class="clear"><input value="Subscribe" name="subscribe" id="mc-embedded-subscribe" class="button" type="submit"></div></div></form></div></div></div></aside></div><div id="third" class="widget-area" role="complementary"><aside id="getnoticed_advancedtext-4" class="widget widget_getnoticed_advancedtext"><h3 class="widget-title">Suggested Friends and Sites</h3><div class="textwidget">Here are a few sites, services, and people I suggest visiting and following<ul><li><a href="http://www.adafruit.com/">Adafruit</a> - Excellent products, service, and support.</li><li><a href="http://www.oshpark.com/">OSH Park</a> - Inexpensive batch PCB service</li><li><a href="http://www.seeedstudio.com/">Seeed Studio - Quality Asian supplier</a></li><li><a href="http://www.addohms.com/">AddOhms</a> - Video Tutorials (shameless plug!)</li><li><a href="http://lushprojects.com/circuitjs/">HTML5 Circuit Simulator</a></li></ul></div></aside></div></div></div><footer id="colophon" class="site-credits" role="contentinfo"><div class="innerwrap"><div class="site-info"> <span class="copyright">©2018 Baldengineer Productions, Inc.</span></div></div></footer></div></div><div style="display:none"><div class="grofile-hash-map-fd495861cd70febed5d0071383f6ea45"></div><div class="grofile-hash-map-0a1bd66a4cc97cbb242fb74d7aaf33ed"></div><div class="grofile-hash-map-812b03011aad0de7cece629e051ae83f"></div><div class="grofile-hash-map-a6d85e01dbed5baddd346917abcff784"></div><div class="grofile-hash-map-90b9af652292c747437c4f26f4af73b7"></div><div class="grofile-hash-map-269b5d12341ab63d1c6df841cff7633b"></div><div class="grofile-hash-map-fbad65843ec98de92e5f0b263e09be61"></div><div class="grofile-hash-map-d8afb6220f69b0256492296c2fde61d7"></div><div class="grofile-hash-map-6bc8ab1e9ca0a09c96e883bd703497e3"></div><div class="grofile-hash-map-f55c9049cf979d4434e1db33ea8925c7"></div><div class="grofile-hash-map-8b1e2278966a1e51ac070477892c6c18"></div><div class="grofile-hash-map-e32e80675275450d8f40a92f474037c4"></div><div class="grofile-hash-map-08b09605fd91adbaebc5c349b1f5a653"></div><div class="grofile-hash-map-3f9ee29bfdda773ec27bf9264b3f3b44"></div><div class="grofile-hash-map-f68dfba0fc8051a9856dd065ac2e45af"></div><div class="grofile-hash-map-4ad359972c0b3475c35dd93f1f8ff259"></div><div class="grofile-hash-map-f860c119b2f456da18e9ad82abe96aeb"></div><div class="grofile-hash-map-47796f55ef963ee798b3bfd727ec6c0d"></div><div class="grofile-hash-map-8d13d8d6fd1b0556669fe0d8fe1b8c99"></div><div class="grofile-hash-map-d31b8d31ac3ffd91d6c6605505413cf1"></div><div class="grofile-hash-map-9a7319758029c79c11942efca42eeb38"></div><div class="grofile-hash-map-10c3da57091d51297d4bd0154e2261fd"></div><div class="grofile-hash-map-69d12825ac5e31ec4ad297b7460a3299"></div><div class="grofile-hash-map-397172e90de124102b7166cc822e77ad"></div><div class="grofile-hash-map-c71cb713b310308ba5ff09e59cc781b0"></div><div class="grofile-hash-map-506cdad0669ba2807fb36c6808aecc09"></div><div class="grofile-hash-map-c39e89092a0c862625f74c7a51083d28"></div><div class="grofile-hash-map-a9699e114693b08628c2589f991adef8"></div><div class="grofile-hash-map-89c88d452df0467fd3779b62d51126bd"></div><div class="grofile-hash-map-c0971ca2aba840109dccee3dcec5b54c"></div><div class="grofile-hash-map-a629e0b42f9f061da0c7ff18e4c93ca2"></div><div class="grofile-hash-map-292bfdb9eac5a8fa4b3ed64831669acb"></div><div class="grofile-hash-map-744a1fe7684aa7380076f7b8b2f268b4"></div><div class="grofile-hash-map-5f4be81d91a14f85e79e76a08d422ea5"></div><div class="grofile-hash-map-83377cec7bc7122f9a68af04a2cc7169"></div><div class="grofile-hash-map-6641008b32b30a11c7e852e7b53b7e52"></div><div class="grofile-hash-map-6404ffa2fd2ed92cc1d09729d0f03f41"></div><div class="grofile-hash-map-79f11b5a784917a4516a5c20d286d666"></div><div class="grofile-hash-map-c26fdead8f0ef6a978c171dbb9f0b89e"></div><div class="grofile-hash-map-3f7ad9b14f2141680df04ed48ebe57d7"></div><div class="grofile-hash-map-84d7a42cbd292af48fbc538d2b2ab3e1"></div><div class="grofile-hash-map-d8fc51eafb98cf4ec826ae0c5c1047bc"></div><div class="grofile-hash-map-878f9214e0ca976f4dda535fad13fd40"></div><div class="grofile-hash-map-d58c8dc65c5ce4e30835d2e9337a431e"></div><div class="grofile-hash-map-047b14fe75de4228da4d2dc1317880e6"></div><div class="grofile-hash-map-c1184bc8e669efa59bce9c4611ae8e87"></div><div class="grofile-hash-map-3e549a53a368a83436b2dc275d7277e4"></div><div class="grofile-hash-map-f49db523d5a548276014bb5373117927"></div><div class="grofile-hash-map-4ba8cb94b4dbb8b5caffa6004fcccfb2"></div><div class="grofile-hash-map-4a2cd48b39f3c57c6349997b6a177200"></div><div class="grofile-hash-map-8ccd111970118c309f89c9ef1a33cc90"></div><div class="grofile-hash-map-b8cc60412a6a9cfb5ae49a7cb8090695"></div><div class="grofile-hash-map-6d39db42849e6d0ebf27138a0f37e288"></div><div class="grofile-hash-map-e69a9d375648a428311a815e7e38c507"></div><div class="grofile-hash-map-cf60dc8275ae44e52be4e0c5c1477499"></div><div class="grofile-hash-map-20e0a0e9fd141da4981622bb9dc73078"></div><div class="grofile-hash-map-9e43b37141a8d34b9c5a41f542fb6043"></div><div class="grofile-hash-map-61143c37fb7b345fc10d5e53a109a64e"></div><div class="grofile-hash-map-806f3947d30f6ef650e1a79019128da7"></div><div class="grofile-hash-map-426c94154a172e3f69be99d5f1a7e3a3"></div><div class="grofile-hash-map-b3b46c65ed65013013493c88df6fe4e4"></div><div class="grofile-hash-map-86ab824f600c372919c820cec2ff04dd"></div><div class="grofile-hash-map-8d5630babef8f8c8789eab4f4de0e76f"></div><div class="grofile-hash-map-846de5fa03a9e727a4472c753c95ac54"></div><div class="grofile-hash-map-cb6f31cb58ec1bf18c47b89258318d6b"></div><div class="grofile-hash-map-a32af0d906b4be052886d81748a6fac7"></div></div> <script>if (!navigator.userAgent || (
		(navigator.userAgent.indexOf("Speed Insights") == -1) &&
		(navigator.userAgent.indexOf("Googlebot") == -1)
	)) {(function(){
		var s = document.createElement('script'); s.type = 'text/javascript';
		s.async = true; s.src = 'https://www.baldengineer.com/wp-content/uploads/machete/cookies_3e03124b.js';
		var body = document.getElementsByTagName('body')[0];
		body.appendChild(s);
	})()}</script><script type="text/javascript" async="" src="MQTT%20Tutorial%20for%20Raspberry%20Pi,%20Arduino,%20and%20ESP8266%20-%20Bald%20Engineer_files/cookies_3e03124b.js"></script> <div id="om-cki5iupzhuhiiq6d-holder"></div><script>var cki5iupzhuhiiq6d,cki5iupzhuhiiq6d_poll=function(){var r=0;return function(n,l){clearInterval(r),r=setInterval(n,l)}}();!function(e,t,n){if(e.getElementById(n)){cki5iupzhuhiiq6d_poll(function(){if(window['om_loaded']){if(!cki5iupzhuhiiq6d){cki5iupzhuhiiq6d=new OptinMonsterApp();return cki5iupzhuhiiq6d.init({u:"1775.177613",staging:0});}}},25);return;}var d=false,o=e.createElement(t);o.id=n,o.src="//a.optinmonster.com/app/js/api.min.js",o.onload=o.onreadystatechange=function(){if(!d){if(!this.readyState||this.readyState==="loaded"||this.readyState==="complete"){try{d=om_loaded=true;cki5iupzhuhiiq6d=new OptinMonsterApp();cki5iupzhuhiiq6d.init({u:"1775.177613",staging:0});o.onload=o.onreadystatechange=null;}catch(t){}}}};(document.getElementsByTagName("head")[0]||document.documentElement).appendChild(o)}(document,"script","omapi-script");</script> <script type="text/javascript">var cki5iupzhuhiiq6d_shortcode = true;</script> <script type="text/javascript" src="MQTT%20Tutorial%20for%20Raspberry%20Pi,%20Arduino,%20and%20ESP8266%20-%20Bald%20Engineer_files/shCore.js"></script> <script type="text/javascript" src="MQTT%20Tutorial%20for%20Raspberry%20Pi,%20Arduino,%20and%20ESP8266%20-%20Bald%20Engineer_files/shBrushPlain.js"></script> <script type="text/javascript" src="MQTT%20Tutorial%20for%20Raspberry%20Pi,%20Arduino,%20and%20ESP8266%20-%20Bald%20Engineer_files/shBrushPython.js"></script> <script type="text/javascript" src="MQTT%20Tutorial%20for%20Raspberry%20Pi,%20Arduino,%20and%20ESP8266%20-%20Bald%20Engineer_files/shBrushArduino.js"></script> <script type="text/javascript">(function(){
		var corecss = document.createElement('link');
		var themecss = document.createElement('link');
		var corecssurl = "https://www.baldengineer.com/wp-content/plugins/syntaxhighlighter/syntaxhighlighter3/styles/shCore.css?ver=3.0.9b";
		if ( corecss.setAttribute ) {
				corecss.setAttribute( "rel", "stylesheet" );
				corecss.setAttribute( "type", "text/css" );
				corecss.setAttribute( "href", corecssurl );
		} else {
				corecss.rel = "stylesheet";
				corecss.href = corecssurl;
		}
		document.getElementsByTagName("head")[0].insertBefore( corecss, document.getElementById("syntaxhighlighteranchor") );
		var themecssurl = "https://www.baldengineer.com/wp-content/plugins/syntaxhighlighter/syntaxhighlighter3/styles/shThemeRDark.css?ver=3.0.9b";
		if ( themecss.setAttribute ) {
				themecss.setAttribute( "rel", "stylesheet" );
				themecss.setAttribute( "type", "text/css" );
				themecss.setAttribute( "href", themecssurl );
		} else {
				themecss.rel = "stylesheet";
				themecss.href = themecssurl;
		}
		//document.getElementById("syntaxhighlighteranchor").appendChild(themecss);
		document.getElementsByTagName("head")[0].insertBefore( themecss, document.getElementById("syntaxhighlighteranchor") );
	})();
	SyntaxHighlighter.config.strings.expandSource = '+ expand source';
	SyntaxHighlighter.config.strings.help = '?';
	SyntaxHighlighter.config.strings.alert = 'SyntaxHighlighter\n\n';
	SyntaxHighlighter.config.strings.noBrush = 'Can\'t find brush for: ';
	SyntaxHighlighter.config.strings.brushNotHtmlScript = 'Brush wasn\'t configured for html-script option: ';
	SyntaxHighlighter.defaults['auto-links'] = false;
	SyntaxHighlighter.defaults['pad-line-numbers'] = false;
	SyntaxHighlighter.defaults['toolbar'] = false;
	SyntaxHighlighter.defaults['wrap-lines'] = false;
	SyntaxHighlighter.all();</script> <script type="text/javascript">/* <![CDATA[ */ var click_object = {"ajax_url":"https:\/\/www.baldengineer.com\/wp-admin\/admin-ajax.php"}; /* ]]> */</script> <script type="text/javascript" src="MQTT%20Tutorial%20for%20Raspberry%20Pi,%20Arduino,%20and%20ESP8266%20-%20Bald%20Engineer_files/jquery_002.js"></script> <script type="text/javascript" src="MQTT%20Tutorial%20for%20Raspberry%20Pi,%20Arduino,%20and%20ESP8266%20-%20Bald%20Engineer_files/devicepx-jetpack.js"></script> <script type="text/javascript" src="MQTT%20Tutorial%20for%20Raspberry%20Pi,%20Arduino,%20and%20ESP8266%20-%20Bald%20Engineer_files/gprofiles.js"></script> <script type="text/javascript">/* <![CDATA[ */ var WPGroHo = {"my_hash":""}; /* ]]> */</script> <script type="text/javascript" src="MQTT%20Tutorial%20for%20Raspberry%20Pi,%20Arduino,%20and%20ESP8266%20-%20Bald%20Engineer_files/wpgroho.js"></script> <script type="text/javascript" src="MQTT%20Tutorial%20for%20Raspberry%20Pi,%20Arduino,%20and%20ESP8266%20-%20Bald%20Engineer_files/effect.js"></script> <script type="text/javascript" src="MQTT%20Tutorial%20for%20Raspberry%20Pi,%20Arduino,%20and%20ESP8266%20-%20Bald%20Engineer_files/effect-slide.js"></script> <script type="text/javascript" src="MQTT%20Tutorial%20for%20Raspberry%20Pi,%20Arduino,%20and%20ESP8266%20-%20Bald%20Engineer_files/main.js"></script> <script type="text/javascript" src="MQTT%20Tutorial%20for%20Raspberry%20Pi,%20Arduino,%20and%20ESP8266%20-%20Bald%20Engineer_files/comment-reply.js"></script> <script type="text/javascript" src="MQTT%20Tutorial%20for%20Raspberry%20Pi,%20Arduino,%20and%20ESP8266%20-%20Bald%20Engineer_files/wp-embed.js"></script> <!--[if IE]> <script type="text/javascript">if ( 0 === window.location.hash.indexOf( '#comment-' ) ) {
				// window.location.reload() doesn't respect the Hash in IE
				window.location.hash = window.location.hash;
			}</script> <![endif]--> <script type="text/javascript">(function () {
				var comm_par_el = document.getElementById( 'comment_parent' ),
					comm_par = ( comm_par_el && comm_par_el.value ) ? comm_par_el.value : '',
					frame = document.getElementById( 'jetpack_remote_comment' ),
					tellFrameNewParent;

				tellFrameNewParent = function () {
					if ( comm_par ) {
						frame.src = "https://jetpack.wordpress.com/jetpack-comment/?blogid=55235184&postid=5799&comment_registration=0&require_name_email=1&stc_enabled=1&stb_enabled=1&show_avatars=1&avatar_default=gravatar_default&greeting=Leave+a+comment&greeting_reply=Leave+a+Reply+to+%25s&color_scheme=light&lang=en_US&jetpack_version=6.5&show_cookie_consent=10&has_cookie_consent=0&sig=7f2106de5c23aa18c013957942d4f26c8927222d#parent=https%3A%2F%2Fwww.baldengineer.com%2Fmqtt-tutorial.html" + '&replytocom=' + parseInt( comm_par, 10 ).toString();
					} else {
						frame.src = "https://jetpack.wordpress.com/jetpack-comment/?blogid=55235184&postid=5799&comment_registration=0&require_name_email=1&stc_enabled=1&stb_enabled=1&show_avatars=1&avatar_default=gravatar_default&greeting=Leave+a+comment&greeting_reply=Leave+a+Reply+to+%25s&color_scheme=light&lang=en_US&jetpack_version=6.5&show_cookie_consent=10&has_cookie_consent=0&sig=7f2106de5c23aa18c013957942d4f26c8927222d#parent=https%3A%2F%2Fwww.baldengineer.com%2Fmqtt-tutorial.html";
					}
				};

				
				if ( 'undefined' !== typeof addComment ) {
					addComment._Jetpack_moveForm = addComment.moveForm;

					addComment.moveForm = function ( commId, parentId, respondId, postId ) {
						var returnValue = addComment._Jetpack_moveForm( commId, parentId, respondId, postId ),
							cancelClick, cancel;

						if ( false === returnValue ) {
							cancel = document.getElementById( 'cancel-comment-reply-link' );
							cancelClick = cancel.onclick;
							cancel.onclick = function () {
								var cancelReturn = cancelClick.call( this );
								if ( false !== cancelReturn ) {
									return cancelReturn;
								}

								if ( ! comm_par ) {
									return cancelReturn;
								}

								comm_par = 0;

								tellFrameNewParent();

								return cancelReturn;
							};
						}

						if ( comm_par == parentId ) {
							return returnValue;
						}

						comm_par = parentId;

						tellFrameNewParent();

						return returnValue;
					};
				}

				
				// Do the post message bit after the dom has loaded.
				document.addEventListener( 'DOMContentLoaded', function () {
					var iframe_url = "https:\/\/jetpack.wordpress.com";
					if ( window.postMessage ) {
						if ( document.addEventListener ) {
							window.addEventListener( 'message', function ( event ) {
								var origin = event.origin.replace( /^http:\/\//i, 'https://' );
								if ( iframe_url.replace( /^http:\/\//i, 'https://' ) !== origin ) {
									return;
								}
								jQuery( frame ).height( event.data );
							});
						} else if ( document.attachEvent ) {
							window.attachEvent( 'message', function ( event ) {
								var origin = event.origin.replace( /^http:\/\//i, 'https://' );
								if ( iframe_url.replace( /^http:\/\//i, 'https://' ) !== origin ) {
									return;
								}
								jQuery( frame ).height( event.data );
							});
						}
					}
				})

			})();</script> <script type="text/javascript" src="MQTT%20Tutorial%20for%20Raspberry%20Pi,%20Arduino,%20and%20ESP8266%20-%20Bald%20Engineer_files/e-201840.js" async="async" defer="defer"></script> <script type="text/javascript">_stq = window._stq || [];
	_stq.push([ 'view', {v:'ext',j:'1:6.5',blog:'55235184',post:'5799',tz:'-7',srv:'www.baldengineer.com'} ]);
	_stq.push([ 'clickTrackerInit', '55235184', '5799' ]);</script> <script type="text/javascript">var omapi_localized = { ajax: 'https://www.baldengineer.com/wp-admin/admin-ajax.php?optin-monster-ajax-route=1', nonce: 'b157739f8f', slugs: {"cki5iupzhuhiiq6d":{"slug":"cki5iupzhuhiiq6d","mailpoet":false}} };</script> <script>(function(w, d){
	var b = d.getElementsByTagName("body")[0];
	var s = d.createElement("script"); s.async = true;
	s.src = !("IntersectionObserver" in w) ? "https://www.baldengineer.com/wp-content/plugins/wp-rocket/inc/front/js/lazyload-8.12.min.js" : "https://www.baldengineer.com/wp-content/plugins/wp-rocket/inc/front/js/lazyload-10.12.min.js";
	w.lazyLoadOptions = {
		elements_selector: "img,iframe",
		data_src: "lazy-src",
		data_srcset: "lazy-srcset",
		data_sizes: "lazy-sizes",
		skip_invisible: false,
		class_loading: "lazyloading",
		class_loaded: "lazyloaded",
		threshold: 300,
		callback_load: function(element) {
			if ( element.tagName === "IFRAME" && element.dataset.rocketLazyload == "fitvidscompatible" ) {
				if (element.classList.contains("lazyloaded") ) {
					if (typeof window.jQuery != "undefined") {
						if (jQuery.fn.fitVids) {
							jQuery(element).parent().fitVids();
						}
					}
				}
			}
		}
	}; // Your options here. See "recipes" for more information about async.
	b.appendChild(s);
}(window, document));

// Listen to the Initialized event
window.addEventListener('LazyLoad::Initialized', function (e) {
    // Get the instance and puts it in the lazyLoadInstance variable
	var lazyLoadInstance = e.detail.instance;

	var observer = new MutationObserver(function(mutations) {
		mutations.forEach(function(mutation) {
			lazyLoadInstance.update();
		} );
	} );
	
	var b      = document.getElementsByTagName("body")[0];
	var config = { childList: true, subtree: true };
	
	observer.observe(b, config);
}, false);</script><script async="" src="MQTT%20Tutorial%20for%20Raspberry%20Pi,%20Arduino,%20and%20ESP8266%20-%20Bald%20Engineer_files/lazyload-10.js"></script> <script>function lazyLoadThumb(e){var t='<img src="https://i.ytimg.com/vi/ID/hqdefault.jpg">',a='<div class="play"></div>';return t.replace("ID",e)+a}function lazyLoadYoutubeIframe(){var e=document.createElement("iframe"),t="https://www.youtube.com/embed/ID?autoplay=1";t+=0===this.dataset.query.length?'':'&'+this.dataset.query;e.setAttribute("src",t.replace("ID",this.dataset.id)),e.setAttribute("frameborder","0"),e.setAttribute("allowfullscreen","1"),this.parentNode.replaceChild(e,this)}document.addEventListener("DOMContentLoaded",function(){var e,t,a=document.getElementsByClassName("rll-youtube-player");for(t=0;t<a.length;t++)e=document.createElement("div"),e.setAttribute("data-id",a[t].dataset.id),e.setAttribute("data-query", a[t].dataset.query),e.innerHTML=lazyLoadThumb(a[t].dataset.id),e.onclick=lazyLoadYoutubeIframe,a[t].appendChild(e)});</script> 
<div class="swiftype-widget"><div class="autocomplete" style="position: absolute; z-index: 9999; top: 570.783px; left: 1250.87px; width: 501px; display: none;"><ul></ul></div></div><div style="display:none;" id="photonic-html5-external-videos"></div><div id="ocnav"><div id="ocsearch"><form method="get" action="https://www.baldengineer.com/" role="search"> <label for="s" class="assistive-text">Search</label> <input class="field" name="s" id="" placeholder="" autocomplete="off" type="text"><input class="submit" name="submit" id="" value="Search" type="submit"></form></div><h3>Menu</h3><ul id="" class="menu"><li id="menu-item-3339" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-3339"><a href="https://www.baldengineer.com/appearances">Articles</a></li><li id="menu-item-2809" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-2809"><a href="https://www.baldengineer.com/about">About</a></li><li id="menu-item-4775" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-4775"><a href="http://www.addohms.com/">AddOhms</a></li><li id="menu-item-7203" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-7203"><a href="https://www.baldengineer.com/privacy-policy">Privacy Policy</a></li></ul><h3>Categories</h3><ul id="" class="menu"><li id="menu-item-2849" class="menu-item menu-item-type-taxonomy menu-item-object-category current-post-ancestor current-menu-parent current-post-parent menu-item-2849"><a href="https://www.baldengineer.com/category/blog">Blog</a></li><li id="menu-item-3356" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-3356"><a href="https://www.baldengineer.com/category/reviews">Reviews</a></li><li id="menu-item-3347" class="menu-item menu-item-type-taxonomy menu-item-object-category current-post-ancestor current-menu-parent current-post-parent menu-item-3347"><a href="https://www.baldengineer.com/category/tutorials">Tutorials</a></li><li id="menu-item-5441" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-5441"><a href="https://www.baldengineer.com/category/projects">Projects</a></li><li id="menu-item-2855" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-2855"><a href="https://www.baldengineer.com/category/tutorials/electronics-basics">Basics</a></li><li id="menu-item-2853" class="menu-item menu-item-type-taxonomy menu-item-object-category current-post-ancestor current-menu-parent current-post-parent menu-item-2853"><a href="https://www.baldengineer.com/category/tutorials/arduino">Arduino</a></li><li id="menu-item-5284" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-5284"><a href="https://www.baldengineer.com/millis-cookbook.html">millis() Examples</a></li><li id="menu-item-6088" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-6088"><a href="https://www.baldengineer.com/?s=kicad&amp;submit=Search">KiCad</a></li><li id="menu-item-6451" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-6451"><a href="https://www.baldengineer.com/?s=mqtt">MQTT</a></li></ul><h3 class="widget-title">Follow James</h3><ul><li><a class="twitter" href="http://twitter.com/baldengineer" onclick="_gaq.push(['_trackPageview', '/outbound/twitter/sociallist/']);" target="_blank"><i></i>Follow me on Twitter</a></li><li><a class="facebook" href="http://www.facebook.com/baldengineer" onclick="_gaq.push(['_trackPageview', '/outbound/facebook/sociallist/']);" target="_blank"><i></i>Like me on Facebook</a></li><li><a class="linkedin" href="http://www.linkedin.com/in/jamesclewis" onclick="_gaq.push(['_trackPageview', '/outbound/linkedin/sociallist/']);" target="_blank"><i></i>Connect with me on LinkedIn</a></li><li><a class="googleplus" href="http://plus.google.com/+JamesLewis_the_baldengineer/" onclick="_gaq.push(['_trackPageview', '/outbound/googleplus/sociallist/']);" rel="publisher" target="_blank"><i></i>Add me on Google+</a></li><li><a class="instagram" href="http://instagram.com/baldengineer" onclick="_gaq.push(['_trackPageview', '/outbound/instagram/sociallist/']);" target="_blank"><i></i>Follow me on Instagram</a></li><li><a class="youtube" href="http://www.youtube.com/AddOhms" onclick="_gaq.push(['_trackPageview', '/outbound/youtube/sociallist/']);" target="_blank"><i></i>Check out my YouTube channel</a></li><li><a class="rssfeed" href="https://www.baldengineer.com/feed" onclick="_gaq.push(['_trackPageview', '/outbound/rssfeed/sociallist/']);" target="_blank"><i></i>Subscribe to my RSS Feed</a></li></ul></div><div id="machete_cookie_container" class="machete_cookie_container" style="position: fixed; z-index: 99999; bottom: 0px; width: 100%;"><style>.machete_cookie_container{background-color:#111;background-color:rgba(0,0,0,0.85);}.machete_cookie_bar{padding:15px;margin-left:auto;margin-right:auto;max-width:1050px;font-family:sans-serif;font-size:13px;color:#ccc;}.machete_accept_cookie_btn{cursor:pointer;text-decoration:none;display:block;padding:5px 10px;float:right;margin-left:10px;white-space:nowrap;border-radius:4px;background-color:#999;border-bottom:2px solid #000;color:#000}@media(min-width:1024px){.machete_cookie_bar{}.machete_accept_cookie_btn{margin: -5px 0 0 10px}}</style><div id="machete_cookie_bar" class="machete_cookie_bar"><a id="machete_accept_cookie_btn" class="machete_accept_cookie_btn">Accept cookies</a> By continuing to browse the site, you are agreeing to our use of cookies as described in our <a href="https://www.baldengineer.com/privacy-policy/" style="color: #007FFF">privacy policy</a>.</div></div><iframe data-olark="true" aria-hidden="true" style="width: 0px; height: 0px; position: absolute; left: 0px; bottom: 0px; border: medium none;" class="lazyloading" data-was-processed="true"></iframe><div data-olark="true" id="hbl-live-chat-wrapper" title="Olark Live Chat Widget"><div id="olark-wrapper" class="" data-reactid=".0"><div aria-live="assertive" aria-atomic="true" role="alert" id="chat-box-announcer" style="position:absolute;visibility:visible;overflow:hidden;display:block;width:1px;height:1px;margin:-1px;border:0px;padding:0px;clip:rect(0px, 0px, 0px, 0px);clip-path:polygon(0px 0px, 0px 0px, 0px 0px, 0px 0px);white-space:nowrap;" data-reactid=".0.0"><p data-reactid=".0.0.0"></p></div><style rel="stylesheet" type="text/css" data-reactid=".0.1">#olark-wrapper #olark-container .olark-button {
  background-color: #5ba0d0 !important;
  color: #ffffff !important;
}
#olark-wrapper #olark-container .olark-button:hover {
  background-color: #4993ca !important;
}
#olark-wrapper #olark-container .olark-theme-bg {
  background-color: #5ba0d0 !important;
}
#olark-wrapper #olark-container .olark-theme-text {
  color: #ffffff !important;
}
#olark-wrapper .olark-launch-button {
  background-color: #5ba0d0 !important;
}
#olark-wrapper .olark-launch-button svg path {
  fill: #ffffff !important;
}
#olark-wrapper .olark-launch-button .olark-button-text {
  color: #ffffff !important;
}
#olark-wrapper .olark-top-bar {
  background-color: #5ba0d0 !important;
  color: #ffffff !important;
  border-color: #4993ca !important;
}
#olark-wrapper .olark-top-bar-text {
  color: #ffffff !important;
}
#olark-wrapper .olark-top-bar-arrow {
  fill: #ffffff !important;
}
#olark-wrapper .olark-end-chat-button {
  color: #ffffff !important;
  background-color: rgba(56, 135, 194, 0.5) !important;
}
#olark-wrapper .olark-end-chat-button:hover {
  background-color: #3887c2 !important;
}
#olark-wrapper #olark-container .olark-visitor-message:not(.olark-message-trans-bg) {
  background-color: rgba(91, 160, 208, 0.25) !important;
}
#olark-wrapper #olark-container .olark-form-send-button {
  background-color: #5ba0d0 !important;
  color: #ffffff !important;
}
#olark-wrapper #olark-container .olark-feedback-form-button {
  background-color: #5ba0d0 !important;
  color: #ffffff !important;
}
#olark-wrapper #olark-container .olark-restart-button {
  background-color: #5ba0d0 !important;
  color: #ffffff !important;
}
#olark-wrapper #olark-container .olark-branding-panel .olark-branding-cancel-button {
  background-color: #5ba0d0 !important;
  border: none !important;
  color: #ffffff !important;
}
#olark-wrapper #olark-container .olark-branding-panel .olark-branding-go-button {
  border: none !important;
  background: rgba(91, 160, 208, 0.35) !important;
}
#olark-wrapper #olark-container .olark-send-transcript-container .olark-send-transcript-form.olark-inline-form-valid .olark-form-input-container {
  border-color: #5ba0d0 !important;
}
#olark-wrapper #olark-container .olark-send-transcript-container .olark-send-transcript-form.olark-inline-form-valid .olark-send-icon {
  fill: #5ba0d0 !important;
}
#olark-wrapper #olark-container .olark-visitor-message:not(.olark-message-has-border) {
  border: none !important;
}
#olark-wrapper .olark-end-chat-flag {
  fill: #5ba0d0 !important;
}
#olark-wrapper #olark-container .olark-form-confirmation-icon .olark-launch-button-icon {
  fill: #5ba0d0 !important;
}
#olark-wrapper #olark-container .olark-form-input:focus {
  border-color: #5ba0d0 !important;
}
#olark-wrapper #olark-container .olark-form-message-input:focus {
  border-color: #5ba0d0 !important;
}
</style><noscript data-reactid=".0.2"></noscript><button class="olark-launch-button olark-bottom-left olark-size-sm" tabindex="0" role="button" aria-hidden="false" data-reactid=".0.4"><svg x="0px" y="0px" viewBox="0 0 28 18" aria-label="small picture of an envelope signifying email" role="img" data-reactid=".0.4.0"><title data-reactid=".0.4.0.0">Envelope Icon</title><desc data-reactid=".0.4.0.1">small picture of an envelope signifying email</desc><path fill="#ffffff" d="M28,3.2C28,1.5,26.5,0,24.8,0H3.2C1.5,0,0,1.5,0,3.2v11.5C0,16.5,1.5,18,3.2,18h21.5c1.8,0,3.2-1.5,3.2-3.2 V3.2z M24.7,14.8c-0.2,0.1-0.4,0.2-0.6,0.2c-0.2,0-0.4-0.1-0.6-0.3l-5-5.3l-3.6,3c-0.3,0.2-0.6,0.3-0.9,0.3s-0.7-0.1-0.9-0.4l-3.6-3 l-5,5.3c-0.2,0.2-0.4,0.3-0.6,0.3c-0.2,0-0.4-0.1-0.6-0.2c-0.3-0.3-0.4-0.8,0-1.2l4.9-5.3L3.3,4.5C3,4.2,2.9,3.6,3.2,3.3 C3.5,2.9,4,2.9,4.4,3.2l9.6,7.9l9.6-7.9c0.4-0.3,0.9-0.2,1.2,0.1c0.3,0.4,0.2,0.9-0.1,1.2l-4.8,3.9l4.9,5.3 C25.1,14,25,14.5,24.7,14.8z" data-reactid=".0.4.0.2"></path></svg><div class="olark-notification-badge olark-hidden" data-reactid=".0.4.1"><div class="olark-notification-badge-text" data-reactid=".0.4.1.0">0</div></div><div class="olark-button-text olark-hidden" data-reactid=".0.4.2">Send James A Question (Offline)</div></button><div id="olark-container" class="olark-hidden olark-bottom-left olark-size-sm" aria-hidden="true" role="complementary" data-reactid=".0.5"><div class="olark-top-bar" data-reactid=".0.5.0"><div class="olark-top-bar-text" data-reactid=".0.5.0.0">Send James A Question (Offline)</div><div class="olark-top-bar-button" role="button" tabindex="-1" aria-hidden="true" aria-label="Minimize Chat" data-reactid=".0.5.0.1"><svg viewBox="0 0 15.1 8.9" fill="#ffffff" aria-label="a small down arrow to minimize chat box" role="img" data-reactid=".0.5.0.1.0"><title data-reactid=".0.5.0.1.0.0">Arrow Down</title><desc data-reactid=".0.5.0.1.0.1">a small down arrow to minimize chat box</desc><polygon class="olark-top-bar-arrow" points="0.2,1.4 7.6,8.9 15.1,1.4 13.7,0 7.6,6 1.6,0" data-reactid=".0.5.0.1.0.2"></polygon></svg></div></div><div class="olark-conversation-container olark-form-conversation-container olark-no-message-form olark-offline-message-container" id="olark-offline-form" data-reactid=".0.5.1"><div class="olark-form-message" data-reactid=".0.5.1.0">James
 isn't around, but you can still send a question. For project help, post
 it on a public forum and send me a link. (sorry, but I don't help with 
homework problems.)</div><div class="olark-form-container" data-reactid=".0.5.1.1"><form class="olark-form" novalidate="" role="form" data-reactid=".0.5.1.1.0"><div class="olark-form-input-container" data-reactid=".0.5.1.1.0.0:$fname"><input name="fname" class="olark-form-input" id="olark-form-input-fname" placeholder="" tabindex="-1" aria-hidden="true" aria-invalid="false" autocomplete="on" required="" aria-required="true" aria-label="click here and type your Name" data-reactid=".0.5.1.1.0.0:$fname.0" type="text"><label class="olark-float-label" for="olark-form-input-fname" data-reactid=".0.5.1.1.0.0:$fname.1">click here and type your Name</label><span class="olark-required-asterisk" data-reactid=".0.5.1.1.0.0:$fname.2"><svg viewBox="0 0 20 20" x="0" y="0" fill="currentcolor" aria-label="required asterisk signifies that this field can not be left blank" role="img" data-reactid=".0.5.1.1.0.0:$fname.2.0"><title data-reactid=".0.5.1.1.0.0:$fname.2.0.0">Required Asterisk</title><desc data-reactid=".0.5.1.1.0.0:$fname.2.0.1">signifies that this field can not be left blank</desc><path d="M10,0C4.5,0,0,4.5,0,10c0,5.5,4.5,10,10,10s10-4.5,10-10C20,4.5,15.5,0,10,0z M13.8,13.6L12,15l-2-3L8,15l-1.8-1.4l2-2.8 L5,9.6l0.8-2.2L9,8.6L8.8,5h2.4L11,8.6l3.2-1.3L15,9.6l-3.2,1.1L13.8,13.6z" data-reactid=".0.5.1.1.0.0:$fname.2.0.2"></path></svg></span></div><div class="olark-form-input-container" data-reactid=".0.5.1.1.0.0:$email"><input name="email" class="olark-form-input" id="olark-form-input-email" placeholder="" tabindex="-1" aria-hidden="true" aria-invalid="false" autocomplete="on" required="" aria-required="true" aria-label="click here and type your Email" data-reactid=".0.5.1.1.0.0:$email.0" type="email"><label class="olark-float-label" for="olark-form-input-email" data-reactid=".0.5.1.1.0.0:$email.1">click here and type your Email</label><span class="olark-required-asterisk" data-reactid=".0.5.1.1.0.0:$email.2"><svg viewBox="0 0 20 20" x="0" y="0" fill="currentcolor" aria-label="required asterisk signifies that this field can not be left blank" role="img" data-reactid=".0.5.1.1.0.0:$email.2.0"><title data-reactid=".0.5.1.1.0.0:$email.2.0.0">Required Asterisk</title><desc data-reactid=".0.5.1.1.0.0:$email.2.0.1">signifies that this field can not be left blank</desc><path d="M10,0C4.5,0,0,4.5,0,10c0,5.5,4.5,10,10,10s10-4.5,10-10C20,4.5,15.5,0,10,0z M13.8,13.6L12,15l-2-3L8,15l-1.8-1.4l2-2.8 L5,9.6l0.8-2.2L9,8.6L8.8,5h2.4L11,8.6l3.2-1.3L15,9.6l-3.2,1.1L13.8,13.6z" data-reactid=".0.5.1.1.0.0:$email.2.0.2"></path></svg></span></div><div class="olark-form-input-container" data-reactid=".0.5.1.1.0.0:$body"><div data-reactid=".0.5.1.1.0.0:$body.0"><div class="olark-form-message-input olark-clone-textarea" data-reactid=".0.5.1.1.0.0:$body.0.0" style="width: 218px !important; overflow-wrap: break-word;">James
 isn't around, but you can still send a question. For project help, post
 it on a public forum and send me a link. (sorry, but I don't help with 
homework problems.)</div><textarea class="olark-form-message-input" tabindex="-1" aria-hidden="true" aria-invalid="false" name="body" id="olark-form-input-body" placeholder="James isn't around, but you can still send a question. For project help, post it on a public forum and send me a link. (sorry, but I don't help with homework problems.)" title="James isn't around, but you can still send a question. For project help, post it on a public forum and send me a link. (sorry, but I don't help with homework problems.)" required="" aria-required="true" aria-label="James isn't around, but you can still send a question. For project help, post it on a public forum and send me a link. (sorry, but I don't help with homework problems.)" data-reactid=".0.5.1.1.0.0:$body.0.1" style="height: 100px !important;"></textarea></div><span class="olark-required-asterisk" data-reactid=".0.5.1.1.0.0:$body.2"><svg viewBox="0 0 20 20" x="0" y="0" fill="currentcolor" aria-label="required asterisk signifies that this field can not be left blank" role="img" data-reactid=".0.5.1.1.0.0:$body.2.0"><title data-reactid=".0.5.1.1.0.0:$body.2.0.0">Required Asterisk</title><desc data-reactid=".0.5.1.1.0.0:$body.2.0.1">signifies that this field can not be left blank</desc><path d="M10,0C4.5,0,0,4.5,0,10c0,5.5,4.5,10,10,10s10-4.5,10-10C20,4.5,15.5,0,10,0z M13.8,13.6L12,15l-2-3L8,15l-1.8-1.4l2-2.8 L5,9.6l0.8-2.2L9,8.6L8.8,5h2.4L11,8.6l3.2-1.3L15,9.6l-3.2,1.1L13.8,13.6z" data-reactid=".0.5.1.1.0.0:$body.2.0.2"></path></svg></span></div><button class="olark-form-send-button" type="submit" aria-hidden="true" tabindex="-1" data-reactid=".0.5.1.1.0.2">Send</button></form></div></div><noscript data-reactid=".0.5.4"></noscript><div class="olark-branding-link" data-reactid=".0.5.5"><a role="button" aria-hidden="true" tabindex="-1" data-reactid=".0.5.5.0">Powered by Olark</a></div></div></div></div><img src="MQTT%20Tutorial%20for%20Raspberry%20Pi,%20Arduino,%20and%20ESP8266%20-%20Bald%20Engineer_files/g.gif" alt=":)" id="wpstats" width="6" height="5"></body></html>
<!-- This website is like a Rocket, isn't it? Performance optimized by WP Rocket. Learn more: https://wp-rocket.me - Debug: cached@1538737508 -->